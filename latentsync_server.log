2025-07-26 23:37:42,310 - INFO - MainProcess - Starting Flask service...
2025-07-26 23:37:42,310 - INFO - MainProcess - Loading configuration file...
2025-07-26 23:37:42,323 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-26 23:37:42,323 - INFO - MainProcess - Loading model components...
2025-07-26 23:42:23,697 - INFO - MainProcess - Starting Flask service...
2025-07-26 23:42:23,697 - INFO - MainProcess - Loading configuration file...
2025-07-26 23:42:23,711 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-26 23:42:23,711 - INFO - MainProcess - Loading model components...
2025-07-26 23:42:33,242 - INFO - MainProcess - All components loaded successfully.
2025-07-26 23:42:33,242 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-26 23:43:06,657 - INFO - MainProcess - Preprocessed 776 frames from video: assets/WeChat_20250106160900.mp4
2025-07-26 23:43:06,733 - INFO - MainProcess - Pipeline initialized on cuda:0. Server is ready.
2025-07-26 23:43:06,733 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:5001
2025-07-26 23:43:06,892 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://117.74.66.188:5001
2025-07-26 23:43:06,892 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-26 23:43:15,193 - INFO - MainProcess - Received a request to /generate_video.
2025-07-26 23:43:15,195 - INFO - MainProcess - Received audio file: Wavfile_1719704064_11.wav
2025-07-26 23:43:15,196 - INFO - MainProcess - Audio file saved temporarily to: /tmp/tmp_nsxsp_h.wav
2025-07-26 23:43:15,196 - INFO - MainProcess - Starting pipeline with parameters: guidance_scale=1.0, inference_steps=10
2025-07-26 23:43:18,829 - ERROR - MainProcess - 数据块 0 处理失败，结果为空。
2025-07-26 23:43:18,909 - ERROR - MainProcess - 数据块 1 处理失败，结果为空。
2025-07-26 23:43:18,974 - ERROR - MainProcess - 数据块 2 处理失败，结果为空。
2025-07-26 23:43:19,039 - ERROR - MainProcess - 数据块 3 处理失败，结果为空。
2025-07-26 23:43:19,111 - ERROR - MainProcess - 数据块 4 处理失败，结果为空。
2025-07-26 23:43:19,151 - ERROR - MainProcess - 数据块 5 处理失败，结果为空。
2025-07-26 23:43:19,680 - INFO - MainProcess - 多GPU并行推理在 4.30 秒内完成
2025-07-26 23:43:19,680 - ERROR - MainProcess - 所有任务都处理失败，无法生成视频。
2025-07-26 23:43:19,681 - INFO - MainProcess - Request for 'Wavfile_1719704064_11.wav' completed successfully.
2025-07-26 23:43:19,681 - INFO - MainProcess - Temporary audio file /tmp/tmp_nsxsp_h.wav cleaned up.
2025-07-26 23:43:19,682 - INFO - MainProcess - 127.0.0.1 - - [26/Jul/2025 23:43:19] "POST /generate_video HTTP/1.1" 200 -
2025-07-26 23:46:43,890 - INFO - MainProcess - Starting Flask service...
2025-07-26 23:46:43,891 - INFO - MainProcess - Loading configuration file...
2025-07-26 23:46:43,904 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-26 23:46:43,904 - INFO - MainProcess - Loading model components...
2025-07-26 23:46:53,593 - INFO - MainProcess - All components loaded successfully.
2025-07-26 23:46:53,593 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-26 23:47:26,875 - INFO - MainProcess - Preprocessed 776 frames from video: assets/WeChat_20250106160900.mp4
2025-07-26 23:47:26,948 - INFO - MainProcess - Pipeline initialized on cuda:0. Server is ready.
2025-07-26 23:47:26,948 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:5001
2025-07-26 23:47:27,323 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://117.74.66.188:5001
2025-07-26 23:47:27,323 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-26 23:47:32,488 - INFO - MainProcess - Received a request to /generate_video.
2025-07-26 23:47:32,489 - INFO - MainProcess - Received audio file: Wavfile_1719704064_11.wav
2025-07-26 23:47:32,490 - INFO - MainProcess - Audio file saved temporarily to: /tmp/tmpnulo35yp.wav
2025-07-26 23:47:32,490 - INFO - MainProcess - Starting pipeline with parameters: guidance_scale=1.0, inference_steps=10
2025-07-26 23:47:38,774 - ERROR - MainProcess - 数据块 0 处理失败，结果为空。
2025-07-26 23:47:40,081 - ERROR - MainProcess - 数据块 1 处理失败，结果为空。
2025-07-26 23:47:41,385 - ERROR - MainProcess - 数据块 2 处理失败，结果为空。
2025-07-26 23:47:42,646 - ERROR - MainProcess - 数据块 3 处理失败，结果为空。
2025-07-26 23:47:43,919 - ERROR - MainProcess - 数据块 4 处理失败，结果为空。
2025-07-26 23:47:45,225 - ERROR - MainProcess - 数据块 5 处理失败，结果为空。
2025-07-26 23:47:45,844 - INFO - MainProcess - 多GPU并行推理在 13.17 秒内完成
2025-07-26 23:47:45,844 - ERROR - MainProcess - 所有任务都处理失败，无法生成视频。
2025-07-26 23:47:45,845 - INFO - MainProcess - Request for 'Wavfile_1719704064_11.wav' completed successfully.
2025-07-26 23:47:45,845 - INFO - MainProcess - Temporary audio file /tmp/tmpnulo35yp.wav cleaned up.
2025-07-26 23:47:45,846 - INFO - MainProcess - 127.0.0.1 - - [26/Jul/2025 23:47:45] "POST /generate_video HTTP/1.1" 200 -
2025-07-26 23:48:16,613 - INFO - MainProcess - Received a request to /generate_video.
2025-07-26 23:48:16,614 - INFO - MainProcess - Received audio file: Wavfile_1719704064_11.wav
2025-07-26 23:48:16,615 - INFO - MainProcess - Audio file saved temporarily to: /tmp/tmpr2oxkqal.wav
2025-07-26 23:48:16,615 - INFO - MainProcess - Starting pipeline with parameters: guidance_scale=1.0, inference_steps=10
2025-07-26 23:48:22,321 - ERROR - MainProcess - 数据块 0 处理失败，结果为空。
2025-07-26 23:48:23,606 - ERROR - MainProcess - 数据块 1 处理失败，结果为空。
2025-07-26 23:48:24,881 - ERROR - MainProcess - 数据块 2 处理失败，结果为空。
2025-07-26 23:48:26,242 - ERROR - MainProcess - 数据块 3 处理失败，结果为空。
2025-07-26 23:48:27,614 - ERROR - MainProcess - 数据块 4 处理失败，结果为空。
2025-07-26 23:48:28,867 - ERROR - MainProcess - 数据块 5 处理失败，结果为空。
2025-07-26 23:48:29,497 - INFO - MainProcess - 多GPU并行推理在 12.77 秒内完成
2025-07-26 23:48:29,497 - ERROR - MainProcess - 所有任务都处理失败，无法生成视频。
2025-07-26 23:48:29,498 - INFO - MainProcess - Request for 'Wavfile_1719704064_11.wav' completed successfully.
2025-07-26 23:48:29,498 - INFO - MainProcess - Temporary audio file /tmp/tmpr2oxkqal.wav cleaned up.
2025-07-26 23:48:29,498 - INFO - MainProcess - 127.0.0.1 - - [26/Jul/2025 23:48:29] "POST /generate_video HTTP/1.1" 200 -
2025-07-26 23:53:07,075 - INFO - MainProcess - Starting Flask service...
2025-07-26 23:53:07,075 - INFO - MainProcess - Loading configuration file...
2025-07-26 23:53:07,088 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-26 23:53:07,088 - INFO - MainProcess - Loading model components...
2025-07-26 23:53:17,526 - INFO - MainProcess - All components loaded successfully.
2025-07-26 23:53:17,526 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-26 23:53:50,797 - INFO - MainProcess - Preprocessed 776 frames from video: assets/WeChat_20250106160900.mp4
2025-07-26 23:53:50,872 - INFO - MainProcess - Pipeline initialized on cuda:0. Server is ready.
2025-07-26 23:53:50,872 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:5001
2025-07-26 23:53:50,956 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://117.74.66.188:5001
2025-07-26 23:53:50,956 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-26 23:53:54,559 - INFO - MainProcess - Received a request to /generate_video.
2025-07-26 23:53:54,560 - INFO - MainProcess - Received audio file: Wavfile_1719704064_11.wav
2025-07-26 23:53:54,561 - INFO - MainProcess - Audio file saved temporarily to: /tmp/tmpn95l1iuh.wav
2025-07-26 23:53:54,561 - INFO - MainProcess - Starting pipeline with parameters: guidance_scale=1.0, inference_steps=10
2025-07-26 23:54:08,050 - ERROR - MainProcess - 数据块 0 处理失败，结果为空。
2025-07-26 23:54:16,737 - ERROR - MainProcess - 数据块 1 处理失败，结果为空。
2025-07-26 23:54:25,243 - ERROR - MainProcess - 数据块 2 处理失败，结果为空。
2025-07-26 23:54:33,667 - ERROR - MainProcess - 数据块 3 处理失败，结果为空。
2025-07-26 23:54:41,954 - ERROR - MainProcess - 数据块 4 处理失败，结果为空。
2025-07-26 23:54:49,980 - ERROR - MainProcess - 数据块 5 处理失败，结果为空。
2025-07-26 23:54:50,668 - INFO - MainProcess - 多GPU并行推理在 55.93 秒内完成
2025-07-26 23:54:50,668 - ERROR - MainProcess - 所有任务都处理失败，无法生成视频。
2025-07-26 23:54:50,669 - INFO - MainProcess - Request for 'Wavfile_1719704064_11.wav' completed successfully.
2025-07-26 23:54:50,669 - INFO - MainProcess - Temporary audio file /tmp/tmpn95l1iuh.wav cleaned up.
2025-07-26 23:54:50,670 - INFO - MainProcess - 127.0.0.1 - - [26/Jul/2025 23:54:50] "POST /generate_video HTTP/1.1" 200 -
2025-07-26 23:58:38,509 - INFO - MainProcess - Starting Flask service...
2025-07-26 23:58:38,509 - INFO - MainProcess - Loading configuration file...
2025-07-26 23:58:38,522 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-26 23:58:38,522 - INFO - MainProcess - Loading model components...
2025-07-26 23:58:47,915 - INFO - MainProcess - All components loaded successfully.
2025-07-26 23:58:47,916 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-26 23:59:20,728 - INFO - MainProcess - Preprocessed 776 frames from video: assets/WeChat_20250106160900.mp4
2025-07-26 23:59:20,805 - INFO - MainProcess - Pipeline initialized on cuda:0. Server is ready.
2025-07-26 23:59:20,805 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:5001
2025-07-26 23:59:20,924 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://117.74.66.188:5001
2025-07-26 23:59:20,924 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-26 23:59:32,401 - INFO - MainProcess - Received a request to /generate_video.
2025-07-26 23:59:32,403 - INFO - MainProcess - Received audio file: Wavfile_1719704064_11.wav
2025-07-26 23:59:32,404 - INFO - MainProcess - Audio file saved temporarily to: /tmp/tmppciw6y4w.wav
2025-07-26 23:59:32,404 - INFO - MainProcess - Starting pipeline with parameters: guidance_scale=1.0, inference_steps=10
2025-07-27 00:00:18,720 - INFO - SpawnProcess-1 - Preprocessed 776 frames from video: assets/WeChat_20250106160900.mp4
2025-07-27 00:00:18,785 - ERROR - MainProcess - 数据块 0 处理失败，结果为空。
2025-07-27 00:00:54,404 - INFO - SpawnProcess-1 - Preprocessed 776 frames from video: assets/WeChat_20250106160900.mp4
2025-07-27 00:00:54,548 - ERROR - MainProcess - 数据块 1 处理失败，结果为空。
2025-07-27 00:01:28,974 - INFO - SpawnProcess-1 - Preprocessed 776 frames from video: assets/WeChat_20250106160900.mp4
2025-07-27 00:01:29,117 - ERROR - MainProcess - 数据块 2 处理失败，结果为空。
2025-07-27 00:01:40,644 - INFO - MainProcess - Temporary audio file /tmp/tmppciw6y4w.wav cleaned up.
2025-07-27 00:18:12,888 - INFO - MainProcess - Starting Flask service...
2025-07-27 00:18:12,888 - INFO - MainProcess - Loading configuration file...
2025-07-27 00:18:12,902 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-27 00:18:12,902 - INFO - MainProcess - Loading model components...
2025-07-27 00:18:23,458 - INFO - MainProcess - All components loaded successfully.
2025-07-27 00:18:23,458 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-27 00:18:56,502 - INFO - MainProcess - Preprocessed 776 frames from video: assets/WeChat_20250106160900.mp4
2025-07-27 00:18:56,570 - INFO - MainProcess - Pipeline initialized on cuda:0. Server is ready.
2025-07-27 00:18:56,570 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:5001
2025-07-27 00:18:56,675 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://117.74.66.188:5001
2025-07-27 00:18:56,675 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-27 00:19:00,624 - INFO - MainProcess - Received a request to /generate_video.
2025-07-27 00:19:00,625 - INFO - MainProcess - Received audio file: Wavfile_1719704064_11.wav
2025-07-27 00:19:00,626 - INFO - MainProcess - Audio file saved temporarily to: /tmp/tmp36ch2sn7.wav
2025-07-27 00:19:00,626 - INFO - MainProcess - Starting pipeline with parameters: guidance_scale=1.0, inference_steps=10
2025-07-27 00:19:19,096 - ERROR - MainProcess - 数据块 0 处理失败，结果为空。
2025-07-27 00:19:20,035 - ERROR - MainProcess - 数据块 2 处理失败，结果为空。
2025-07-27 00:19:31,205 - ERROR - MainProcess - 数据块 3 处理失败，结果为空。
2025-07-27 00:19:53,228 - INFO - SpawnProcess-1 - Preprocessed 776 frames from video: assets/WeChat_20250106160900.mp4
2025-07-27 00:19:53,296 - ERROR - MainProcess - 数据块 1 处理失败，结果为空。
2025-07-27 00:20:07,955 - INFO - SpawnProcess-3 - Preprocessed 776 frames from video: assets/WeChat_20250106160900.mp4
2025-07-27 00:20:08,118 - ERROR - MainProcess - 数据块 4 处理失败，结果为空。
2025-07-27 00:20:17,555 - INFO - SpawnProcess-2 - Preprocessed 776 frames from video: assets/WeChat_20250106160900.mp4
2025-07-27 00:20:17,717 - ERROR - MainProcess - 数据块 5 处理失败，结果为空。
2025-07-27 00:20:19,131 - INFO - MainProcess - 多GPU并行推理在 78.33 秒内完成
2025-07-27 00:20:19,132 - ERROR - MainProcess - 所有任务都处理失败，无法生成视频。
2025-07-27 00:20:19,134 - INFO - MainProcess - Request for 'Wavfile_1719704064_11.wav' completed successfully.
2025-07-27 00:20:19,135 - INFO - MainProcess - Temporary audio file /tmp/tmp36ch2sn7.wav cleaned up.
2025-07-27 00:20:19,136 - INFO - MainProcess - 127.0.0.1 - - [27/Jul/2025 00:20:19] "POST /generate_video HTTP/1.1" 200 -
2025-07-27 00:51:33,171 - INFO - MainProcess - Starting Flask service...
2025-07-27 00:51:33,172 - INFO - MainProcess - Loading configuration file...
2025-07-27 00:51:33,185 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-27 00:51:33,185 - INFO - MainProcess - Loading model components...
2025-07-27 00:51:43,334 - INFO - MainProcess - All components loaded successfully.
2025-07-27 00:51:43,334 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-27 00:51:43,408 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-27 00:51:43,408 - INFO - MainProcess - Preprocessing video file: assets/WeChat_20250106160900.mp4...
2025-07-27 00:58:05,288 - INFO - MainProcess - Starting Flask service...
2025-07-27 00:58:05,288 - INFO - MainProcess - Loading configuration file...
2025-07-27 00:58:05,301 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-27 00:58:05,301 - INFO - MainProcess - Loading model components...
2025-07-27 00:58:15,013 - INFO - MainProcess - All components loaded successfully.
2025-07-27 00:58:15,014 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-27 00:58:15,087 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-27 00:58:15,087 - INFO - MainProcess - Preprocessing video file: assets/WeChat_20250106160900.mp4...
2025-07-27 01:03:14,152 - INFO - MainProcess - Starting Flask service...
2025-07-27 01:03:14,152 - INFO - MainProcess - Loading configuration file...
2025-07-27 01:03:14,166 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-27 01:03:14,166 - INFO - MainProcess - Loading model components...
2025-07-27 01:03:23,987 - INFO - MainProcess - All components loaded successfully.
2025-07-27 01:03:23,988 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-27 01:03:24,059 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-27 01:03:24,060 - INFO - MainProcess - Preprocessing video file: assets/WeChat_20250106160900.mp4...
2025-07-27 01:03:57,821 - INFO - MainProcess - Video preprocessed successfully. Found 776 frames/faces.
2025-07-27 01:03:57,822 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:5001
2025-07-27 01:03:57,917 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://117.74.66.188:5001
2025-07-27 01:03:57,917 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-27 01:04:02,579 - INFO - MainProcess - Received a request to /generate_video.
2025-07-27 01:04:02,581 - INFO - MainProcess - Received audio file: Wavfile_1719704064_11.wav
2025-07-27 01:04:02,581 - INFO - MainProcess - Audio file saved temporarily to: /tmp/tmp4sja9qe_.wav
2025-07-27 01:04:02,582 - INFO - MainProcess - Starting pipeline with parameters: guidance_scale=1.0, inference_steps=10
2025-07-27 01:04:15,879 - ERROR - MainProcess - 数据块 0 处理失败，结果为空。
2025-07-27 01:04:16,153 - ERROR - MainProcess - 数据块 1 处理失败，结果为空。
2025-07-27 01:04:16,315 - ERROR - MainProcess - 数据块 2 处理失败，结果为空。
2025-07-27 01:04:24,354 - ERROR - MainProcess - 数据块 3 处理失败，结果为空。
2025-07-27 01:04:24,707 - ERROR - MainProcess - 数据块 5 处理失败，结果为空。
2025-07-27 01:04:24,718 - ERROR - MainProcess - 数据块 4 处理失败，结果为空。
2025-07-27 01:04:25,751 - INFO - MainProcess - 多GPU并行推理在 22.99 秒内完成
2025-07-27 01:04:25,751 - ERROR - MainProcess - 所有任务都处理失败，无法生成视频。
2025-07-27 01:04:25,752 - INFO - MainProcess - Request for 'Wavfile_1719704064_11.wav' completed successfully.
2025-07-27 01:04:25,753 - INFO - MainProcess - Temporary audio file /tmp/tmp4sja9qe_.wav cleaned up.
2025-07-27 01:04:25,754 - INFO - MainProcess - 127.0.0.1 - - [27/Jul/2025 01:04:25] "POST /generate_video HTTP/1.1" 200 -
2025-07-27 01:08:41,326 - INFO - MainProcess - Starting Flask service...
2025-07-27 01:08:41,326 - INFO - MainProcess - Loading configuration file...
2025-07-27 01:08:41,339 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-27 01:08:41,339 - INFO - MainProcess - Loading model components...
2025-07-27 01:08:50,969 - INFO - MainProcess - All components loaded successfully.
2025-07-27 01:08:50,970 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-27 01:10:37,223 - INFO - MainProcess - Starting Flask service...
2025-07-27 01:10:37,223 - INFO - MainProcess - Loading configuration file...
2025-07-27 01:10:37,236 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-27 01:10:37,237 - INFO - MainProcess - Loading model components...
2025-07-27 01:10:47,307 - INFO - MainProcess - All components loaded successfully.
2025-07-27 01:10:47,307 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-27 01:10:47,380 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-27 01:10:47,380 - INFO - MainProcess - Preprocessing video file: assets/WeChat_20250106160900.mp4...
2025-07-27 01:11:20,397 - INFO - MainProcess - Video preprocessed successfully. Found 776 frames/faces.
2025-07-27 01:11:20,397 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:5001
2025-07-27 01:11:20,812 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://117.74.66.188:5001
2025-07-27 01:11:20,812 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-27 01:11:25,105 - INFO - MainProcess - Received a request to /generate_video.
2025-07-27 01:11:25,107 - INFO - MainProcess - Received audio file: Wavfile_1719704064_11.wav
2025-07-27 01:11:25,108 - INFO - MainProcess - Audio file saved temporarily to: /tmp/tmpjaxks3fm.wav
2025-07-27 01:11:25,108 - INFO - MainProcess - Starting pipeline with parameters: guidance_scale=1.0, inference_steps=10
2025-07-27 01:11:38,434 - ERROR - MainProcess - 数据块 0 处理失败，结果为空。
2025-07-27 01:11:39,267 - ERROR - MainProcess - 数据块 2 处理失败，结果为空。
2025-07-27 01:11:39,565 - ERROR - MainProcess - 数据块 1 处理失败，结果为空。
2025-07-27 01:11:47,001 - ERROR - MainProcess - 数据块 3 处理失败，结果为空。
2025-07-27 01:11:47,838 - ERROR - MainProcess - 数据块 4 处理失败，结果为空。
2025-07-27 01:11:48,219 - ERROR - MainProcess - 数据块 5 处理失败，结果为空。
2025-07-27 01:11:49,448 - INFO - MainProcess - 多GPU并行推理在 24.15 秒内完成
2025-07-27 01:11:49,449 - ERROR - MainProcess - 所有任务都处理失败，无法生成视频。
2025-07-27 01:11:49,451 - INFO - MainProcess - Request for 'Wavfile_1719704064_11.wav' completed successfully.
2025-07-27 01:11:49,457 - INFO - MainProcess - Temporary audio file /tmp/tmpjaxks3fm.wav cleaned up.
2025-07-27 01:11:49,460 - INFO - MainProcess - 127.0.0.1 - - [27/Jul/2025 01:11:49] "POST /generate_video HTTP/1.1" 200 -
2025-07-27 01:15:00,683 - INFO - MainProcess - Starting Flask service...
2025-07-27 01:15:00,683 - INFO - MainProcess - Loading configuration file...
2025-07-27 01:15:00,697 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-27 01:15:00,697 - INFO - MainProcess - Loading model components...
2025-07-27 01:15:10,495 - INFO - MainProcess - All components loaded successfully.
2025-07-27 01:15:10,495 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-27 01:15:10,565 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-27 01:15:10,565 - INFO - MainProcess - Preprocessing video file: assets/WeChat_20250106160900.mp4...
2025-07-27 01:15:43,386 - INFO - MainProcess - Video preprocessed successfully. Found 776 frames/faces.
2025-07-27 01:15:43,387 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:5001
2025-07-27 01:15:43,471 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://117.74.66.188:5001
2025-07-27 01:15:43,471 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-27 01:15:47,265 - INFO - MainProcess - Received a request to /generate_video.
2025-07-27 01:15:47,267 - INFO - MainProcess - Received audio file: Wavfile_1719704064_11.wav
2025-07-27 01:15:47,267 - INFO - MainProcess - Audio file saved temporarily to: /tmp/tmpghacch8v.wav
2025-07-27 01:15:47,267 - INFO - MainProcess - Starting pipeline with parameters: guidance_scale=1.0, inference_steps=10
2025-07-27 01:16:01,093 - ERROR - MainProcess - 数据块 2 处理失败，结果为空。
2025-07-27 01:16:01,667 - ERROR - MainProcess - 数据块 0 处理失败，结果为空。
2025-07-27 01:16:01,824 - ERROR - MainProcess - 数据块 1 处理失败，结果为空。
2025-07-27 01:16:09,355 - ERROR - MainProcess - 数据块 3 处理失败，结果为空。
2025-07-27 01:16:10,978 - ERROR - MainProcess - 数据块 5 处理失败，结果为空。
2025-07-27 01:16:11,028 - ERROR - MainProcess - 数据块 4 处理失败，结果为空。
2025-07-27 01:16:12,140 - INFO - MainProcess - 多GPU并行推理在 24.68 秒内完成
2025-07-27 01:16:12,141 - ERROR - MainProcess - 所有任务都处理失败，无法生成视频。
2025-07-27 01:16:12,141 - INFO - MainProcess - Request for 'Wavfile_1719704064_11.wav' completed successfully.
2025-07-27 01:16:12,142 - INFO - MainProcess - Temporary audio file /tmp/tmpghacch8v.wav cleaned up.
2025-07-27 01:16:12,142 - INFO - MainProcess - 127.0.0.1 - - [27/Jul/2025 01:16:12] "POST /generate_video HTTP/1.1" 200 -
2025-07-27 01:20:21,620 - INFO - MainProcess - Starting Flask service...
2025-07-27 01:20:21,620 - INFO - MainProcess - Loading configuration file...
2025-07-27 01:20:21,634 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-27 01:20:21,634 - INFO - MainProcess - Loading model components...
2025-07-27 01:20:31,765 - INFO - MainProcess - All components loaded successfully.
2025-07-27 01:20:31,765 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-27 01:20:31,837 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-27 01:20:31,837 - INFO - MainProcess - Preprocessing video file: assets/WeChat_20250106160900.mp4...
2025-07-27 01:21:04,941 - INFO - MainProcess - Video preprocessed successfully. Found 776 frames/faces.
2025-07-27 01:21:04,941 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:5001
2025-07-27 01:21:05,060 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://117.74.66.188:5001
2025-07-27 01:21:05,060 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-27 01:21:09,309 - INFO - MainProcess - Received a request to /generate_video.
2025-07-27 01:21:09,311 - INFO - MainProcess - Received audio file: Wavfile_1719704064_11.wav
2025-07-27 01:21:09,311 - INFO - MainProcess - Audio file saved temporarily to: /tmp/tmp50fen18y.wav
2025-07-27 01:21:09,312 - INFO - MainProcess - Starting pipeline with parameters: guidance_scale=1.0, inference_steps=10
2025-07-27 01:21:23,013 - ERROR - MainProcess - 数据块 0 处理失败，结果为空。
2025-07-27 01:21:23,185 - ERROR - MainProcess - 数据块 1 处理失败，结果为空。
2025-07-27 01:21:23,730 - ERROR - MainProcess - 数据块 2 处理失败，结果为空。
2025-07-27 01:21:31,435 - ERROR - MainProcess - 数据块 3 处理失败，结果为空。
2025-07-27 01:21:31,452 - ERROR - MainProcess - 数据块 4 处理失败，结果为空。
2025-07-27 01:21:32,069 - ERROR - MainProcess - 数据块 5 处理失败，结果为空。
2025-07-27 01:21:33,092 - INFO - MainProcess - 多GPU并行推理在 23.59 秒内完成
2025-07-27 01:21:33,092 - ERROR - MainProcess - 所有任务都处理失败，无法生成视频。
2025-07-27 01:21:33,093 - INFO - MainProcess - Request for 'Wavfile_1719704064_11.wav' completed successfully.
2025-07-27 01:21:33,093 - INFO - MainProcess - Temporary audio file /tmp/tmp50fen18y.wav cleaned up.
2025-07-27 01:21:33,093 - INFO - MainProcess - 127.0.0.1 - - [27/Jul/2025 01:21:33] "POST /generate_video HTTP/1.1" 200 -
2025-07-27 01:24:28,062 - INFO - MainProcess - Starting Flask service...
2025-07-27 01:24:28,062 - INFO - MainProcess - Loading configuration file...
2025-07-27 01:24:28,075 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-27 01:24:28,075 - INFO - MainProcess - Loading model components...
2025-07-27 01:24:37,859 - INFO - MainProcess - All components loaded successfully.
2025-07-27 01:24:37,859 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-27 01:24:37,932 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-27 01:24:37,932 - INFO - MainProcess - Preprocessing video file: assets/WeChat_20250106160900.mp4...
2025-07-27 01:25:10,560 - INFO - MainProcess - Video preprocessed successfully. Found 776 frames/faces.
2025-07-27 01:25:10,560 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:5001
2025-07-27 01:25:10,643 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://117.74.66.188:5001
2025-07-27 01:25:10,643 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-27 01:25:15,265 - INFO - MainProcess - Received a request to /generate_video.
2025-07-27 01:25:15,267 - INFO - MainProcess - Received audio file: Wavfile_1719704064_11.wav
2025-07-27 01:25:15,268 - INFO - MainProcess - Audio file saved temporarily to: /tmp/tmpj03ui6gq.wav
2025-07-27 01:25:15,268 - INFO - MainProcess - Starting pipeline with parameters: guidance_scale=1.0, inference_steps=10
2025-07-27 01:25:28,799 - ERROR - MainProcess - 数据块 0 处理失败，结果为空。
2025-07-27 01:25:29,172 - ERROR - MainProcess - 数据块 1 处理失败，结果为空。
2025-07-27 01:25:29,703 - ERROR - MainProcess - 数据块 2 处理失败，结果为空。
2025-07-27 01:25:37,012 - ERROR - MainProcess - 数据块 3 处理失败，结果为空。
2025-07-27 01:25:37,510 - ERROR - MainProcess - 数据块 4 处理失败，结果为空。
2025-07-27 01:25:38,455 - ERROR - MainProcess - 数据块 5 处理失败，结果为空。
2025-07-27 01:25:39,489 - INFO - MainProcess - 多GPU并行推理在 24.04 秒内完成
2025-07-27 01:25:39,489 - ERROR - MainProcess - 所有任务都处理失败，无法生成视频。
2025-07-27 01:25:39,491 - INFO - MainProcess - Request for 'Wavfile_1719704064_11.wav' completed successfully.
2025-07-27 01:25:39,492 - INFO - MainProcess - Temporary audio file /tmp/tmpj03ui6gq.wav cleaned up.
2025-07-27 01:25:39,494 - INFO - MainProcess - 127.0.0.1 - - [27/Jul/2025 01:25:39] "POST /generate_video HTTP/1.1" 200 -
2025-07-27 01:27:40,538 - INFO - MainProcess - Starting Flask service...
2025-07-27 01:27:40,538 - INFO - MainProcess - Loading configuration file...
2025-07-27 01:27:40,551 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-27 01:27:40,552 - INFO - MainProcess - Loading model components...
2025-07-27 01:27:50,677 - INFO - MainProcess - All components loaded successfully.
2025-07-27 01:27:50,677 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-27 01:27:50,749 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-27 01:27:50,749 - INFO - MainProcess - Preprocessing video file: assets/WeChat_20250106160900.mp4...
2025-07-27 01:28:23,823 - INFO - MainProcess - Video preprocessed successfully. Found 776 frames/faces.
2025-07-27 01:28:23,824 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:5001
2025-07-27 01:28:23,938 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://117.74.66.188:5001
2025-07-27 01:28:23,938 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-27 01:28:28,690 - INFO - MainProcess - Received a request to /generate_video.
2025-07-27 01:28:28,692 - INFO - MainProcess - Received audio file: Wavfile_1719704064_11.wav
2025-07-27 01:28:28,693 - INFO - MainProcess - Audio file saved temporarily to: /tmp/tmptn1rri36.wav
2025-07-27 01:28:28,693 - INFO - MainProcess - Starting pipeline with parameters: guidance_scale=1.0, inference_steps=10
2025-07-27 01:28:42,845 - ERROR - MainProcess - 数据块 1 处理失败，结果为空。
2025-07-27 01:28:42,933 - ERROR - MainProcess - 数据块 2 处理失败，结果为空。
2025-07-27 01:28:43,580 - ERROR - MainProcess - 数据块 0 处理失败，结果为空。
2025-07-27 01:28:51,595 - ERROR - MainProcess - 数据块 3 处理失败，结果为空。
2025-07-27 01:28:51,958 - ERROR - MainProcess - 数据块 4 处理失败，结果为空。
2025-07-27 01:28:52,448 - ERROR - MainProcess - 数据块 5 处理失败，结果为空。
2025-07-27 01:28:53,535 - INFO - MainProcess - 多GPU并行推理在 24.66 秒内完成
2025-07-27 01:28:53,535 - ERROR - MainProcess - 所有任务都处理失败，无法生成视频。
2025-07-27 01:28:53,536 - INFO - MainProcess - Request for 'Wavfile_1719704064_11.wav' completed successfully.
2025-07-27 01:28:53,536 - INFO - MainProcess - Temporary audio file /tmp/tmptn1rri36.wav cleaned up.
2025-07-27 01:28:53,537 - INFO - MainProcess - 127.0.0.1 - - [27/Jul/2025 01:28:53] "POST /generate_video HTTP/1.1" 200 -
2025-07-27 01:39:58,184 - INFO - MainProcess - Starting Flask service...
2025-07-27 01:39:58,184 - INFO - MainProcess - Loading configuration file...
2025-07-27 01:39:58,198 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-27 01:39:58,198 - INFO - MainProcess - Loading model components...
2025-07-27 01:40:08,530 - INFO - MainProcess - All components loaded successfully.
2025-07-27 01:40:08,530 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-27 01:40:08,598 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-27 01:40:08,598 - INFO - MainProcess - Preprocessing video file: assets/WeChat_20250106160900.mp4...
2025-07-27 01:40:41,457 - INFO - MainProcess - Video preprocessed successfully. Found 776 frames/faces.
2025-07-27 01:40:41,458 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:5001
2025-07-27 01:40:41,574 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://117.74.66.188:5001
2025-07-27 01:40:41,574 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-27 01:40:44,904 - INFO - MainProcess - Received a request to /generate_video.
2025-07-27 01:40:44,906 - INFO - MainProcess - Received audio file: Wavfile_1719704064_11.wav
2025-07-27 01:40:44,906 - INFO - MainProcess - Audio file saved temporarily to: /tmp/tmph02q5nw2.wav
2025-07-27 01:40:44,906 - INFO - MainProcess - Starting pipeline with parameters: guidance_scale=1.0, inference_steps=10
2025-07-27 01:41:01,283 - ERROR - MainProcess - 数据块 0 处理失败，结果为空。
2025-07-27 01:41:02,083 - ERROR - MainProcess - 数据块 2 处理失败，结果为空。
2025-07-27 01:41:02,230 - ERROR - MainProcess - 数据块 1 处理失败，结果为空。
2025-07-27 01:41:09,618 - ERROR - MainProcess - 数据块 3 处理失败，结果为空。
2025-07-27 01:41:13,372 - ERROR - MainProcess - 数据块 4 处理失败，结果为空。
2025-07-27 01:41:13,446 - ERROR - MainProcess - 数据块 5 处理失败，结果为空。
2025-07-27 01:41:14,641 - INFO - MainProcess - 多GPU并行推理在 29.56 秒内完成
2025-07-27 01:41:14,642 - ERROR - MainProcess - 所有任务都处理失败，无法生成视频。
2025-07-27 01:41:14,643 - INFO - MainProcess - Request for 'Wavfile_1719704064_11.wav' completed successfully.
2025-07-27 01:41:14,644 - INFO - MainProcess - Temporary audio file /tmp/tmph02q5nw2.wav cleaned up.
2025-07-27 01:41:14,645 - INFO - MainProcess - 127.0.0.1 - - [27/Jul/2025 01:41:14] "POST /generate_video HTTP/1.1" 200 -
2025-07-27 01:46:36,111 - INFO - MainProcess - Starting Flask service...
2025-07-27 01:46:36,112 - INFO - MainProcess - Loading configuration file...
2025-07-27 01:46:36,125 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-27 01:46:36,125 - INFO - MainProcess - Loading model components...
2025-07-27 01:46:45,774 - INFO - MainProcess - All components loaded successfully.
2025-07-27 01:46:45,774 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-27 01:46:45,828 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-27 01:46:45,828 - INFO - MainProcess - Preprocessing video file: assets/WeChat_20250106160900.mp4...
2025-07-27 01:47:18,931 - INFO - MainProcess - Video preprocessed successfully. Found 776 frames/faces.
2025-07-27 01:47:18,932 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:5001
2025-07-27 01:47:19,051 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://117.74.66.188:5001
2025-07-27 01:47:19,051 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-27 01:47:26,624 - INFO - MainProcess - Received a request to /generate_video.
2025-07-27 01:47:26,626 - INFO - MainProcess - Received audio file: Wavfile_1719704064_11.wav
2025-07-27 01:47:26,626 - INFO - MainProcess - Audio file saved temporarily to: /tmp/tmpaqkl74pl.wav
2025-07-27 01:47:26,627 - INFO - MainProcess - Starting pipeline with parameters: guidance_scale=1.0, inference_steps=10
2025-07-27 01:47:43,571 - ERROR - MainProcess - 数据块 0 处理失败，结果为空。
2025-07-27 01:47:43,587 - ERROR - MainProcess - 数据块 1 处理失败，结果为空。
2025-07-27 01:47:44,276 - ERROR - MainProcess - 数据块 2 处理失败，结果为空。
2025-07-27 01:47:52,674 - ERROR - MainProcess - 数据块 3 处理失败，结果为空。
2025-07-27 01:47:53,029 - ERROR - MainProcess - 数据块 4 处理失败，结果为空。
2025-07-27 01:47:53,517 - ERROR - MainProcess - 数据块 5 处理失败，结果为空。
2025-07-27 01:47:54,683 - INFO - MainProcess - 多GPU并行推理在 27.85 秒内完成
2025-07-27 01:47:54,683 - ERROR - MainProcess - 所有任务都处理失败，无法生成视频。
2025-07-27 01:47:54,684 - INFO - MainProcess - Request for 'Wavfile_1719704064_11.wav' completed successfully.
2025-07-27 01:47:54,684 - INFO - MainProcess - Temporary audio file /tmp/tmpaqkl74pl.wav cleaned up.
2025-07-27 01:47:54,685 - INFO - MainProcess - 127.0.0.1 - - [27/Jul/2025 01:47:54] "POST /generate_video HTTP/1.1" 200 -
2025-07-27 01:55:58,184 - INFO - MainProcess - 206.168.34.88 - - [27/Jul/2025 01:55:58] "[33mGET / HTTP/1.1[0m" 404 -
2025-07-27 01:56:02,318 - ERROR - MainProcess - 206.168.34.88 - - [27/Jul/2025 01:56:02] code 505, message Invalid HTTP version (2.0)
2025-07-27 01:56:02,318 - INFO - MainProcess - 206.168.34.88 - - [27/Jul/2025 01:56:02] "[35m[1mPRI * HTTP/2.0[0m" HTTPStatus.HTTP_VERSION_NOT_SUPPORTED -
2025-07-27 01:56:08,624 - INFO - MainProcess - 206.168.34.88 - - [27/Jul/2025 01:56:08] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-27 01:56:10,275 - ERROR - MainProcess - 206.168.34.88 - - [27/Jul/2025 01:56:10] code 505, message Invalid HTTP version (2.0)
2025-07-27 01:56:10,275 - INFO - MainProcess - 206.168.34.88 - - [27/Jul/2025 01:56:10] "[35m[1mPRI * HTTP/2.0[0m" HTTPStatus.HTTP_VERSION_NOT_SUPPORTED -
2025-07-27 01:56:17,366 - ERROR - MainProcess - 206.168.34.88 - - [27/Jul/2025 01:56:17] code 400, message Bad request version ('À\x14À')
2025-07-27 01:56:17,367 - INFO - MainProcess - 206.168.34.88 - - [27/Jul/2025 01:56:17] "[35m[1m\x16\x03\x01\x00î\x01\x00\x00ê\x03\x03ý\x8a-÷µBì\x8apÆi\x0b\x85\x90\x07P¹Ü6\x18À,L\x84^F¯Ñ8\x8e,\x86 ñÝ$­Ð\x0c\x03¨\x9a6Ïrü\x80ù²¾r«Xª\x99ÃN\x9bÝ\x96J\x88\x7fêb\x00&Ì¨Ì©À/À0À+À,À\x13À\x09À\x14À[0m" HTTPStatus.BAD_REQUEST -
2025-07-27 01:56:18,443 - INFO - MainProcess - 206.168.34.88 - - [27/Jul/2025 01:56:18] "[33mGET /sitemap.xml HTTP/1.1[0m" 404 -
2025-07-27 01:57:35,034 - INFO - MainProcess - Starting Flask service...
2025-07-27 01:57:35,034 - INFO - MainProcess - Loading configuration file...
2025-07-27 01:57:35,048 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-27 01:57:35,048 - INFO - MainProcess - Loading model components...
2025-07-27 01:57:45,590 - INFO - MainProcess - All components loaded successfully.
2025-07-27 01:57:45,590 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-27 01:57:45,658 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-27 01:57:45,658 - INFO - MainProcess - Preprocessing video file: assets/WeChat_20250106160900.mp4...
2025-07-27 01:58:18,734 - INFO - MainProcess - Video preprocessed successfully. Found 776 frames/faces.
2025-07-27 01:58:18,734 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:5001
2025-07-27 01:58:18,818 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://117.74.66.188:5001
2025-07-27 01:58:18,818 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-27 01:58:22,905 - INFO - MainProcess - Received a request to /generate_video.
2025-07-27 01:58:22,907 - INFO - MainProcess - Received audio file: Wavfile_1719704064_11.wav
2025-07-27 01:58:22,908 - INFO - MainProcess - Audio file saved temporarily to: /tmp/tmp_i4bm76e.wav
2025-07-27 01:58:22,908 - INFO - MainProcess - Starting pipeline with parameters: guidance_scale=1.0, inference_steps=10
2025-07-27 01:58:50,238 - ERROR - MainProcess - 数据块 0 处理失败，结果为空。
2025-07-27 01:58:50,270 - ERROR - MainProcess - 数据块 1 处理失败，结果为空。
2025-07-27 01:58:50,683 - ERROR - MainProcess - 数据块 2 处理失败，结果为空。
2025-07-27 01:59:00,254 - ERROR - MainProcess - 数据块 3 处理失败，结果为空。
2025-07-27 01:59:00,359 - ERROR - MainProcess - 数据块 4 处理失败，结果为空。
2025-07-27 01:59:00,741 - ERROR - MainProcess - 数据块 5 处理失败，结果为空。
2025-07-27 01:59:01,933 - INFO - MainProcess - 多GPU并行推理在 38.84 秒内完成
2025-07-27 01:59:01,933 - ERROR - MainProcess - 所有任务都处理失败，无法生成视频。
2025-07-27 01:59:01,933 - INFO - MainProcess - Request for 'Wavfile_1719704064_11.wav' completed successfully.
2025-07-27 01:59:01,934 - INFO - MainProcess - Temporary audio file /tmp/tmp_i4bm76e.wav cleaned up.
2025-07-27 01:59:01,934 - INFO - MainProcess - 127.0.0.1 - - [27/Jul/2025 01:59:01] "POST /generate_video HTTP/1.1" 200 -
2025-07-27 02:14:08,166 - INFO - MainProcess - Starting Flask service...
2025-07-27 02:14:08,166 - INFO - MainProcess - Loading configuration file...
2025-07-27 02:14:08,180 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-27 02:14:08,180 - INFO - MainProcess - Loading model components...
2025-07-27 02:14:19,043 - INFO - MainProcess - All components loaded successfully.
2025-07-27 02:14:19,044 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-27 02:14:19,093 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-27 02:14:19,093 - INFO - MainProcess - Preprocessing video file: assets/WeChat_20250106160900.mp4...
2025-07-27 02:14:52,166 - INFO - MainProcess - Video preprocessed successfully. Found 776 frames/faces.
2025-07-27 02:14:52,166 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:5001
2025-07-27 02:14:52,282 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://117.74.66.188:5001
2025-07-27 02:14:52,282 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-27 02:14:55,553 - INFO - MainProcess - Received a request to /generate_video.
2025-07-27 02:14:55,555 - INFO - MainProcess - Received audio file: Wavfile_1719704064_11.wav
2025-07-27 02:14:55,556 - INFO - MainProcess - Audio file saved temporarily to: /tmp/tmpiitbtsw_.wav
2025-07-27 02:14:55,556 - INFO - MainProcess - Starting pipeline with parameters: guidance_scale=1.0, inference_steps=10
2025-07-27 02:15:25,350 - ERROR - MainProcess - 数据块 1 处理失败，结果为空。
2025-07-27 02:15:25,358 - ERROR - MainProcess - 数据块 0 处理失败，结果为空。
2025-07-27 02:15:29,931 - ERROR - MainProcess - 数据块 2 处理失败，结果为空。
2025-07-27 02:15:50,439 - ERROR - MainProcess - 数据块 3 处理失败，结果为空。
2025-07-27 02:15:50,943 - ERROR - MainProcess - 数据块 4 处理失败，结果为空。
2025-07-27 02:15:51,902 - ERROR - MainProcess - 数据块 5 处理失败，结果为空。
2025-07-27 02:15:53,174 - INFO - MainProcess - 多GPU并行推理在 57.44 秒内完成
2025-07-27 02:15:53,174 - ERROR - MainProcess - 所有任务都处理失败，无法生成视频。
2025-07-27 02:15:53,175 - INFO - MainProcess - Request for 'Wavfile_1719704064_11.wav' completed successfully.
2025-07-27 02:15:53,175 - INFO - MainProcess - Temporary audio file /tmp/tmpiitbtsw_.wav cleaned up.
2025-07-27 02:15:53,176 - INFO - MainProcess - 127.0.0.1 - - [27/Jul/2025 02:15:53] "POST /generate_video HTTP/1.1" 200 -
2025-07-27 02:20:05,552 - INFO - MainProcess - Starting Flask service...
2025-07-27 02:20:05,552 - INFO - MainProcess - Loading configuration file...
2025-07-27 02:20:05,566 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-27 02:20:05,566 - INFO - MainProcess - Loading model components...
2025-07-27 02:20:15,758 - INFO - MainProcess - All components loaded successfully.
2025-07-27 02:20:15,758 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-27 02:20:15,812 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-27 02:20:15,812 - INFO - MainProcess - Preprocessing video file: assets/WeChat_20250106160900.mp4...
2025-07-27 02:20:48,909 - INFO - MainProcess - Video preprocessed successfully. Found 776 frames/faces.
2025-07-27 02:20:48,909 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:5001
2025-07-27 02:20:49,015 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://117.74.66.188:5001
2025-07-27 02:20:49,015 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-27 02:30:13,584 - INFO - MainProcess - Received a request to /generate_video.
2025-07-27 02:30:13,586 - INFO - MainProcess - Received audio file: Wavfile_1719704064_11.wav
2025-07-27 02:30:13,587 - INFO - MainProcess - Audio file saved temporarily to: /tmp/tmpx3uigiub.wav
2025-07-27 02:30:13,587 - INFO - MainProcess - Starting pipeline with parameters: guidance_scale=1.0, inference_steps=10
2025-07-27 02:30:44,735 - ERROR - MainProcess - 数据块 2 处理失败，结果为空。
2025-07-27 02:30:44,737 - ERROR - MainProcess - 数据块 0 处理失败，结果为空。
2025-07-27 02:30:49,115 - ERROR - MainProcess - 数据块 1 处理失败，结果为空。
2025-07-27 02:31:08,871 - ERROR - MainProcess - 数据块 3 处理失败，结果为空。
2025-07-27 02:31:09,306 - ERROR - MainProcess - 数据块 4 处理失败，结果为空。
2025-07-27 02:31:19,238 - ERROR - MainProcess - 数据块 5 处理失败，结果为空。
2025-07-27 02:31:20,444 - INFO - MainProcess - 多GPU并行推理在 66.68 秒内完成
2025-07-27 02:31:20,444 - ERROR - MainProcess - 所有任务都处理失败，无法生成视频。
2025-07-27 02:31:20,446 - INFO - MainProcess - Request for 'Wavfile_1719704064_11.wav' completed successfully.
2025-07-27 02:31:20,447 - INFO - MainProcess - Temporary audio file /tmp/tmpx3uigiub.wav cleaned up.
2025-07-27 02:31:20,449 - INFO - MainProcess - 127.0.0.1 - - [27/Jul/2025 02:31:20] "POST /generate_video HTTP/1.1" 200 -
2025-07-27 02:33:56,719 - INFO - MainProcess - Starting Flask service...
2025-07-27 02:33:56,719 - INFO - MainProcess - Loading configuration file...
2025-07-27 02:33:56,732 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-27 02:33:56,733 - INFO - MainProcess - Loading model components...
2025-07-27 02:34:06,218 - INFO - MainProcess - All components loaded successfully.
2025-07-27 02:34:06,219 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-27 02:34:06,271 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-27 02:34:06,271 - INFO - MainProcess - Preprocessing video file: assets/WeChat_20250106160900.mp4...
2025-07-27 02:34:39,809 - INFO - MainProcess - Video preprocessed successfully. Found 776 frames/faces.
2025-07-27 02:34:39,809 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:5001
2025-07-27 02:34:39,907 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://117.74.66.188:5001
2025-07-27 02:34:39,907 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-27 02:34:43,446 - INFO - MainProcess - Received a request to /generate_video.
2025-07-27 02:34:43,448 - INFO - MainProcess - Received audio file: Wavfile_1719704064_11.wav
2025-07-27 02:34:43,448 - INFO - MainProcess - Audio file saved temporarily to: /tmp/tmpt32rbsfk.wav
2025-07-27 02:34:43,449 - INFO - MainProcess - Starting pipeline with parameters: guidance_scale=1.0, inference_steps=10
2025-07-27 02:35:17,985 - ERROR - MainProcess - 数据块 2 处理失败，结果为空。
2025-07-27 02:35:18,019 - ERROR - MainProcess - 数据块 0 处理失败，结果为空。
2025-07-27 02:35:20,567 - ERROR - MainProcess - 数据块 1 处理失败，结果为空。
2025-07-27 02:35:50,058 - ERROR - MainProcess - 数据块 4 处理失败，结果为空。
2025-07-27 02:35:50,072 - ERROR - MainProcess - 数据块 3 处理失败，结果为空。
2025-07-27 02:35:54,813 - ERROR - MainProcess - 数据块 5 处理失败，结果为空。
2025-07-27 02:35:56,015 - INFO - MainProcess - 多GPU并行推理在 72.38 秒内完成
2025-07-27 02:35:56,015 - ERROR - MainProcess - 所有任务都处理失败，无法生成视频。
2025-07-27 02:35:56,017 - INFO - MainProcess - Request for 'Wavfile_1719704064_11.wav' completed successfully.
2025-07-27 02:35:56,018 - INFO - MainProcess - Temporary audio file /tmp/tmpt32rbsfk.wav cleaned up.
2025-07-27 02:35:56,020 - INFO - MainProcess - 127.0.0.1 - - [27/Jul/2025 02:35:56] "POST /generate_video HTTP/1.1" 200 -
2025-07-27 02:42:16,805 - INFO - MainProcess - Starting Flask service...
2025-07-27 02:42:16,806 - INFO - MainProcess - Loading configuration file...
2025-07-27 02:42:16,819 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-27 02:42:16,819 - INFO - MainProcess - Loading model components...
2025-07-27 02:42:27,131 - INFO - MainProcess - All components loaded successfully.
2025-07-27 02:42:27,131 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-27 02:42:27,184 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-27 02:42:27,184 - INFO - MainProcess - Preprocessing video file: assets/WeChat_20250106160900.mp4...
2025-07-27 02:43:00,054 - INFO - MainProcess - Video preprocessed successfully. Found 776 frames/faces.
2025-07-27 02:43:00,054 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:5001
2025-07-27 02:43:00,130 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://117.74.66.188:5001
2025-07-27 02:43:00,130 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-27 02:43:03,829 - INFO - MainProcess - Received a request to /generate_video.
2025-07-27 02:43:03,831 - INFO - MainProcess - Received audio file: Wavfile_1719704064_11.wav
2025-07-27 02:43:03,832 - INFO - MainProcess - Audio file saved temporarily to: /tmp/tmpqn83ok3p.wav
2025-07-27 02:43:03,832 - INFO - MainProcess - Starting pipeline with parameters: guidance_scale=1.0, inference_steps=10
2025-07-27 02:43:42,348 - ERROR - MainProcess - 数据块 1 处理失败，结果为空。
2025-07-27 02:43:42,550 - ERROR - MainProcess - 数据块 2 处理失败，结果为空。
2025-07-27 02:43:42,654 - ERROR - MainProcess - 数据块 0 处理失败，结果为空。
2025-07-27 02:44:13,228 - ERROR - MainProcess - 数据块 3 处理失败，结果为空。
2025-07-27 02:44:16,160 - ERROR - MainProcess - 数据块 4 处理失败，结果为空。
2025-07-27 02:44:16,251 - ERROR - MainProcess - 数据块 5 处理失败，结果为空。
2025-07-27 02:44:17,786 - INFO - MainProcess - 多GPU并行推理在 73.76 秒内完成
2025-07-27 02:44:17,786 - ERROR - MainProcess - 所有任务都处理失败，无法生成视频。
2025-07-27 02:44:17,788 - INFO - MainProcess - Request for 'Wavfile_1719704064_11.wav' completed successfully.
2025-07-27 02:44:17,789 - INFO - MainProcess - Temporary audio file /tmp/tmpqn83ok3p.wav cleaned up.
2025-07-27 02:44:17,792 - INFO - MainProcess - 127.0.0.1 - - [27/Jul/2025 02:44:17] "POST /generate_video HTTP/1.1" 200 -
2025-07-27 02:47:10,658 - INFO - MainProcess - Starting Flask service...
2025-07-27 02:47:10,658 - INFO - MainProcess - Loading configuration file...
2025-07-27 02:47:10,671 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-27 02:47:10,672 - INFO - MainProcess - Loading model components...
2025-07-27 02:47:20,132 - INFO - MainProcess - All components loaded successfully.
2025-07-27 02:47:20,132 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-27 02:47:20,183 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-27 02:47:20,183 - INFO - MainProcess - Preprocessing video file: assets/WeChat_20250106160900.mp4...
2025-07-27 02:47:53,739 - INFO - MainProcess - Video preprocessed successfully. Found 776 frames/faces.
2025-07-27 02:47:53,739 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:5001
2025-07-27 02:47:53,846 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://117.74.66.188:5001
2025-07-27 02:47:53,846 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-27 02:48:25,357 - INFO - MainProcess - Received a request to /generate_video.
2025-07-27 02:48:25,359 - INFO - MainProcess - Received audio file: Wavfile_1719704064_11.wav
2025-07-27 02:48:25,359 - INFO - MainProcess - Audio file saved temporarily to: /tmp/tmpu5dxdxkh.wav
2025-07-27 02:48:25,360 - INFO - MainProcess - Starting pipeline with parameters: guidance_scale=1.0, inference_steps=10
2025-07-27 02:49:37,328 - INFO - MainProcess - 多GPU并行推理在 71.78 秒内完成
2025-07-27 02:49:37,389 - ERROR - MainProcess - Critical error during video generation for 'Wavfile_1719704064_11.wav': No module named 'latentsync.pipelines.utils'
Traceback (most recent call last):
  File "/data0/projects/LatentSync10/infer_serv.py", line 160, in generate_video_api
    pipeline_global(
  File "/data0/projects/LatentSync10/latentsync/pipelines/lipsync_pipeline.py", line 688, in __call__
    from .utils.util import push_video_to_rtmp
ModuleNotFoundError: No module named 'latentsync.pipelines.utils'
2025-07-27 02:49:37,406 - INFO - MainProcess - Temporary audio file /tmp/tmpu5dxdxkh.wav cleaned up.
2025-07-27 02:49:37,407 - INFO - MainProcess - 127.0.0.1 - - [27/Jul/2025 02:49:37] "[35m[1mPOST /generate_video HTTP/1.1[0m" 500 -
2025-07-27 02:58:20,248 - INFO - MainProcess - Starting Flask service...
2025-07-27 02:58:20,248 - INFO - MainProcess - Loading configuration file...
2025-07-27 02:58:20,261 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-27 02:58:20,261 - INFO - MainProcess - Loading model components...
2025-07-27 02:58:31,012 - INFO - MainProcess - All components loaded successfully.
2025-07-27 02:58:31,012 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-27 02:58:31,064 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-27 02:58:31,064 - INFO - MainProcess - Preprocessing video file: assets/WeChat_20250106160900.mp4...
2025-07-27 02:59:04,483 - INFO - MainProcess - Video preprocessed successfully. Found 776 frames/faces.
2025-07-27 02:59:04,483 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:5001
2025-07-27 02:59:04,603 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://117.74.66.188:5001
2025-07-27 02:59:04,603 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-27 02:59:09,053 - INFO - MainProcess - Received a request to /generate_video.
2025-07-27 02:59:09,055 - INFO - MainProcess - Received audio file: Wavfile_1719704064_11.wav
2025-07-27 02:59:09,056 - INFO - MainProcess - Audio file saved temporarily to: /tmp/tmp26e175_3.wav
2025-07-27 02:59:09,056 - INFO - MainProcess - Starting pipeline with parameters: guidance_scale=1.0, inference_steps=10
2025-07-27 03:00:16,097 - INFO - MainProcess - 多GPU并行推理在 66.86 秒内完成
2025-07-27 03:24:11,141 - INFO - MainProcess - Starting Flask service...
2025-07-27 03:24:11,141 - INFO - MainProcess - Loading configuration file...
2025-07-27 03:24:11,154 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-27 03:24:11,155 - INFO - MainProcess - Loading model components...
2025-07-27 03:24:21,603 - INFO - MainProcess - All components loaded successfully.
2025-07-27 03:24:21,604 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-27 03:24:21,653 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-27 03:24:21,653 - INFO - MainProcess - Preprocessing video file: assets/WeChat_20250106160900.mp4...
2025-07-27 03:24:55,003 - INFO - MainProcess - Video preprocessed successfully. Found 776 frames/faces.
2025-07-27 03:24:55,004 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:5001
2025-07-27 03:24:55,083 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://117.74.66.188:5001
2025-07-27 03:24:55,084 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-27 03:25:20,483 - INFO - MainProcess - Received a request to /generate_video.
2025-07-27 03:25:20,485 - INFO - MainProcess - Received audio file: Wavfile_1719704064_11.wav
2025-07-27 03:25:20,486 - INFO - MainProcess - Audio file saved temporarily to: /tmp/tmppgprq2gf.wav
2025-07-27 03:25:20,486 - INFO - MainProcess - Starting pipeline with parameters: guidance_scale=1.0, inference_steps=10
2025-07-27 03:25:20,703 - ERROR - MainProcess - Critical error during video generation for 'Wavfile_1719704064_11.wav': name 'multiprocessing' is not defined
Traceback (most recent call last):
  File "/data0/projects/LatentSync10/infer_serv.py", line 160, in generate_video_api
    pipeline_global(
  File "/data0/projects/LatentSync10/latentsync/pipelines/lipsync_pipeline.py", line 752, in __call__
    with multiprocessing.Pool(
NameError: name 'multiprocessing' is not defined
2025-07-27 03:25:20,704 - INFO - MainProcess - Temporary audio file /tmp/tmppgprq2gf.wav cleaned up.
2025-07-27 03:25:20,704 - INFO - MainProcess - 127.0.0.1 - - [27/Jul/2025 03:25:20] "[35m[1mPOST /generate_video HTTP/1.1[0m" 500 -
2025-07-27 03:27:49,789 - INFO - MainProcess - Starting Flask service...
2025-07-27 03:27:49,789 - INFO - MainProcess - Loading configuration file...
2025-07-27 03:27:49,802 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-27 03:27:49,803 - INFO - MainProcess - Loading model components...
2025-07-27 03:27:59,361 - INFO - MainProcess - All components loaded successfully.
2025-07-27 03:27:59,361 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-27 03:27:59,410 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-27 03:27:59,410 - INFO - MainProcess - Preprocessing video file: assets/WeChat_20250106160900.mp4...
2025-07-27 03:28:32,151 - INFO - MainProcess - Video preprocessed successfully. Found 776 frames/faces.
2025-07-27 03:28:32,151 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:5001
2025-07-27 03:28:32,271 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://117.74.66.188:5001
2025-07-27 03:28:32,271 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-27 03:28:40,558 - INFO - MainProcess - Received a request to /generate_video.
2025-07-27 03:28:40,559 - INFO - MainProcess - Received audio file: Wavfile_1719704064_11.wav
2025-07-27 03:28:40,559 - INFO - MainProcess - Audio file saved temporarily to: /tmp/tmpurs9m5lz.wav
2025-07-27 03:28:40,560 - INFO - MainProcess - Starting pipeline with parameters: guidance_scale=1.0, inference_steps=10
2025-07-27 03:32:02,140 - INFO - MainProcess - Starting Flask service...
2025-07-27 03:32:02,140 - INFO - MainProcess - Loading configuration file...
2025-07-27 03:32:02,153 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-27 03:32:02,153 - INFO - MainProcess - Loading model components...
2025-07-27 03:32:11,985 - INFO - MainProcess - All components loaded successfully.
2025-07-27 03:32:11,986 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-27 03:32:12,037 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-27 03:32:12,037 - INFO - MainProcess - Preprocessing video file: assets/WeChat_20250106160900.mp4...
2025-07-27 03:32:45,349 - INFO - MainProcess - Video preprocessed successfully. Found 776 frames/faces.
2025-07-27 03:32:45,349 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:5001
2025-07-27 03:32:45,455 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://117.74.66.188:5001
2025-07-27 03:32:45,455 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-27 03:33:08,861 - INFO - MainProcess - Received a request to /generate_video.
2025-07-27 03:33:08,863 - INFO - MainProcess - Received audio file: Wavfile_1719704064_11.wav
2025-07-27 03:33:08,864 - INFO - MainProcess - Audio file saved temporarily to: /tmp/tmpvfrxoaq5.wav
2025-07-27 03:33:08,864 - INFO - MainProcess - Starting pipeline with parameters: guidance_scale=1.0, inference_steps=10
2025-07-27 03:34:58,406 - INFO - MainProcess - Starting Flask service...
2025-07-27 03:34:58,406 - INFO - MainProcess - Loading configuration file...
2025-07-27 03:34:58,419 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-27 03:34:58,419 - INFO - MainProcess - Loading model components...
2025-07-27 03:35:08,641 - INFO - MainProcess - All components loaded successfully.
2025-07-27 03:35:08,641 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-27 03:35:08,698 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-27 03:35:08,698 - INFO - MainProcess - Preprocessing video file: assets/WeChat_20250106160900.mp4...
2025-07-27 03:35:41,837 - INFO - MainProcess - Video preprocessed successfully. Found 776 frames/faces.
2025-07-27 03:35:41,837 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:5001
2025-07-27 03:35:41,919 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://117.74.66.188:5001
2025-07-27 03:35:41,919 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-27 03:35:47,368 - INFO - MainProcess - Received a request to /generate_video.
2025-07-27 03:35:47,374 - INFO - MainProcess - Received audio file: audio_sanxingdui_001.wav
2025-07-27 03:35:47,375 - INFO - MainProcess - Audio file saved temporarily to: /tmp/tmphj05o6vs.wav
2025-07-27 03:35:47,376 - INFO - MainProcess - Starting pipeline with parameters: guidance_scale=1.0, inference_steps=10
2025-07-27 03:40:07,224 - INFO - MainProcess - Starting Flask service...
2025-07-27 03:40:07,224 - INFO - MainProcess - Loading configuration file...
2025-07-27 03:40:07,238 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-27 03:40:07,238 - INFO - MainProcess - Loading model components...
2025-07-27 03:40:16,869 - INFO - MainProcess - All components loaded successfully.
2025-07-27 03:40:16,870 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-27 03:40:16,921 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-27 03:40:16,921 - INFO - MainProcess - Preprocessing video file: assets/WeChat_20250106160900.mp4...
2025-07-27 03:40:50,240 - INFO - MainProcess - Video preprocessed successfully. Found 776 frames/faces.
2025-07-27 03:40:50,240 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:5001
2025-07-27 03:40:50,334 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://117.74.66.188:5001
2025-07-27 03:40:50,334 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-27 03:41:05,199 - INFO - MainProcess - Received a request to /generate_video.
2025-07-27 03:41:05,201 - INFO - MainProcess - Received audio file: Wavfile_1719704064_11.wav
2025-07-27 03:41:05,201 - INFO - MainProcess - Audio file saved temporarily to: /tmp/tmpz_hgv6k2.wav
2025-07-27 03:41:05,201 - INFO - MainProcess - Starting pipeline with parameters: guidance_scale=1.0, inference_steps=10
2025-07-27 04:05:44,557 - INFO - MainProcess - Starting Flask service...
2025-07-27 04:05:44,557 - INFO - MainProcess - Loading configuration file...
2025-07-27 04:05:44,570 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-27 04:05:44,570 - INFO - MainProcess - Loading model components...
2025-07-27 04:05:55,100 - INFO - MainProcess - All components loaded successfully.
2025-07-27 04:05:55,101 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-27 04:05:55,154 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-27 04:05:55,155 - INFO - MainProcess - Preprocessing video file: assets/WeChat_20250106160900.mp4...
2025-07-27 04:06:28,558 - INFO - MainProcess - Video preprocessed successfully. Found 776 frames/faces.
2025-07-27 04:06:28,558 - INFO - MainProcess - Creating and initializing a persistent pool of 3 GPU workers...
2025-07-27 04:08:34,701 - INFO - MainProcess - Starting Flask service...
2025-07-27 04:08:34,701 - INFO - MainProcess - Loading configuration file...
2025-07-27 04:08:34,714 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-27 04:08:34,715 - INFO - MainProcess - Loading model components...
2025-07-27 04:08:44,700 - INFO - MainProcess - All components loaded successfully.
2025-07-27 04:08:44,700 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-27 04:08:44,770 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-27 04:08:44,770 - INFO - MainProcess - Preprocessing video file: assets/WeChat_20250106160900.mp4...
2025-07-27 04:09:18,266 - INFO - MainProcess - Video preprocessed successfully. Found 776 frames/faces.
2025-07-27 04:09:18,266 - INFO - MainProcess - Creating and initializing a persistent pool of 3 GPU workers...
2025-07-27 04:10:09,723 - INFO - MainProcess - Starting Flask service...
2025-07-27 04:10:09,724 - INFO - MainProcess - Loading configuration file...
2025-07-27 04:10:09,737 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-27 04:10:09,737 - INFO - MainProcess - Loading model components...
2025-07-27 04:10:19,600 - INFO - MainProcess - All components loaded successfully.
2025-07-27 04:10:19,600 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-27 04:10:19,654 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-27 04:10:19,654 - INFO - MainProcess - Preprocessing video file: assets/WeChat_20250106160900.mp4...
2025-07-27 04:10:52,764 - INFO - MainProcess - Video preprocessed successfully. Found 776 frames/faces.
2025-07-27 04:10:52,765 - INFO - MainProcess - Creating and initializing a persistent pool of 3 GPU workers...
2025-07-27 04:10:52,771 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-27 04:10:52,771 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:5001
2025-07-27 04:10:52,874 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://117.74.66.188:5001
2025-07-27 04:10:52,874 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-27 04:11:25,194 - INFO - MainProcess - Received audio file: Wavfile_1719704064_11.wav
2025-07-27 04:11:25,195 - INFO - MainProcess - Audio file saved temporarily to: /tmp/tmplpdj90c1.wav
2025-07-27 04:11:25,195 - INFO - MainProcess - Preparing tasks for GPU workers...
2025-07-27 04:11:25,195 - ERROR - MainProcess - Critical error during video generation: name 'read_audio' is not defined
Traceback (most recent call last):
  File "/data0/projects/LatentSync10/infer_serv.py", line 200, in generate_video_api
    audio_samples = read_audio(audio_path)
NameError: name 'read_audio' is not defined
2025-07-27 04:11:25,200 - INFO - MainProcess - Temporary audio file /tmp/tmplpdj90c1.wav cleaned up.
2025-07-27 04:11:25,201 - INFO - MainProcess - 127.0.0.1 - - [27/Jul/2025 04:11:25] "[35m[1mPOST /generate_video HTTP/1.1[0m" 500 -
2025-07-27 04:16:34,553 - INFO - MainProcess - Closing the GPU worker pool...
2025-07-27 04:16:39,963 - INFO - MainProcess - Starting Flask service...
2025-07-27 04:16:39,963 - INFO - MainProcess - Loading configuration file...
2025-07-27 04:16:39,977 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-27 04:16:39,977 - INFO - MainProcess - Loading model components...
2025-07-27 04:16:50,256 - INFO - MainProcess - All components loaded successfully.
2025-07-27 04:16:50,256 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-27 04:16:50,310 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-27 04:16:50,310 - INFO - MainProcess - Preprocessing video file: assets/WeChat_20250106160900.mp4...
2025-07-27 04:17:23,961 - INFO - MainProcess - Video preprocessed successfully. Found 776 frames/faces.
2025-07-27 04:17:23,961 - INFO - MainProcess - Creating and initializing a persistent pool of 3 GPU workers...
2025-07-27 04:17:23,967 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-27 04:17:23,967 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:5001
2025-07-27 04:17:24,046 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://117.74.66.188:5001
2025-07-27 04:17:24,046 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-27 04:24:47,115 - ERROR - MainProcess - 205.210.31.211 - - [27/Jul/2025 04:24:47] code 400, message Bad request version ('À\x13À')
2025-07-27 04:24:47,115 - INFO - MainProcess - 205.210.31.211 - - [27/Jul/2025 04:24:47] "[35m[1m\x16\x03\x01\x00î\x01\x00\x00ê\x03\x03ï\x9dVíéBº¡.ñ¦Ù\x1ao®yg¯<éy\x9a4°³ÉÉ<8çtÇ \x0dWý,\x9aù\x05\x93[\x1cË> vîl`NÁBB×©Ê\x95\x17~\x0c\x16,\x93d\x00&À+À/À,À0Ì©Ì¨À\x09À\x13À[0m" HTTPStatus.BAD_REQUEST -
2025-07-27 04:24:48,116 - ERROR - MainProcess - 205.210.31.211 - - [27/Jul/2025 04:24:48] code 400, message Bad request version ('À(À$À\x14À')
2025-07-27 04:24:48,117 - INFO - MainProcess - 205.210.31.211 - - [27/Jul/2025 04:24:48] "[35m[1m\x16\x03\x01\x00Ê\x01\x00\x00Æ\x03\x03ÌN\x05±?¥{å9\x19uÿ\x9a\x83\x8e¬\x04\x1a\x8fLuQ\x9c9\x02tª*\x0c ê}\x00\x00hÌ\x14Ì\x13À/À+À0À,À\x11À\x07À'À#À\x13À\x09À(À$À\x14À[0m" HTTPStatus.BAD_REQUEST -
2025-07-27 05:22:01,523 - INFO - MainProcess - 106.75.21.34 - - [27/Jul/2025 05:22:01] "[33mGET / HTTP/1.1[0m" 404 -
2025-07-27 05:27:44,419 - INFO - MainProcess - 106.75.167.138 - - [27/Jul/2025 05:27:44] "[33mGET / HTTP/1.1[0m" 404 -
2025-07-27 05:27:44,899 - INFO - MainProcess - 106.75.167.138 - - [27/Jul/2025 05:27:44] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-07-27 05:45:42,305 - INFO - MainProcess - Received audio file: Wavfile_1719704064_11.wav
2025-07-27 05:45:42,306 - INFO - MainProcess - Audio file saved temporarily to: /tmp/tmp0m2ihf1g.wav
2025-07-27 05:45:42,306 - INFO - MainProcess - Preparing tasks for GPU workers...
2025-07-27 05:45:42,328 - ERROR - MainProcess - Critical error during video generation: 'Audio2Feature' object has no attribute 'audiofeat'
Traceback (most recent call last):
  File "/data0/projects/LatentSync10/infer_serv.py", line 203, in generate_video_api
    whisper_feature = pipeline_global.audio_encoder.audiofeat(audio_path)
AttributeError: 'Audio2Feature' object has no attribute 'audiofeat'
2025-07-27 05:45:42,328 - INFO - MainProcess - Temporary audio file /tmp/tmp0m2ihf1g.wav cleaned up.
2025-07-27 05:45:42,329 - INFO - MainProcess - 127.0.0.1 - - [27/Jul/2025 05:45:42] "[35m[1mPOST /generate_video HTTP/1.1[0m" 500 -
2025-07-27 05:46:42,945 - INFO - MainProcess - Closing the GPU worker pool...
2025-07-27 05:46:48,358 - INFO - MainProcess - Starting Flask service...
2025-07-27 05:46:48,358 - INFO - MainProcess - Loading configuration file...
2025-07-27 05:46:48,371 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-27 05:46:48,372 - INFO - MainProcess - Loading model components...
2025-07-27 05:46:58,720 - INFO - MainProcess - All components loaded successfully.
2025-07-27 05:46:58,721 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-27 05:46:58,772 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-27 05:46:58,772 - INFO - MainProcess - Preprocessing video file: assets/WeChat_20250106160900.mp4...
2025-07-27 05:47:31,878 - INFO - MainProcess - Video preprocessed successfully. Found 776 frames/faces.
2025-07-27 05:47:31,878 - INFO - MainProcess - Creating and initializing a persistent pool of 3 GPU workers...
2025-07-27 05:47:31,883 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-27 05:47:31,883 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:5001
2025-07-27 05:47:31,966 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://117.74.66.188:5001
2025-07-27 05:47:31,966 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-27 05:47:56,393 - INFO - MainProcess - Received audio file: Wavfile_1719704064_11.wav
2025-07-27 05:47:56,394 - INFO - MainProcess - Audio file saved temporarily to: /tmp/tmp7ymx5kdu.wav
2025-07-27 05:47:56,394 - INFO - MainProcess - Preparing tasks for GPU workers...
2025-07-27 05:47:56,416 - ERROR - MainProcess - Critical error during video generation: 'Audio2Feature' object has no attribute 'audiofeat'
Traceback (most recent call last):
  File "/data0/projects/LatentSync10/infer_serv.py", line 203, in generate_video_api
    whisper_feature = pipeline_global.audio_encoder.audiofeat(audio_path)
AttributeError: 'Audio2Feature' object has no attribute 'audiofeat'
2025-07-27 05:47:56,417 - INFO - MainProcess - Temporary audio file /tmp/tmp7ymx5kdu.wav cleaned up.
2025-07-27 05:47:56,417 - INFO - MainProcess - 127.0.0.1 - - [27/Jul/2025 05:47:56] "[35m[1mPOST /generate_video HTTP/1.1[0m" 500 -
2025-07-27 08:05:24,997 - ERROR - MainProcess - 45.142.193.60 - - [27/Jul/2025 08:05:24] code 400, message Bad HTTP/0.9 request type ('\x03\x00\x00/*à\x00\x00\x00\x00\x00Cookie:')
2025-07-27 08:05:24,998 - INFO - MainProcess - 45.142.193.60 - - [27/Jul/2025 08:05:24] "[35m[1m\x03\x00\x00/*à\x00\x00\x00\x00\x00Cookie: mstshash=Administr[0m" HTTPStatus.BAD_REQUEST -
2025-07-27 08:25:23,251 - INFO - MainProcess - Closing the GPU worker pool...
2025-07-27 08:27:03,931 - INFO - MainProcess - Starting Flask service...
2025-07-27 08:27:03,931 - INFO - MainProcess - Loading configuration file...
2025-07-27 08:27:03,945 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-27 08:27:03,945 - INFO - MainProcess - Loading model components...
2025-07-27 08:27:14,730 - INFO - MainProcess - All components loaded successfully.
2025-07-27 08:27:14,730 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-27 08:27:14,784 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-27 08:27:14,784 - INFO - MainProcess - Preprocessing video file: assets/WeChat_20250106160900.mp4...
2025-07-27 08:27:48,256 - INFO - MainProcess - Video preprocessed successfully. Found 776 frames/faces.
2025-07-27 08:27:48,256 - INFO - MainProcess - Creating and initializing a persistent pool of 3 GPU workers...
2025-07-27 08:27:48,261 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-27 08:27:48,261 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:5001
2025-07-27 08:27:48,346 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://117.74.66.188:5001
2025-07-27 08:27:48,346 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-27 08:27:56,439 - INFO - MainProcess - Closing the GPU worker pool...
2025-07-27 08:28:02,704 - INFO - MainProcess - Starting Flask service...
2025-07-27 08:28:02,705 - INFO - MainProcess - Loading configuration file...
2025-07-27 08:28:02,718 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-27 08:28:02,718 - INFO - MainProcess - Loading model components...
2025-07-27 08:28:12,312 - INFO - MainProcess - All components loaded successfully.
2025-07-27 08:28:12,312 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-27 08:28:12,361 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-27 08:28:12,361 - INFO - MainProcess - Preprocessing video file: assets/WeChat_20250106160900.mp4...
2025-07-27 08:28:45,942 - INFO - MainProcess - Video preprocessed successfully. Found 776 frames/faces.
2025-07-27 08:28:45,942 - INFO - MainProcess - Creating and initializing a persistent pool of 3 GPU workers...
2025-07-27 08:28:45,949 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-27 08:28:45,949 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:5001
2025-07-27 08:28:46,241 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://117.74.66.188:5001
2025-07-27 08:28:46,242 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-27 08:29:57,298 - INFO - MainProcess - Received audio file: Wavfile_1719704064_11.wav
2025-07-27 08:29:57,299 - INFO - MainProcess - Audio file saved temporarily to: /tmp/tmp3e6r7z5z.wav
2025-07-27 08:29:57,299 - INFO - MainProcess - Preparing tasks for GPU workers...
2025-07-27 08:29:57,509 - INFO - MainProcess - Distributing 6 tasks to the worker pool...
2025-07-27 08:30:11,444 - INFO - MainProcess - Inference completed in 13.94 seconds.
2025-07-27 08:30:11,445 - ERROR - MainProcess - Critical error during video generation: name 'np' is not defined
Traceback (most recent call last):
  File "/data0/projects/LatentSync10/infer_serv.py", line 248, in generate_video_api
    final_video_frames = np.concatenate(valid_frames, axis=0)
NameError: name 'np' is not defined
2025-07-27 08:30:11,446 - INFO - MainProcess - Temporary audio file /tmp/tmp3e6r7z5z.wav cleaned up.
2025-07-27 08:30:11,450 - INFO - MainProcess - 127.0.0.1 - - [27/Jul/2025 08:30:11] "[35m[1mPOST /generate_video HTTP/1.1[0m" 500 -
2025-07-27 08:30:31,090 - INFO - MainProcess - Received audio file: Wavfile_1719704064_11.wav
2025-07-27 08:30:31,091 - INFO - MainProcess - Audio file saved temporarily to: /tmp/tmp_67ecbap.wav
2025-07-27 08:30:31,091 - INFO - MainProcess - Preparing tasks for GPU workers...
2025-07-27 08:30:31,203 - INFO - MainProcess - Distributing 6 tasks to the worker pool...
2025-07-27 08:30:35,208 - INFO - MainProcess - Inference completed in 4.00 seconds.
2025-07-27 08:30:35,208 - ERROR - MainProcess - Critical error during video generation: name 'np' is not defined
Traceback (most recent call last):
  File "/data0/projects/LatentSync10/infer_serv.py", line 248, in generate_video_api
    final_video_frames = np.concatenate(valid_frames, axis=0)
NameError: name 'np' is not defined
2025-07-27 08:30:35,209 - INFO - MainProcess - Temporary audio file /tmp/tmp_67ecbap.wav cleaned up.
2025-07-27 08:30:35,212 - INFO - MainProcess - 127.0.0.1 - - [27/Jul/2025 08:30:35] "[35m[1mPOST /generate_video HTTP/1.1[0m" 500 -
2025-07-27 08:30:38,934 - INFO - MainProcess - Received audio file: Wavfile_1719704064_11.wav
2025-07-27 08:30:38,934 - INFO - MainProcess - Audio file saved temporarily to: /tmp/tmpn29zl_rk.wav
2025-07-27 08:30:38,934 - INFO - MainProcess - Preparing tasks for GPU workers...
2025-07-27 08:30:39,026 - INFO - MainProcess - Distributing 6 tasks to the worker pool...
2025-07-27 08:30:43,085 - INFO - MainProcess - Inference completed in 4.06 seconds.
2025-07-27 08:30:43,085 - ERROR - MainProcess - Critical error during video generation: name 'np' is not defined
Traceback (most recent call last):
  File "/data0/projects/LatentSync10/infer_serv.py", line 248, in generate_video_api
    final_video_frames = np.concatenate(valid_frames, axis=0)
NameError: name 'np' is not defined
2025-07-27 08:30:43,086 - INFO - MainProcess - Temporary audio file /tmp/tmpn29zl_rk.wav cleaned up.
2025-07-27 08:30:43,088 - INFO - MainProcess - 127.0.0.1 - - [27/Jul/2025 08:30:43] "[35m[1mPOST /generate_video HTTP/1.1[0m" 500 -
2025-07-27 08:30:50,869 - INFO - MainProcess - Received audio file: Wavfile_1719704064_11.wav
2025-07-27 08:30:50,870 - INFO - MainProcess - Audio file saved temporarily to: /tmp/tmpm6opcp9p.wav
2025-07-27 08:30:50,870 - INFO - MainProcess - Preparing tasks for GPU workers...
2025-07-27 08:30:50,979 - INFO - MainProcess - Distributing 6 tasks to the worker pool...
2025-07-27 08:30:55,003 - INFO - MainProcess - Inference completed in 4.02 seconds.
2025-07-27 08:30:55,003 - ERROR - MainProcess - Critical error during video generation: name 'np' is not defined
Traceback (most recent call last):
  File "/data0/projects/LatentSync10/infer_serv.py", line 248, in generate_video_api
    final_video_frames = np.concatenate(valid_frames, axis=0)
NameError: name 'np' is not defined
2025-07-27 08:30:55,004 - INFO - MainProcess - Temporary audio file /tmp/tmpm6opcp9p.wav cleaned up.
2025-07-27 08:30:55,006 - INFO - MainProcess - 127.0.0.1 - - [27/Jul/2025 08:30:55] "[35m[1mPOST /generate_video HTTP/1.1[0m" 500 -
2025-07-27 08:37:20,210 - INFO - MainProcess - Received audio file: Wavfile_1719704064_11.wav
2025-07-27 08:37:20,211 - INFO - MainProcess - Audio file saved temporarily to: /tmp/tmp5vkldh7k.wav
2025-07-27 08:37:20,211 - INFO - MainProcess - Preparing tasks for GPU workers...
2025-07-27 08:37:20,336 - INFO - MainProcess - Distributing 6 tasks to the worker pool...
2025-07-27 08:37:24,518 - INFO - MainProcess - Inference completed in 4.18 seconds.
2025-07-27 08:37:24,519 - ERROR - MainProcess - Critical error during video generation: name 'np' is not defined
Traceback (most recent call last):
  File "/data0/projects/LatentSync10/infer_serv.py", line 248, in generate_video_api
    final_video_frames = np.concatenate(valid_frames, axis=0)
NameError: name 'np' is not defined
2025-07-27 08:37:24,520 - INFO - MainProcess - Temporary audio file /tmp/tmp5vkldh7k.wav cleaned up.
2025-07-27 08:37:24,522 - INFO - MainProcess - 127.0.0.1 - - [27/Jul/2025 08:37:24] "[35m[1mPOST /generate_video HTTP/1.1[0m" 500 -
2025-07-27 08:37:35,740 - INFO - MainProcess - Received audio file: audio_sanxingdui_001.wav
2025-07-27 08:37:35,743 - INFO - MainProcess - Audio file saved temporarily to: /tmp/tmpdlj3huue.wav
2025-07-27 08:37:35,743 - INFO - MainProcess - Preparing tasks for GPU workers...
2025-07-27 08:37:35,996 - INFO - MainProcess - Distributing 48 tasks to the worker pool...
2025-07-27 08:38:07,498 - INFO - MainProcess - Inference completed in 31.50 seconds.
2025-07-27 08:38:07,499 - ERROR - MainProcess - Critical error during video generation: name 'np' is not defined
Traceback (most recent call last):
  File "/data0/projects/LatentSync10/infer_serv.py", line 248, in generate_video_api
    final_video_frames = np.concatenate(valid_frames, axis=0)
NameError: name 'np' is not defined
2025-07-27 08:38:07,500 - INFO - MainProcess - Temporary audio file /tmp/tmpdlj3huue.wav cleaned up.
2025-07-27 08:38:07,595 - INFO - MainProcess - 127.0.0.1 - - [27/Jul/2025 08:38:07] "[35m[1mPOST /generate_video HTTP/1.1[0m" 500 -
2025-07-27 08:38:37,234 - INFO - MainProcess - Closing the GPU worker pool...
2025-07-27 08:38:54,936 - INFO - MainProcess - Starting Flask service...
2025-07-27 08:38:54,936 - INFO - MainProcess - Loading configuration file...
2025-07-27 08:38:54,949 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-27 08:38:54,949 - INFO - MainProcess - Loading model components...
2025-07-27 08:39:05,344 - INFO - MainProcess - All components loaded successfully.
2025-07-27 08:39:05,344 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-27 08:39:05,396 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-27 08:39:05,396 - INFO - MainProcess - Preprocessing video file: assets/WeChat_20250106160900.mp4...
2025-07-27 08:39:38,606 - INFO - MainProcess - Video preprocessed successfully. Found 776 frames/faces.
2025-07-27 08:39:38,606 - INFO - MainProcess - Creating and initializing a persistent pool of 4 GPU workers...
2025-07-27 08:39:38,612 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-27 08:39:38,613 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:5001
2025-07-27 08:39:38,731 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://117.74.66.188:5001
2025-07-27 08:39:38,731 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-27 08:39:48,030 - INFO - MainProcess - Received audio file: Wavfile_1719704064_11.wav
2025-07-27 08:39:48,031 - INFO - MainProcess - Audio file saved temporarily to: /tmp/tmpcop64x3f.wav
2025-07-27 08:39:48,031 - INFO - MainProcess - Preparing tasks for GPU workers...
2025-07-27 08:39:48,227 - INFO - MainProcess - Distributing 6 tasks to the worker pool...
2025-07-27 08:40:09,532 - INFO - MainProcess - Inference completed in 21.30 seconds.
2025-07-27 08:40:09,532 - ERROR - MainProcess - Critical error during video generation: name 'np' is not defined
Traceback (most recent call last):
  File "/data0/projects/LatentSync10/infer_serv.py", line 248, in generate_video_api
    final_video_frames = np.concatenate(valid_frames, axis=0)
NameError: name 'np' is not defined
2025-07-27 08:40:09,533 - INFO - MainProcess - Temporary audio file /tmp/tmpcop64x3f.wav cleaned up.
2025-07-27 08:40:09,535 - INFO - MainProcess - 127.0.0.1 - - [27/Jul/2025 08:40:09] "[35m[1mPOST /generate_video HTTP/1.1[0m" 500 -
2025-07-27 08:40:12,137 - INFO - MainProcess - Received audio file: Wavfile_1719704064_11.wav
2025-07-27 08:40:12,138 - INFO - MainProcess - Audio file saved temporarily to: /tmp/tmpjjn73l22.wav
2025-07-27 08:40:12,138 - INFO - MainProcess - Preparing tasks for GPU workers...
2025-07-27 08:40:12,254 - INFO - MainProcess - Distributing 6 tasks to the worker pool...
2025-07-27 08:40:16,240 - INFO - MainProcess - Inference completed in 3.99 seconds.
2025-07-27 08:40:16,241 - ERROR - MainProcess - Critical error during video generation: name 'np' is not defined
Traceback (most recent call last):
  File "/data0/projects/LatentSync10/infer_serv.py", line 248, in generate_video_api
    final_video_frames = np.concatenate(valid_frames, axis=0)
NameError: name 'np' is not defined
2025-07-27 08:40:16,241 - INFO - MainProcess - Temporary audio file /tmp/tmpjjn73l22.wav cleaned up.
2025-07-27 08:40:16,243 - INFO - MainProcess - 127.0.0.1 - - [27/Jul/2025 08:40:16] "[35m[1mPOST /generate_video HTTP/1.1[0m" 500 -
2025-07-27 08:40:19,680 - INFO - MainProcess - Received audio file: Wavfile_1719704064_11.wav
2025-07-27 08:40:19,680 - INFO - MainProcess - Audio file saved temporarily to: /tmp/tmphw9ifutg.wav
2025-07-27 08:40:19,681 - INFO - MainProcess - Preparing tasks for GPU workers...
2025-07-27 08:40:19,804 - INFO - MainProcess - Distributing 6 tasks to the worker pool...
2025-07-27 08:40:23,860 - INFO - MainProcess - Inference completed in 4.06 seconds.
2025-07-27 08:40:23,861 - ERROR - MainProcess - Critical error during video generation: name 'np' is not defined
Traceback (most recent call last):
  File "/data0/projects/LatentSync10/infer_serv.py", line 248, in generate_video_api
    final_video_frames = np.concatenate(valid_frames, axis=0)
NameError: name 'np' is not defined
2025-07-27 08:40:23,862 - INFO - MainProcess - Temporary audio file /tmp/tmphw9ifutg.wav cleaned up.
2025-07-27 08:40:23,865 - INFO - MainProcess - 127.0.0.1 - - [27/Jul/2025 08:40:23] "[35m[1mPOST /generate_video HTTP/1.1[0m" 500 -
2025-07-27 08:40:26,665 - INFO - MainProcess - Received audio file: Wavfile_1719704064_11.wav
2025-07-27 08:40:26,665 - INFO - MainProcess - Audio file saved temporarily to: /tmp/tmpzctvqiwe.wav
2025-07-27 08:40:26,665 - INFO - MainProcess - Preparing tasks for GPU workers...
2025-07-27 08:40:26,769 - INFO - MainProcess - Distributing 6 tasks to the worker pool...
2025-07-27 08:40:30,737 - INFO - MainProcess - Inference completed in 3.97 seconds.
2025-07-27 08:40:30,738 - ERROR - MainProcess - Critical error during video generation: name 'np' is not defined
Traceback (most recent call last):
  File "/data0/projects/LatentSync10/infer_serv.py", line 248, in generate_video_api
    final_video_frames = np.concatenate(valid_frames, axis=0)
NameError: name 'np' is not defined
2025-07-27 08:40:30,739 - INFO - MainProcess - Temporary audio file /tmp/tmpzctvqiwe.wav cleaned up.
2025-07-27 08:40:30,741 - INFO - MainProcess - 127.0.0.1 - - [27/Jul/2025 08:40:30] "[35m[1mPOST /generate_video HTTP/1.1[0m" 500 -
2025-07-27 08:40:33,763 - INFO - MainProcess - Received audio file: Wavfile_1719704064_11.wav
2025-07-27 08:40:33,763 - INFO - MainProcess - Audio file saved temporarily to: /tmp/tmplxs7dp3p.wav
2025-07-27 08:40:33,763 - INFO - MainProcess - Preparing tasks for GPU workers...
2025-07-27 08:40:33,865 - INFO - MainProcess - Distributing 6 tasks to the worker pool...
2025-07-27 08:40:37,907 - INFO - MainProcess - Inference completed in 4.04 seconds.
2025-07-27 08:40:37,907 - ERROR - MainProcess - Critical error during video generation: name 'np' is not defined
Traceback (most recent call last):
  File "/data0/projects/LatentSync10/infer_serv.py", line 248, in generate_video_api
    final_video_frames = np.concatenate(valid_frames, axis=0)
NameError: name 'np' is not defined
2025-07-27 08:40:37,908 - INFO - MainProcess - Temporary audio file /tmp/tmplxs7dp3p.wav cleaned up.
2025-07-27 08:40:37,911 - INFO - MainProcess - 127.0.0.1 - - [27/Jul/2025 08:40:37] "[35m[1mPOST /generate_video HTTP/1.1[0m" 500 -
2025-07-27 08:40:42,308 - INFO - MainProcess - Received audio file: audio_sanxingdui_001.wav
2025-07-27 08:40:42,311 - INFO - MainProcess - Audio file saved temporarily to: /tmp/tmphe3t3xsv.wav
2025-07-27 08:40:42,311 - INFO - MainProcess - Preparing tasks for GPU workers...
2025-07-27 08:40:42,573 - INFO - MainProcess - Distributing 48 tasks to the worker pool...
2025-07-27 08:41:07,058 - INFO - MainProcess - Inference completed in 24.49 seconds.
2025-07-27 08:41:07,058 - ERROR - MainProcess - Critical error during video generation: name 'np' is not defined
Traceback (most recent call last):
  File "/data0/projects/LatentSync10/infer_serv.py", line 248, in generate_video_api
    final_video_frames = np.concatenate(valid_frames, axis=0)
NameError: name 'np' is not defined
2025-07-27 08:41:07,059 - INFO - MainProcess - Temporary audio file /tmp/tmphe3t3xsv.wav cleaned up.
2025-07-27 08:41:07,105 - INFO - MainProcess - 127.0.0.1 - - [27/Jul/2025 08:41:07] "[35m[1mPOST /generate_video HTTP/1.1[0m" 500 -
2025-07-27 08:42:17,983 - INFO - MainProcess - Closing the GPU worker pool...
2025-07-27 08:42:25,828 - INFO - MainProcess - Starting Flask service...
2025-07-27 08:42:25,828 - INFO - MainProcess - Loading configuration file...
2025-07-27 08:42:25,841 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-27 08:42:25,841 - INFO - MainProcess - Loading model components...
2025-07-27 08:42:35,536 - INFO - MainProcess - All components loaded successfully.
2025-07-27 08:42:35,536 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-27 08:42:35,590 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-27 08:42:35,590 - INFO - MainProcess - Preprocessing video file: assets/WeChat_20250106160900.mp4...
2025-07-27 08:43:08,450 - INFO - MainProcess - Video preprocessed successfully. Found 776 frames/faces.
2025-07-27 08:43:08,450 - INFO - MainProcess - Creating and initializing a persistent pool of 4 GPU workers...
2025-07-27 08:43:08,457 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-27 08:43:08,457 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:5001
2025-07-27 08:43:08,529 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://117.74.66.188:5001
2025-07-27 08:43:08,529 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-27 08:43:17,234 - INFO - MainProcess - Received audio file: Wavfile_1719704064_11.wav
2025-07-27 08:43:17,235 - INFO - MainProcess - Audio file saved temporarily to: /tmp/tmp1oiq8mx2.wav
2025-07-27 08:43:17,235 - INFO - MainProcess - Preparing tasks for GPU workers...
2025-07-27 08:43:17,419 - INFO - MainProcess - Distributing 6 tasks to the worker pool...
2025-07-27 08:43:37,614 - INFO - MainProcess - Inference completed in 20.19 seconds.
2025-07-27 08:43:37,614 - ERROR - MainProcess - Critical error during video generation: name 'np' is not defined
Traceback (most recent call last):
  File "/data0/projects/LatentSync10/infer_serv.py", line 248, in generate_video_api
    final_video_frames = np.concatenate(valid_frames, axis=0)
NameError: name 'np' is not defined
2025-07-27 08:43:37,614 - INFO - MainProcess - Temporary audio file /tmp/tmp1oiq8mx2.wav cleaned up.
2025-07-27 08:43:37,616 - INFO - MainProcess - 127.0.0.1 - - [27/Jul/2025 08:43:37] "[35m[1mPOST /generate_video HTTP/1.1[0m" 500 -
2025-07-27 08:44:16,381 - INFO - MainProcess - Received audio file: Wavfile_1719704064_11.wav
2025-07-27 08:44:16,382 - INFO - MainProcess - Audio file saved temporarily to: /tmp/tmp6djlwdc2.wav
2025-07-27 08:44:16,382 - INFO - MainProcess - Preparing tasks for GPU workers...
2025-07-27 08:44:16,484 - INFO - MainProcess - Distributing 6 tasks to the worker pool...
2025-07-27 08:44:20,446 - INFO - MainProcess - Inference completed in 3.96 seconds.
2025-07-27 08:44:20,447 - ERROR - MainProcess - Critical error during video generation: name 'np' is not defined
Traceback (most recent call last):
  File "/data0/projects/LatentSync10/infer_serv.py", line 248, in generate_video_api
    final_video_frames = np.concatenate(valid_frames, axis=0)
NameError: name 'np' is not defined
2025-07-27 08:44:20,448 - INFO - MainProcess - Temporary audio file /tmp/tmp6djlwdc2.wav cleaned up.
2025-07-27 08:44:20,450 - INFO - MainProcess - 127.0.0.1 - - [27/Jul/2025 08:44:20] "[35m[1mPOST /generate_video HTTP/1.1[0m" 500 -
2025-07-27 08:46:43,210 - INFO - MainProcess - Closing the GPU worker pool...
2025-07-27 08:46:49,675 - INFO - MainProcess - Starting Flask service...
2025-07-27 08:46:49,675 - INFO - MainProcess - Loading configuration file...
2025-07-27 08:46:49,688 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-27 08:46:49,688 - INFO - MainProcess - Loading model components...
2025-07-27 08:46:59,857 - INFO - MainProcess - All components loaded successfully.
2025-07-27 08:46:59,857 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-27 08:46:59,909 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-27 08:46:59,909 - INFO - MainProcess - Preprocessing video file: assets/WeChat_20250106160900.mp4...
2025-07-27 08:47:33,337 - INFO - MainProcess - Video preprocessed successfully. Found 776 frames/faces.
2025-07-27 08:47:33,337 - INFO - MainProcess - Creating and initializing a persistent pool of 4 GPU workers...
2025-07-27 08:47:33,343 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-27 08:47:33,343 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:5001
2025-07-27 08:47:33,417 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://117.74.66.188:5001
2025-07-27 08:47:33,417 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-27 08:52:46,731 - INFO - MainProcess - Received audio file: 4s_Wavfile_1719704064_11.wav
2025-07-27 08:52:46,732 - INFO - MainProcess - Audio file saved temporarily to: /tmp/tmpucmbro05.wav
2025-07-27 08:52:46,732 - INFO - MainProcess - Preparing tasks for GPU workers...
2025-07-27 08:52:46,930 - INFO - MainProcess - Distributing 6 tasks to the worker pool...
2025-07-27 08:53:01,454 - INFO - MainProcess - Inference completed in 14.52 seconds.
2025-07-27 08:53:01,532 - INFO - MainProcess - Starting RTMP stream...
2025-07-27 08:53:08,521 - INFO - MainProcess - Closing the GPU worker pool...
2025-07-27 08:53:08,989 - INFO - MainProcess - Request for '4s_Wavfile_1719704064_11.wav' completed successfully.
2025-07-27 08:53:08,989 - INFO - MainProcess - Temporary audio file /tmp/tmpucmbro05.wav cleaned up.
2025-07-27 08:53:09,004 - INFO - MainProcess - 127.0.0.1 - - [27/Jul/2025 08:53:09] "POST /generate_video HTTP/1.1" 200 -
2025-07-27 08:53:15,466 - INFO - MainProcess - Starting Flask service...
2025-07-27 08:53:15,466 - INFO - MainProcess - Loading configuration file...
2025-07-27 08:53:15,479 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-27 08:53:15,479 - INFO - MainProcess - Loading model components...
2025-07-27 08:53:25,256 - INFO - MainProcess - All components loaded successfully.
2025-07-27 08:53:25,256 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-27 08:53:25,308 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-27 08:53:25,308 - INFO - MainProcess - Preprocessing video file: assets/WeChat_20250106160900.mp4...
2025-07-27 08:53:58,511 - INFO - MainProcess - Video preprocessed successfully. Found 776 frames/faces.
2025-07-27 08:53:58,511 - INFO - MainProcess - Creating and initializing a persistent pool of 4 GPU workers...
2025-07-27 08:53:58,517 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-27 08:53:58,517 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:5001
2025-07-27 08:53:58,602 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://117.74.66.188:5001
2025-07-27 08:53:58,602 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-27 08:54:10,586 - INFO - MainProcess - Received audio file: 4s_Wavfile_1719704064_11.wav
2025-07-27 08:54:10,587 - INFO - MainProcess - Audio file saved temporarily to: /tmp/tmp8etgud7i.wav
2025-07-27 08:54:10,587 - INFO - MainProcess - Preparing tasks for GPU workers...
2025-07-27 08:54:10,788 - INFO - MainProcess - Distributing 6 tasks to the worker pool...
2025-07-27 08:54:29,037 - INFO - MainProcess - Inference completed in 18.25 seconds.
2025-07-27 08:54:29,105 - INFO - MainProcess - Starting RTMP stream...
2025-07-27 08:54:39,370 - INFO - MainProcess - Received audio file: 4s_Wavfile_1719704064_11.wav
2025-07-27 08:54:39,371 - INFO - MainProcess - Audio file saved temporarily to: /tmp/tmpynm8_w5n.wav
2025-07-27 08:54:39,371 - INFO - MainProcess - Preparing tasks for GPU workers...
2025-07-27 08:54:39,477 - INFO - MainProcess - Distributing 6 tasks to the worker pool...
2025-07-27 08:54:43,456 - INFO - MainProcess - Inference completed in 3.98 seconds.
2025-07-27 08:54:43,535 - INFO - MainProcess - Starting RTMP stream...
2025-07-27 08:54:43,741 - INFO - MainProcess - Request for '4s_Wavfile_1719704064_11.wav' completed successfully.
2025-07-27 08:54:43,742 - INFO - MainProcess - Temporary audio file /tmp/tmpynm8_w5n.wav cleaned up.
2025-07-27 08:54:43,745 - INFO - MainProcess - 127.0.0.1 - - [27/Jul/2025 08:54:43] "POST /generate_video HTTP/1.1" 200 -
2025-07-27 08:55:10,672 - INFO - MainProcess - Closing the GPU worker pool...
2025-07-27 08:55:10,984 - INFO - MainProcess - Request for '4s_Wavfile_1719704064_11.wav' completed successfully.
2025-07-27 08:55:10,984 - INFO - MainProcess - Temporary audio file /tmp/tmp8etgud7i.wav cleaned up.
2025-07-27 08:55:11,000 - INFO - MainProcess - 127.0.0.1 - - [27/Jul/2025 08:55:11] "POST /generate_video HTTP/1.1" 200 -
2025-07-27 08:55:16,994 - INFO - MainProcess - Starting Flask service...
2025-07-27 08:55:16,994 - INFO - MainProcess - Loading configuration file...
2025-07-27 08:55:17,008 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-27 08:55:17,008 - INFO - MainProcess - Loading model components...
2025-07-27 08:55:26,649 - INFO - MainProcess - All components loaded successfully.
2025-07-27 08:55:26,649 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-27 08:55:26,700 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-27 08:55:26,701 - INFO - MainProcess - Preprocessing video file: assets/WeChat_20250106160900.mp4...
2025-07-27 08:55:59,735 - INFO - MainProcess - Video preprocessed successfully. Found 776 frames/faces.
2025-07-27 08:55:59,735 - INFO - MainProcess - Creating and initializing a persistent pool of 4 GPU workers...
2025-07-27 08:55:59,741 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-27 08:55:59,741 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:5001
2025-07-27 08:55:59,818 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://117.74.66.188:5001
2025-07-27 08:55:59,818 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-27 08:59:06,790 - INFO - MainProcess - Received audio file: 4s_Wavfile_1719704064_11.wav
2025-07-27 08:59:06,791 - INFO - MainProcess - Audio file saved temporarily to: /tmp/tmpvjuqk2q7.wav
2025-07-27 08:59:06,791 - INFO - MainProcess - Preparing tasks for GPU workers...
2025-07-27 08:59:06,996 - INFO - MainProcess - Distributing 6 tasks to the worker pool...
2025-07-27 08:59:21,658 - INFO - MainProcess - Inference completed in 14.66 seconds.
2025-07-27 08:59:21,722 - INFO - MainProcess - Starting RTMP stream...
2025-07-27 09:17:48,952 - INFO - MainProcess - Closing the GPU worker pool...
2025-07-27 09:17:49,191 - INFO - MainProcess - Request for '4s_Wavfile_1719704064_11.wav' completed successfully.
2025-07-27 09:17:49,191 - INFO - MainProcess - Temporary audio file /tmp/tmpvjuqk2q7.wav cleaned up.
2025-07-27 09:17:49,200 - INFO - MainProcess - 127.0.0.1 - - [27/Jul/2025 09:17:49] "POST /generate_video HTTP/1.1" 200 -
2025-07-27 09:17:55,182 - INFO - MainProcess - Starting Flask service...
2025-07-27 09:17:55,182 - INFO - MainProcess - Loading configuration file...
2025-07-27 09:17:55,196 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-27 09:17:55,196 - INFO - MainProcess - Loading model components...
2025-07-27 09:18:05,650 - INFO - MainProcess - All components loaded successfully.
2025-07-27 09:18:05,650 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-27 09:18:05,702 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-27 09:18:05,702 - INFO - MainProcess - Preprocessing video file: assets/WeChat_20250106160900.mp4...
2025-07-27 09:18:39,148 - INFO - MainProcess - Video preprocessed successfully. Found 776 frames/faces.
2025-07-27 09:18:39,148 - INFO - MainProcess - Creating and initializing a persistent pool of 4 GPU workers...
2025-07-27 09:18:39,154 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-27 09:18:39,154 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:5001
2025-07-27 09:18:39,267 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://117.74.66.188:5001
2025-07-27 09:18:39,267 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-27 09:19:33,827 - INFO - MainProcess - Received audio file: 4s_Wavfile_1719704064_11.wav
2025-07-27 09:19:33,828 - INFO - MainProcess - Audio file saved temporarily to: /tmp/tmp2i5qiova.wav
2025-07-27 09:19:33,828 - INFO - MainProcess - Preparing tasks for GPU workers...
2025-07-27 09:19:34,020 - INFO - MainProcess - Distributing 6 tasks to the worker pool...
2025-07-27 09:19:49,546 - INFO - MainProcess - Inference completed in 15.53 seconds.
2025-07-27 09:19:49,624 - INFO - MainProcess - Starting RTMP stream...
2025-07-27 09:41:35,383 - INFO - MainProcess - Closing the GPU worker pool...
2025-07-27 09:41:35,933 - INFO - MainProcess - Request for '4s_Wavfile_1719704064_11.wav' completed successfully.
2025-07-27 09:41:35,933 - INFO - MainProcess - Temporary audio file /tmp/tmp2i5qiova.wav cleaned up.
2025-07-27 09:41:35,948 - INFO - MainProcess - 127.0.0.1 - - [27/Jul/2025 09:41:35] "POST /generate_video HTTP/1.1" 200 -
2025-07-27 09:41:42,294 - INFO - MainProcess - Starting Flask service...
2025-07-27 09:41:42,294 - INFO - MainProcess - Loading configuration file...
2025-07-27 09:41:42,307 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-27 09:41:42,307 - INFO - MainProcess - Loading model components...
2025-07-27 09:41:52,610 - INFO - MainProcess - All components loaded successfully.
2025-07-27 09:41:52,610 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-27 09:41:52,665 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-27 09:41:52,665 - INFO - MainProcess - Preprocessing video file: assets/WeChat_20250106160900.mp4...
2025-07-27 09:42:26,165 - INFO - MainProcess - Video preprocessed successfully. Found 776 frames/faces.
2025-07-27 09:42:26,165 - INFO - MainProcess - Creating and initializing a persistent pool of 4 GPU workers...
2025-07-27 09:42:26,170 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-27 09:42:26,170 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:5001
2025-07-27 09:42:26,253 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://117.74.66.188:5001
2025-07-27 09:42:26,253 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-27 09:43:01,953 - INFO - MainProcess - Received audio file: 4s_Wavfile_1719704064_11.wav
2025-07-27 09:43:01,954 - INFO - MainProcess - Audio file saved temporarily to: /tmp/tmp9us235os.wav
2025-07-27 09:43:01,954 - INFO - MainProcess - Preparing tasks for GPU workers...
2025-07-27 09:43:02,131 - INFO - MainProcess - Distributing 6 tasks to the worker pool...
2025-07-27 09:43:17,256 - INFO - MainProcess - Inference completed in 15.13 seconds.
2025-07-27 09:43:17,317 - INFO - MainProcess - Starting RTMP stream...
2025-07-27 09:44:20,588 - INFO - MainProcess - 3.132.23.201 - - [27/Jul/2025 09:44:20] "[33mGET / HTTP/1.1[0m" 404 -
2025-07-27 09:45:55,377 - INFO - MainProcess - 3.132.23.201 - - [27/Jul/2025 09:45:55] "[33mGET / HTTP/1.1[0m" 404 -
2025-07-27 09:47:07,346 - ERROR - MainProcess - 3.132.23.201 - - [27/Jul/2025 09:47:07] code 400, message Bad request version ('À\x14À')
2025-07-27 09:47:07,346 - INFO - MainProcess - 3.132.23.201 - - [27/Jul/2025 09:47:07] "[35m[1m\x16\x03\x01\x00{\x01\x00\x00w\x03\x03\x8b\x0dþU\x13\x1f\x09©?\\\x87ô\x0e ¬/CÊwFB'¡AóßÌ\x1cù\x0b\x95\x88\x00\x00\x1aÀ/À+À\x11À\x07À\x13À\x09À\x14À[0m" HTTPStatus.BAD_REQUEST -
2025-07-27 09:48:43,831 - ERROR - MainProcess - 3.132.23.201 - - [27/Jul/2025 09:48:43] code 400, message Bad request syntax ('SSH-2.0-Go')
2025-07-27 09:48:43,831 - INFO - MainProcess - 3.132.23.201 - - [27/Jul/2025 09:48:43] "[35m[1mSSH-2.0-Go[0m" HTTPStatus.BAD_REQUEST -
2025-07-27 09:50:06,597 - ERROR - MainProcess - 3.132.23.201 - - [27/Jul/2025 09:50:06] code 400, message Bad request version ('À\x14À')
2025-07-27 09:50:06,597 - INFO - MainProcess - 3.132.23.201 - - [27/Jul/2025 09:50:06] "[35m[1m\x16\x03\x01\x00{\x01\x00\x00w\x03\x03qI¬\x18ìeóìù­þÕ\x8f\x1aÑË´O\x11ko=\x07â\x82J¾"O÷î \x00\x00\x1aÀ/À+À\x11À\x07À\x13À\x09À\x14À[0m" HTTPStatus.BAD_REQUEST -
2025-07-27 10:04:32,485 - INFO - MainProcess - Closing the GPU worker pool...
2025-07-27 10:04:32,874 - INFO - MainProcess - Request for '4s_Wavfile_1719704064_11.wav' completed successfully.
2025-07-27 10:04:32,874 - INFO - MainProcess - Temporary audio file /tmp/tmp9us235os.wav cleaned up.
2025-07-27 10:04:32,883 - INFO - MainProcess - 127.0.0.1 - - [27/Jul/2025 10:04:32] "POST /generate_video HTTP/1.1" 200 -
2025-07-27 10:04:38,422 - INFO - MainProcess - Starting Flask service...
2025-07-27 10:04:38,422 - INFO - MainProcess - Loading configuration file...
2025-07-27 10:04:38,436 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-27 10:04:38,436 - INFO - MainProcess - Loading model components...
2025-07-27 10:04:41,916 - INFO - MainProcess - Manually set VAE config: scaling_factor=0.18215, shift_factor=0
2025-07-27 10:04:49,262 - INFO - MainProcess - All components loaded successfully.
2025-07-27 10:04:49,262 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-27 10:04:49,317 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-27 10:04:49,317 - INFO - MainProcess - Preprocessing video file: assets/WeChat_20250106160900.mp4...
2025-07-27 10:05:22,676 - INFO - MainProcess - Video preprocessed successfully. Found 776 frames/faces.
2025-07-27 10:05:22,677 - INFO - MainProcess - Creating and initializing a persistent pool of 4 GPU workers...
2025-07-27 10:05:22,683 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-27 10:05:22,683 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:5001
2025-07-27 10:05:22,797 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://117.74.66.188:5001
2025-07-27 10:05:22,797 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-27 10:05:44,580 - INFO - MainProcess - Received audio file: 4s_Wavfile_1719704064_11.wav
2025-07-27 10:05:44,581 - INFO - MainProcess - Audio file saved temporarily to: /tmp/tmpbttbzxxj.wav
2025-07-27 10:05:44,581 - INFO - MainProcess - Preparing tasks for GPU workers...
2025-07-27 10:05:44,757 - INFO - MainProcess - Distributing 6 tasks to the worker pool...
2025-07-27 10:05:50,225 - INFO - MainProcess - Inference completed in 5.47 seconds.
2025-07-27 10:05:50,225 - ERROR - MainProcess - Critical error during video generation: All inference tasks failed.
Traceback (most recent call last):
  File "/data0/projects/LatentSync10/infer_serv.py", line 252, in generate_video_api
    raise RuntimeError("All inference tasks failed.")
RuntimeError: All inference tasks failed.
2025-07-27 10:05:50,226 - INFO - MainProcess - Temporary audio file /tmp/tmpbttbzxxj.wav cleaned up.
2025-07-27 10:05:50,230 - INFO - MainProcess - 127.0.0.1 - - [27/Jul/2025 10:05:50] "[35m[1mPOST /generate_video HTTP/1.1[0m" 500 -
2025-07-27 10:11:23,919 - INFO - MainProcess - Closing the GPU worker pool...
2025-07-27 10:11:30,548 - INFO - MainProcess - Starting Flask service...
2025-07-27 10:11:30,548 - INFO - MainProcess - Loading configuration file...
2025-07-27 10:11:30,561 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-27 10:11:30,561 - INFO - MainProcess - Loading model components...
2025-07-27 10:11:33,177 - INFO - MainProcess - Manually set VAE config: scaling_factor=0.18215, shift_factor=0
2025-07-27 10:11:40,552 - INFO - MainProcess - All components loaded successfully.
2025-07-27 10:11:40,552 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-27 10:11:40,605 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-27 10:11:40,605 - INFO - MainProcess - Preprocessing video file: assets/WeChat_20250106160900.mp4...
2025-07-27 10:12:13,841 - INFO - MainProcess - Video preprocessed successfully. Found 776 frames/faces.
2025-07-27 10:12:13,842 - INFO - MainProcess - Creating and initializing a persistent pool of 4 GPU workers...
2025-07-27 10:12:13,848 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-27 10:12:13,848 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:5001
2025-07-27 10:12:13,929 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://117.74.66.188:5001
2025-07-27 10:12:13,929 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-27 10:12:51,995 - INFO - MainProcess - Received audio file: 4s_Wavfile_1719704064_11.wav
2025-07-27 10:12:51,995 - INFO - MainProcess - Audio file saved temporarily to: /tmp/tmpzr5m50by.wav
2025-07-27 10:12:51,995 - INFO - MainProcess - Preparing tasks for GPU workers...
2025-07-27 10:12:52,183 - INFO - MainProcess - Distributing 6 tasks to the worker pool...
2025-07-27 10:12:57,799 - INFO - MainProcess - Inference completed in 5.62 seconds.
2025-07-27 10:12:57,799 - ERROR - MainProcess - Critical error during video generation: All inference tasks failed.
Traceback (most recent call last):
  File "/data0/projects/LatentSync10/infer_serv.py", line 252, in generate_video_api
    raise RuntimeError("All inference tasks failed.")
RuntimeError: All inference tasks failed.
2025-07-27 10:12:57,800 - INFO - MainProcess - Temporary audio file /tmp/tmpzr5m50by.wav cleaned up.
2025-07-27 10:12:57,803 - INFO - MainProcess - 127.0.0.1 - - [27/Jul/2025 10:12:57] "[35m[1mPOST /generate_video HTTP/1.1[0m" 500 -
2025-07-27 10:23:07,534 - INFO - MainProcess - Closing the GPU worker pool...
2025-07-27 10:24:03,934 - INFO - MainProcess - Starting Flask service...
2025-07-27 10:24:03,934 - INFO - MainProcess - Loading configuration file...
2025-07-27 10:24:03,947 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-27 10:24:03,948 - INFO - MainProcess - Loading model components...
2025-07-27 10:24:07,296 - INFO - MainProcess - Manually set VAE config: scaling_factor=0.18215, shift_factor=0
2025-07-27 10:24:14,639 - INFO - MainProcess - All components loaded successfully.
2025-07-27 10:24:14,640 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-27 10:24:14,693 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-27 10:24:14,693 - INFO - MainProcess - Preprocessing video file: assets/WeChat_20250106160900.mp4...
2025-07-27 10:24:48,085 - INFO - MainProcess - Video preprocessed successfully. Found 776 frames/faces.
2025-07-27 10:24:48,086 - INFO - MainProcess - Creating and initializing a persistent pool of 4 GPU workers...
2025-07-27 10:24:48,092 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-27 10:24:48,092 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:5001
2025-07-27 10:24:48,208 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://117.74.66.188:5001
2025-07-27 10:24:48,208 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-27 10:25:22,948 - INFO - MainProcess - Received audio file: 4s_Wavfile_1719704064_11.wav
2025-07-27 10:25:22,949 - INFO - MainProcess - Audio file saved temporarily to: /tmp/tmpabbu5jnc.wav
2025-07-27 10:25:22,949 - INFO - MainProcess - Preparing tasks for GPU workers...
2025-07-27 10:25:23,139 - INFO - MainProcess - Distributing 6 tasks to the worker pool...
2025-07-27 10:25:28,150 - INFO - MainProcess - Inference completed in 5.01 seconds.
2025-07-27 10:25:28,151 - ERROR - MainProcess - Critical error during video generation: All inference tasks failed.
Traceback (most recent call last):
  File "/data0/projects/LatentSync10/infer_serv.py", line 252, in generate_video_api
    raise RuntimeError("All inference tasks failed.")
RuntimeError: All inference tasks failed.
2025-07-27 10:25:28,152 - INFO - MainProcess - Temporary audio file /tmp/tmpabbu5jnc.wav cleaned up.
2025-07-27 10:25:28,154 - INFO - MainProcess - 127.0.0.1 - - [27/Jul/2025 10:25:28] "[35m[1mPOST /generate_video HTTP/1.1[0m" 500 -
2025-07-27 10:27:15,759 - INFO - MainProcess - Closing the GPU worker pool...
2025-07-27 10:27:22,262 - INFO - MainProcess - Starting Flask service...
2025-07-27 10:27:22,262 - INFO - MainProcess - Loading configuration file...
2025-07-27 10:27:22,275 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-27 10:27:22,276 - INFO - MainProcess - Loading model components...
2025-07-27 10:27:32,817 - INFO - MainProcess - All components loaded successfully.
2025-07-27 10:27:32,817 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-27 10:27:32,872 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-27 10:27:32,872 - INFO - MainProcess - Preprocessing video file: assets/WeChat_20250106160900.mp4...
2025-07-27 10:28:06,024 - INFO - MainProcess - Video preprocessed successfully. Found 776 frames/faces.
2025-07-27 10:28:06,024 - INFO - MainProcess - Creating and initializing a persistent pool of 4 GPU workers...
2025-07-27 10:28:06,030 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-27 10:28:06,030 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:5001
2025-07-27 10:28:06,119 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://117.74.66.188:5001
2025-07-27 10:28:06,119 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-27 10:35:50,236 - INFO - MainProcess - Closing the GPU worker pool...
2025-07-27 10:35:57,357 - INFO - MainProcess - Starting Flask service...
2025-07-27 10:35:57,357 - INFO - MainProcess - Loading configuration file...
2025-07-27 10:35:57,371 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-27 10:35:57,371 - INFO - MainProcess - Loading model components...
2025-07-27 10:36:07,688 - INFO - MainProcess - All components loaded successfully.
2025-07-27 10:36:07,688 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-27 10:36:07,750 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-27 10:36:07,750 - INFO - MainProcess - Preprocessing video file: assets/WeChat_20250106160900.mp4...
2025-07-27 10:36:40,729 - INFO - MainProcess - Video preprocessed successfully. Found 776 frames/faces.
2025-07-27 10:36:40,729 - INFO - MainProcess - Creating and initializing a persistent pool of 4 GPU workers...
2025-07-27 10:36:40,735 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-27 10:36:40,735 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:5001
2025-07-27 10:36:40,812 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://117.74.66.188:5001
2025-07-27 10:36:40,812 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-27 10:40:44,564 - INFO - MainProcess - Received audio file: 4s_Wavfile_1719704064_11.wav
2025-07-27 10:40:44,565 - INFO - MainProcess - Audio file saved temporarily to: /tmp/tmpmcv1rtbk.wav
2025-07-27 10:40:44,565 - INFO - MainProcess - Preparing tasks for GPU workers...
2025-07-27 10:40:44,770 - INFO - MainProcess - Distributing 6 tasks to the worker pool...
2025-07-27 10:40:53,663 - INFO - MainProcess - Inference completed in 8.89 seconds.
2025-07-27 10:40:53,663 - ERROR - MainProcess - Critical error during video generation: All inference tasks failed.
Traceback (most recent call last):
  File "/data0/projects/LatentSync10/infer_serv.py", line 250, in generate_video_api
    raise RuntimeError("All inference tasks failed.")
RuntimeError: All inference tasks failed.
2025-07-27 10:40:53,664 - INFO - MainProcess - Temporary audio file /tmp/tmpmcv1rtbk.wav cleaned up.
2025-07-27 10:40:53,667 - INFO - MainProcess - 127.0.0.1 - - [27/Jul/2025 10:40:53] "[35m[1mPOST /generate_video HTTP/1.1[0m" 500 -
2025-07-27 10:53:55,563 - INFO - MainProcess - Closing the GPU worker pool...
2025-07-27 10:54:02,802 - INFO - MainProcess - Starting Flask service...
2025-07-27 10:54:02,803 - INFO - MainProcess - Loading configuration file...
2025-07-27 10:54:02,816 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-27 10:54:02,816 - INFO - MainProcess - Loading model components...
2025-07-27 10:54:13,744 - INFO - MainProcess - All components loaded successfully.
2025-07-27 10:54:13,744 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-27 10:54:13,815 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-27 10:54:13,815 - INFO - MainProcess - Preprocessing video file: assets/WeChat_20250106160900.mp4...
2025-07-27 10:54:46,792 - INFO - MainProcess - Video preprocessed successfully. Found 776 frames/faces.
2025-07-27 10:54:46,792 - INFO - MainProcess - Creating and initializing a persistent pool of 4 GPU workers...
2025-07-27 10:54:46,799 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-27 10:54:46,799 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:5001
2025-07-27 10:54:46,885 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://117.74.66.188:5001
2025-07-27 10:54:46,885 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-27 10:54:55,051 - INFO - MainProcess - Received audio file: 4s_Wavfile_1719704064_11.wav
2025-07-27 10:54:55,052 - INFO - MainProcess - Audio file saved temporarily to: /tmp/tmphfdhehrj.wav
2025-07-27 10:54:55,052 - INFO - MainProcess - Preparing tasks for GPU workers...
2025-07-27 10:54:55,240 - INFO - MainProcess - Distributing 6 tasks to the worker pool...
2025-07-27 10:55:06,550 - INFO - MainProcess - Inference completed in 11.31 seconds.
2025-07-27 10:55:06,625 - INFO - MainProcess - Starting RTMP stream...
2025-07-27 11:43:39,340 - INFO - MainProcess - Closing the GPU worker pool...
2025-07-27 11:43:39,820 - INFO - MainProcess - Request for '4s_Wavfile_1719704064_11.wav' completed successfully.
2025-07-27 11:43:39,820 - INFO - MainProcess - Temporary audio file /tmp/tmphfdhehrj.wav cleaned up.
2025-07-27 11:43:39,839 - INFO - MainProcess - 127.0.0.1 - - [27/Jul/2025 11:43:39] "POST /generate_video HTTP/1.1" 200 -
2025-07-27 11:43:46,386 - INFO - MainProcess - Starting Flask service...
2025-07-27 11:43:46,386 - INFO - MainProcess - Loading configuration file...
2025-07-27 11:43:46,400 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-27 11:43:46,400 - INFO - MainProcess - Loading model components...
2025-07-27 11:43:57,409 - INFO - MainProcess - All components loaded successfully.
2025-07-27 11:43:57,409 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-27 11:43:57,480 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-27 11:43:57,480 - INFO - MainProcess - Preprocessing video file: assets/WeChat_20250106160900.mp4...
2025-07-27 11:44:30,306 - INFO - MainProcess - Video preprocessed successfully. Found 776 frames/faces.
2025-07-27 11:44:30,307 - INFO - MainProcess - Creating and initializing a persistent pool of 4 GPU workers...
2025-07-27 11:44:30,312 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-27 11:44:30,313 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:5001
2025-07-27 11:44:30,392 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://117.74.66.188:5001
2025-07-27 11:44:30,392 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-27 11:45:20,129 - INFO - MainProcess - Received audio file: 4s_Wavfile_1719704064_11.wav
2025-07-27 11:45:20,130 - INFO - MainProcess - Audio file saved temporarily to: /tmp/tmpihesepni.wav
2025-07-27 11:45:20,130 - INFO - MainProcess - Preparing tasks for GPU workers...
2025-07-27 11:45:20,317 - INFO - MainProcess - Distributing 6 tasks to the worker pool...
2025-07-27 11:45:25,852 - INFO - MainProcess - Inference completed in 5.54 seconds.
2025-07-27 11:45:25,928 - INFO - MainProcess - Starting RTMP stream...
2025-07-27 11:49:45,497 - INFO - MainProcess - Closing the GPU worker pool...
2025-07-27 11:49:45,880 - INFO - MainProcess - Request for '4s_Wavfile_1719704064_11.wav' completed successfully.
2025-07-27 11:49:45,880 - INFO - MainProcess - Temporary audio file /tmp/tmpihesepni.wav cleaned up.
2025-07-27 11:49:45,890 - INFO - MainProcess - 127.0.0.1 - - [27/Jul/2025 11:49:45] "POST /generate_video HTTP/1.1" 200 -
2025-07-27 11:50:24,047 - INFO - MainProcess - Starting Flask service...
2025-07-27 11:50:24,047 - INFO - MainProcess - Loading configuration file...
2025-07-27 11:50:24,060 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-27 11:50:24,060 - INFO - MainProcess - Loading model components...
2025-07-27 11:50:33,850 - INFO - MainProcess - All components loaded successfully.
2025-07-27 11:50:33,850 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-27 11:50:33,920 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-27 11:50:33,920 - INFO - MainProcess - Preprocessing video file: assets/WeChat_20250106160900.mp4...
2025-07-27 11:51:07,069 - INFO - MainProcess - Video preprocessed successfully. Found 776 frames/faces.
2025-07-27 11:51:07,070 - INFO - MainProcess - Creating and initializing a persistent pool of 4 GPU workers...
2025-07-27 11:51:07,076 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-27 11:51:07,076 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:5001
2025-07-27 11:51:07,422 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://117.74.66.188:5001
2025-07-27 11:51:07,422 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-27 11:52:26,488 - INFO - MainProcess - Received audio file: 42s_audio_sanxingdui_001.wav
2025-07-27 11:52:26,490 - INFO - MainProcess - Audio file saved temporarily to: /tmp/tmpgfb6tfcl.wav
2025-07-27 11:52:26,490 - INFO - MainProcess - Preparing tasks for GPU workers...
2025-07-27 11:52:26,840 - INFO - MainProcess - Distributing 48 tasks to the worker pool...
2025-07-27 11:52:51,712 - INFO - MainProcess - Inference completed in 24.87 seconds.
2025-07-27 11:52:52,136 - INFO - MainProcess - Starting RTMP stream...
2025-07-27 11:56:46,121 - INFO - MainProcess - Closing the GPU worker pool...
2025-07-27 11:56:46,583 - INFO - MainProcess - Request for '42s_audio_sanxingdui_001.wav' completed successfully.
2025-07-27 11:56:46,584 - INFO - MainProcess - Temporary audio file /tmp/tmpgfb6tfcl.wav cleaned up.
2025-07-27 11:56:46,676 - INFO - MainProcess - 127.0.0.1 - - [27/Jul/2025 11:56:46] "POST /generate_video HTTP/1.1" 200 -
2025-07-27 11:56:55,422 - INFO - MainProcess - Starting Flask service...
2025-07-27 11:56:55,422 - INFO - MainProcess - Loading configuration file...
2025-07-27 11:56:55,435 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-27 11:56:55,435 - INFO - MainProcess - Loading model components...
2025-07-27 11:57:05,170 - INFO - MainProcess - All components loaded successfully.
2025-07-27 11:57:05,171 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-27 11:57:05,244 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-27 11:57:05,244 - INFO - MainProcess - Preprocessing video file: assets/WeChat_20250106160900.mp4...
2025-07-27 11:57:38,576 - INFO - MainProcess - Video preprocessed successfully. Found 776 frames/faces.
2025-07-27 11:57:38,576 - INFO - MainProcess - Creating and initializing a persistent pool of 4 GPU workers...
2025-07-27 11:57:38,582 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-27 11:57:38,582 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:5001
2025-07-27 11:57:38,656 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://117.74.66.188:5001
2025-07-27 11:57:38,656 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-27 11:58:07,510 - INFO - MainProcess - Received audio file: voice_shao_0628_00.wav
2025-07-27 11:58:07,514 - INFO - MainProcess - Audio file saved temporarily to: /tmp/tmpr6x95wed.wav
2025-07-27 11:58:07,514 - INFO - MainProcess - Preparing tasks for GPU workers...
2025-07-27 11:58:07,765 - INFO - MainProcess - Distributing 13 tasks to the worker pool...
2025-07-27 11:58:16,684 - INFO - MainProcess - Inference completed in 8.92 seconds.
2025-07-27 11:58:16,805 - INFO - MainProcess - Starting RTMP stream...
2025-07-27 12:12:27,768 - INFO - MainProcess - Closing the GPU worker pool...
2025-07-27 12:12:28,124 - INFO - MainProcess - Request for 'voice_shao_0628_00.wav' completed successfully.
2025-07-27 12:12:28,124 - INFO - MainProcess - Temporary audio file /tmp/tmpr6x95wed.wav cleaned up.
2025-07-27 12:12:28,158 - INFO - MainProcess - 127.0.0.1 - - [27/Jul/2025 12:12:28] "POST /generate_video HTTP/1.1" 200 -
2025-07-27 12:12:34,754 - INFO - MainProcess - Starting Flask service...
2025-07-27 12:12:34,754 - INFO - MainProcess - Loading configuration file...
2025-07-27 12:12:34,768 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-27 12:12:34,768 - INFO - MainProcess - Loading model components...
2025-07-27 12:12:46,443 - INFO - MainProcess - All components loaded successfully.
2025-07-27 12:12:46,443 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-27 12:12:46,515 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-27 12:12:46,515 - INFO - MainProcess - Preprocessing video file: assets/20230810004.mp4...
2025-07-27 12:13:18,162 - INFO - MainProcess - Video preprocessed successfully. Found 644 frames/faces.
2025-07-27 12:13:18,162 - INFO - MainProcess - Creating and initializing a persistent pool of 4 GPU workers...
2025-07-27 12:13:18,169 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-27 12:13:18,169 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:5001
2025-07-27 12:13:18,276 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://117.74.66.188:5001
2025-07-27 12:13:18,276 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-27 12:14:18,646 - INFO - MainProcess - Received audio file: 0716-3001.wav
2025-07-27 12:14:18,648 - INFO - MainProcess - Audio file saved temporarily to: /tmp/tmp2emh2oeq.wav
2025-07-27 12:14:18,648 - INFO - MainProcess - Preparing tasks for GPU workers...
2025-07-27 12:14:18,881 - INFO - MainProcess - Distributing 10 tasks to the worker pool...
2025-07-27 12:14:27,331 - INFO - MainProcess - Inference completed in 8.45 seconds.
2025-07-27 12:14:27,470 - INFO - MainProcess - Starting RTMP stream...
2025-07-27 12:18:37,562 - INFO - MainProcess - Closing the GPU worker pool...
2025-07-27 12:18:37,949 - INFO - MainProcess - Request for '0716-3001.wav' completed successfully.
2025-07-27 12:18:37,950 - INFO - MainProcess - Temporary audio file /tmp/tmp2emh2oeq.wav cleaned up.
2025-07-27 12:18:37,993 - INFO - MainProcess - 127.0.0.1 - - [27/Jul/2025 12:18:37] "POST /generate_video HTTP/1.1" 200 -
2025-07-27 12:18:44,524 - INFO - MainProcess - Starting Flask service...
2025-07-27 12:18:44,524 - INFO - MainProcess - Loading configuration file...
2025-07-27 12:18:44,537 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-27 12:18:44,537 - INFO - MainProcess - Loading model components...
2025-07-27 12:18:54,485 - INFO - MainProcess - All components loaded successfully.
2025-07-27 12:18:54,486 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-27 12:18:54,560 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-27 12:18:54,560 - INFO - MainProcess - Preprocessing video file: assets/20230810004.mp4...
2025-07-27 12:19:26,131 - INFO - MainProcess - Video preprocessed successfully. Found 644 frames/faces.
2025-07-27 12:19:26,131 - INFO - MainProcess - Creating and initializing a persistent pool of 4 GPU workers...
2025-07-27 12:19:26,137 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-27 12:19:26,137 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:5001
2025-07-27 12:19:26,264 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://117.74.66.188:5001
2025-07-27 12:19:26,265 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-27 12:19:40,944 - INFO - MainProcess - Received audio file: 42s_audio_sanxingdui_001.wav
2025-07-27 12:19:40,947 - INFO - MainProcess - Audio file saved temporarily to: /tmp/tmpucfk4xey.wav
2025-07-27 12:19:40,947 - INFO - MainProcess - Preparing tasks for GPU workers...
2025-07-27 12:19:41,407 - INFO - MainProcess - Distributing 40 tasks to the worker pool...
2025-07-27 12:20:06,146 - INFO - MainProcess - Inference completed in 24.74 seconds.
2025-07-27 12:20:06,647 - INFO - MainProcess - Starting RTMP stream...
2025-07-27 13:45:09,726 - INFO - MainProcess - Closing the GPU worker pool...
2025-07-27 13:45:10,065 - INFO - MainProcess - Request for '42s_audio_sanxingdui_001.wav' completed successfully.
2025-07-27 13:45:10,065 - INFO - MainProcess - Temporary audio file /tmp/tmpucfk4xey.wav cleaned up.
2025-07-27 13:45:10,183 - INFO - MainProcess - 127.0.0.1 - - [27/Jul/2025 13:45:10] "POST /generate_video HTTP/1.1" 200 -
2025-07-27 13:45:16,642 - INFO - MainProcess - Starting Flask service...
2025-07-27 13:45:16,642 - INFO - MainProcess - Loading configuration file...
2025-07-27 13:45:16,655 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-27 13:45:16,656 - INFO - MainProcess - Loading model components...
2025-07-27 13:45:27,967 - INFO - MainProcess - All components loaded successfully.
2025-07-27 13:45:27,967 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-27 13:45:28,043 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-27 13:45:28,043 - INFO - MainProcess - Preprocessing video file: assets/video_00358.mp4...
2025-07-27 13:45:46,858 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-27 13:45:46,858 - INFO - MainProcess - Creating and initializing a persistent pool of 4 GPU workers...
2025-07-27 13:45:46,865 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-27 13:45:46,865 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:5001
2025-07-27 13:45:46,947 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://117.74.66.188:5001
2025-07-27 13:45:46,947 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-27 13:46:18,124 - INFO - MainProcess - Received audio file: voice_shao_0628_00.wav
2025-07-27 13:46:18,128 - INFO - MainProcess - Audio file saved temporarily to: /tmp/tmp3lftnkua.wav
2025-07-27 13:46:18,128 - INFO - MainProcess - Preparing tasks for GPU workers...
2025-07-27 13:46:18,374 - INFO - MainProcess - Distributing 13 tasks to the worker pool...
2025-07-27 13:46:30,333 - INFO - MainProcess - Inference completed in 11.96 seconds.
2025-07-27 13:46:30,541 - INFO - MainProcess - Starting RTMP stream...
2025-07-27 13:53:22,631 - INFO - MainProcess - Closing the GPU worker pool...
2025-07-27 13:53:23,145 - INFO - MainProcess - Request for 'voice_shao_0628_00.wav' completed successfully.
2025-07-27 13:53:23,146 - INFO - MainProcess - Temporary audio file /tmp/tmp3lftnkua.wav cleaned up.
2025-07-27 13:53:23,207 - INFO - MainProcess - 127.0.0.1 - - [27/Jul/2025 13:53:23] "POST /generate_video HTTP/1.1" 200 -
2025-07-27 13:53:29,511 - INFO - MainProcess - Starting Flask service...
2025-07-27 13:53:29,511 - INFO - MainProcess - Loading configuration file...
2025-07-27 13:53:29,524 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-27 13:53:29,524 - INFO - MainProcess - Loading model components...
2025-07-27 13:53:39,598 - INFO - MainProcess - All components loaded successfully.
2025-07-27 13:53:39,598 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-27 13:53:39,668 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-27 13:53:39,668 - INFO - MainProcess - Preprocessing video file: assets/video_00358.mp4...
2025-07-27 13:53:58,325 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-27 13:53:58,326 - INFO - MainProcess - Creating and initializing a persistent pool of 4 GPU workers...
2025-07-27 13:53:58,332 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-27 13:53:58,332 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:5001
2025-07-27 13:53:58,419 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://117.74.66.188:5001
2025-07-27 13:53:58,419 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-27 23:59:19,860 - INFO - MainProcess - Starting Flask service...
2025-07-27 23:59:19,860 - INFO - MainProcess - Loading configuration file...
2025-07-27 23:59:19,872 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-27 23:59:19,872 - INFO - MainProcess - Loading model components...
2025-07-28 00:00:13,892 - INFO - MainProcess - All components loaded successfully.
2025-07-28 00:00:13,893 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-28 00:00:13,958 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-28 00:00:13,958 - INFO - MainProcess - Preprocessing video file: assets/video_00358.mp4...
2025-07-28 00:01:01,551 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-28 00:01:01,551 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-28 00:01:01,566 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-28 00:01:01,566 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:5001
2025-07-28 00:01:01,569 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5001
 * Running on http://172.17.3.51:5001
2025-07-28 00:01:01,569 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-28 00:09:35,866 - INFO - MainProcess - Closing the GPU worker pool...
2025-07-28 00:09:43,808 - INFO - MainProcess - Starting Flask service...
2025-07-28 00:09:43,808 - INFO - MainProcess - Loading configuration file...
2025-07-28 00:09:43,821 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-28 00:09:43,821 - INFO - MainProcess - Loading model components...
2025-07-28 00:09:53,654 - INFO - MainProcess - All components loaded successfully.
2025-07-28 00:09:53,654 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-28 00:09:53,736 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-28 00:09:53,736 - INFO - MainProcess - Preprocessing video file: assets/video_00358.mp4...
2025-07-28 00:10:16,683 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-28 00:10:16,683 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-28 00:10:16,697 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-28 00:10:16,697 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-28 00:10:16,700 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-28 00:10:16,700 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-28 00:16:54,765 - INFO - MainProcess - Received audio file: voice_shao_0628_00.wav
2025-07-28 00:16:54,768 - INFO - MainProcess - Audio file saved temporarily to: /tmp/tmp870_6zit.wav
2025-07-28 00:16:54,768 - INFO - MainProcess - Preparing tasks for GPU workers...
2025-07-28 00:16:55,003 - INFO - MainProcess - Distributing 13 tasks to the worker pool...
2025-07-28 00:17:03,455 - INFO - MainProcess - Inference completed in 8.45 seconds.
2025-07-28 00:17:03,758 - INFO - MainProcess - Starting RTMP stream...
2025-07-28 00:17:04,449 - INFO - MainProcess - Request for 'voice_shao_0628_00.wav' completed successfully.
2025-07-28 00:17:04,450 - INFO - MainProcess - Temporary audio file /tmp/tmp870_6zit.wav cleaned up.
2025-07-28 00:17:04,501 - INFO - MainProcess - 127.0.0.1 - - [28/Jul/2025 00:17:04] "POST /generate_video HTTP/1.1" 200 -
2025-07-28 00:18:33,231 - INFO - MainProcess - Received audio file: voice_shao_0628_00.wav
2025-07-28 00:18:33,233 - INFO - MainProcess - Audio file saved temporarily to: /tmp/tmp5mo0o8gn.wav
2025-07-28 00:18:33,233 - INFO - MainProcess - Preparing tasks for GPU workers...
2025-07-28 00:18:33,373 - INFO - MainProcess - Distributing 13 tasks to the worker pool...
2025-07-28 00:18:39,560 - INFO - MainProcess - Inference completed in 6.19 seconds.
2025-07-28 00:18:39,650 - INFO - MainProcess - Starting RTMP stream...
2025-07-28 00:25:13,794 - INFO - MainProcess - Closing the GPU worker pool...
2025-07-28 00:25:14,202 - INFO - MainProcess - Request for 'voice_shao_0628_00.wav' completed successfully.
2025-07-28 00:25:14,203 - INFO - MainProcess - Temporary audio file /tmp/tmp5mo0o8gn.wav cleaned up.
2025-07-28 00:25:14,273 - INFO - MainProcess - 127.0.0.1 - - [28/Jul/2025 00:25:14] "POST /generate_video HTTP/1.1" 200 -
2025-07-28 00:25:22,481 - INFO - MainProcess - Starting Flask service...
2025-07-28 00:25:22,481 - INFO - MainProcess - Loading configuration file...
2025-07-28 00:25:22,493 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-28 00:25:22,493 - INFO - MainProcess - Loading model components...
2025-07-28 00:25:33,896 - INFO - MainProcess - All components loaded successfully.
2025-07-28 00:25:33,896 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-28 00:25:33,988 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-28 00:25:33,988 - INFO - MainProcess - Preprocessing video file: assets/demo2_video.mp4...
2025-07-28 00:26:19,193 - INFO - MainProcess - Video preprocessed successfully. Found 502 frames/faces.
2025-07-28 00:26:19,194 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-28 00:26:19,206 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-28 00:26:19,206 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-28 00:26:19,208 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-28 00:26:19,208 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-28 00:27:14,413 - INFO - MainProcess - Received audio file: voice_shao_0628_00.wav
2025-07-28 00:27:14,415 - INFO - MainProcess - Audio file saved temporarily to: /tmp/tmp43apfgde.wav
2025-07-28 00:27:14,415 - INFO - MainProcess - Preparing tasks for GPU workers...
2025-07-28 00:27:14,692 - INFO - MainProcess - Distributing 13 tasks to the worker pool...
2025-07-28 00:27:27,466 - INFO - MainProcess - Inference completed in 12.77 seconds.
2025-07-28 00:27:27,695 - INFO - MainProcess - Starting RTMP stream...
2025-07-28 00:30:27,003 - INFO - MainProcess - Closing the GPU worker pool...
2025-07-28 00:30:27,595 - INFO - MainProcess - Request for 'voice_shao_0628_00.wav' completed successfully.
2025-07-28 00:30:27,596 - INFO - MainProcess - Temporary audio file /tmp/tmp43apfgde.wav cleaned up.
2025-07-28 00:30:27,704 - INFO - MainProcess - 127.0.0.1 - - [28/Jul/2025 00:30:27] "POST /generate_video HTTP/1.1" 200 -
2025-07-28 00:30:34,874 - INFO - MainProcess - Starting Flask service...
2025-07-28 00:30:34,874 - INFO - MainProcess - Loading configuration file...
2025-07-28 00:30:34,891 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-28 00:30:34,891 - INFO - MainProcess - Loading model components...
2025-07-28 00:30:45,319 - INFO - MainProcess - All components loaded successfully.
2025-07-28 00:30:45,319 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-28 00:30:45,412 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-28 00:30:45,412 - INFO - MainProcess - Preprocessing video file: assets/20230810004.mp4...
2025-07-28 00:31:22,247 - INFO - MainProcess - Video preprocessed successfully. Found 644 frames/faces.
2025-07-28 00:31:22,247 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-28 00:31:22,261 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-28 00:31:22,261 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-28 00:31:22,264 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-28 00:31:22,264 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-28 00:31:55,625 - INFO - MainProcess - Received audio file: 42s_audio_sanxingdui_001.wav
2025-07-28 00:31:55,627 - INFO - MainProcess - Audio file saved temporarily to: /tmp/tmpr2eezgxm.wav
2025-07-28 00:31:55,627 - INFO - MainProcess - Preparing tasks for GPU workers...
2025-07-28 00:31:55,992 - INFO - MainProcess - Distributing 40 tasks to the worker pool...
2025-07-28 00:32:14,671 - INFO - MainProcess - Inference completed in 18.68 seconds.
2025-07-28 00:32:15,203 - INFO - MainProcess - Starting RTMP stream...
2025-07-28 08:04:52,460 - INFO - MainProcess - Closing the GPU worker pool...
2025-07-28 08:04:52,852 - INFO - MainProcess - Request for '42s_audio_sanxingdui_001.wav' completed successfully.
2025-07-28 08:04:52,853 - INFO - MainProcess - Temporary audio file /tmp/tmpr2eezgxm.wav cleaned up.
2025-07-28 08:04:52,990 - INFO - MainProcess - 127.0.0.1 - - [28/Jul/2025 08:04:52] "POST /generate_video HTTP/1.1" 200 -
2025-07-28 08:04:55,710 - INFO - MainProcess - GPU worker pool closed.
2025-07-28 08:06:14,700 - INFO - MainProcess - Starting Flask service...
2025-07-28 08:06:14,700 - INFO - MainProcess - Loading configuration file...
2025-07-28 08:06:14,712 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-28 08:06:14,713 - INFO - MainProcess - Loading model components...
2025-07-28 08:06:28,121 - INFO - MainProcess - All components loaded successfully.
2025-07-28 08:06:28,121 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-28 08:06:28,663 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-28 08:06:28,664 - INFO - MainProcess - Preprocessing video file: assets/20230810004.mp4...
2025-07-28 08:07:23,353 - INFO - MainProcess - Video preprocessed successfully. Found 644 frames/faces.
2025-07-28 08:07:23,354 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-28 08:07:23,366 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-28 08:07:23,366 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-28 08:07:23,369 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-28 08:07:23,369 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-28 09:09:48,207 - INFO - MainProcess - Received audio file: 42s_audio_sanxingdui_001.wav
2025-07-28 09:09:48,210 - INFO - MainProcess - Audio file saved temporarily to: /tmp/tmpm49vyvi2.wav
2025-07-28 09:09:48,210 - INFO - MainProcess - Preparing tasks for GPU workers...
2025-07-28 09:09:48,591 - INFO - MainProcess - Distributing 40 tasks to the worker pool...
2025-07-28 09:10:03,959 - INFO - MainProcess - Inference completed in 15.37 seconds.
2025-07-28 09:10:04,231 - INFO - MainProcess - Starting RTMP stream...
2025-07-28 11:28:27,866 - INFO - MainProcess - Closing the GPU worker pool...
2025-07-28 11:28:28,113 - INFO - MainProcess - Request for '42s_audio_sanxingdui_001.wav' completed successfully.
2025-07-28 11:28:28,113 - INFO - MainProcess - Temporary audio file /tmp/tmpm49vyvi2.wav cleaned up.
2025-07-28 11:28:28,397 - INFO - MainProcess - 127.0.0.1 - - [28/Jul/2025 11:28:28] "POST /generate_video HTTP/1.1" 200 -
2025-07-28 11:28:40,245 - INFO - MainProcess - Starting LatentSync service...
2025-07-28 11:28:40,245 - INFO - MainProcess - Loading configuration file...
2025-07-28 11:28:40,257 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-28 11:28:40,258 - INFO - MainProcess - Loading model components...
2025-07-28 11:28:50,558 - INFO - MainProcess - All components loaded successfully.
2025-07-28 11:28:50,559 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-28 11:28:50,640 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-28 11:28:50,640 - INFO - MainProcess - Preprocessing video file: assets/20230810004.mp4...
2025-07-28 11:29:26,743 - INFO - MainProcess - Video preprocessed successfully. Found 644 frames/faces.
2025-07-28 11:29:26,744 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-28 11:29:26,760 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-28 11:29:26,760 - INFO - MainProcess - Starting background idle stream...
2025-07-28 11:29:26,760 - INFO - MainProcess - Idle stream thread started. Will loop video 'assets/20230810004.mp4'.
2025-07-28 11:29:26,760 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-28 11:29:26,761 - INFO - MainProcess - Starting FFmpeg process for idle stream...
2025-07-28 11:29:26,761 - INFO - MainProcess - Idle stream is pushing to: rtmp://117.74.66.188:1935/dash/latentsync_video
2025-07-28 11:29:26,765 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-28 11:29:26,765 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-28 14:20:55,554 - INFO - MainProcess - Stopping the idle stream thread...
2025-07-28 14:20:55,668 - INFO - MainProcess - Stop event received, terminating FFmpeg idle stream...
2025-07-28 14:20:56,248 - INFO - MainProcess - FFmpeg idle stream terminated.
2025-07-28 14:20:56,248 - INFO - MainProcess - Idle stream thread has finished.
2025-07-28 15:45:16,552 - INFO - MainProcess - Starting Flask service...
2025-07-28 15:45:16,552 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-28 15:45:16,552 - INFO - MainProcess - Loading configuration file...
2025-07-28 15:45:16,564 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-28 15:45:16,565 - INFO - MainProcess - Loading model components...
2025-07-28 15:45:27,398 - INFO - MainProcess - All components loaded successfully.
2025-07-28 15:45:27,398 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-28 15:45:27,492 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-28 15:45:27,492 - INFO - MainProcess - Preprocessing video file: assets/video/20s_girl_0718_00.mp4...
2025-07-28 15:46:04,495 - INFO - MainProcess - Video preprocessed successfully. Found 644 frames/faces.
2025-07-28 15:46:04,495 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-28 15:46:04,508 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-28 15:46:04,552 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-28 15:46:04,552 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/20s_girl_0728_00_idle.mp4
2025-07-28 15:46:07,640 - ERROR - MainProcess - Could not process idle video: name 'cv2' is not defined
Traceback (most recent call last):
  File "/data/home/klai/project/LatentSync10/infer_serv.py", line 213, in load_models_and_prepare_idle_stream
    video_chunk_rgb = np.array([cv2.cvtColor(frame, cv2.COLOR_BGR2RGB) for frame in video_chunk])
  File "/data/home/klai/project/LatentSync10/infer_serv.py", line 213, in <listcomp>
    video_chunk_rgb = np.array([cv2.cvtColor(frame, cv2.COLOR_BGR2RGB) for frame in video_chunk])
NameError: name 'cv2' is not defined
2025-07-28 15:47:35,970 - INFO - MainProcess - Starting Flask service...
2025-07-28 15:47:35,971 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-28 15:47:35,971 - INFO - MainProcess - Loading configuration file...
2025-07-28 15:47:35,983 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-28 15:47:35,983 - INFO - MainProcess - Loading model components...
2025-07-28 15:48:04,023 - INFO - MainProcess - All components loaded successfully.
2025-07-28 15:48:04,024 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-28 15:48:04,103 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-28 15:48:04,103 - INFO - MainProcess - Preprocessing video file: assets/video/20s_girl_0718_00.mp4...
2025-07-28 15:48:40,482 - INFO - MainProcess - Video preprocessed successfully. Found 644 frames/faces.
2025-07-28 15:48:40,483 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-28 15:48:40,496 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-28 15:48:40,548 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-28 15:48:40,549 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/20s_girl_0728_00_idle.mp4
2025-07-28 15:48:43,991 - INFO - MainProcess - Idle stream queue populated with 31 chunks.
2025-07-28 15:48:43,991 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-28 15:48:43,992 - INFO - MainProcess - Starting FFmpeg process for RTMP streaming...
2025-07-28 15:48:43,992 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-28 15:48:43,999 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-28 15:48:44,005 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-28 15:48:44,005 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-28 16:05:54,955 - INFO - MainProcess - Initiating server cleanup...
2025-07-28 16:05:54,956 - INFO - MainProcess - Stopping the Streaming Controller...
2025-07-28 16:05:54,956 - INFO - MainProcess - Stopping FFmpeg process...
2025-07-28 16:05:55,471 - ERROR - MainProcess - Error in StreamingController loop: write to closed file
Traceback (most recent call last):
  File "/data/home/klai/project/LatentSync10/infer_serv.py", line 156, in run
    self.write_to_ffmpeg(video_chunk, audio_chunk)
  File "/data/home/klai/project/LatentSync10/infer_serv.py", line 177, in write_to_ffmpeg
    self.ffmpeg_process.stdin.write(frame.tobytes())
ValueError: write to closed file
2025-07-28 16:05:55,584 - INFO - MainProcess - StreamingController has been stopped.
2025-07-28 16:05:57,590 - INFO - MainProcess - Streaming Controller stopped.
2025-07-28 16:05:57,590 - INFO - MainProcess - Closing the GPU worker pool...
2025-07-28 16:06:12,942 - INFO - MainProcess - GPU worker pool closed.
2025-07-28 16:06:21,212 - INFO - MainProcess - Starting Flask service...
2025-07-28 16:06:21,212 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-28 16:06:21,212 - INFO - MainProcess - Loading configuration file...
2025-07-28 16:06:21,225 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-28 16:06:21,225 - INFO - MainProcess - Loading model components...
2025-07-28 16:06:31,641 - INFO - MainProcess - All components loaded successfully.
2025-07-28 16:06:31,642 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-28 16:06:31,732 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-28 16:06:31,732 - INFO - MainProcess - Preprocessing video file: assets/video/20s_girl_0718_00.mp4...
2025-07-28 16:07:08,750 - INFO - MainProcess - Video preprocessed successfully. Found 644 frames/faces.
2025-07-28 16:07:08,750 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-28 16:07:08,767 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-28 16:07:08,823 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-28 16:07:08,824 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/20s_girl_0728_00_idle.mp4
2025-07-28 16:07:11,927 - ERROR - MainProcess - Could not process idle video: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
Traceback (most recent call last):
  File "/data/home/klai/project/LatentSync10/infer_serv.py", line 213, in load_models_and_prepare_idle_stream
    if not idle_video_frames_raw:
ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-07-28 16:08:56,527 - INFO - MainProcess - Starting Flask service...
2025-07-28 16:08:56,527 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-28 16:08:56,527 - INFO - MainProcess - Loading configuration file...
2025-07-28 16:08:56,540 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-28 16:08:56,540 - INFO - MainProcess - Loading model components...
2025-07-28 16:09:07,197 - INFO - MainProcess - All components loaded successfully.
2025-07-28 16:09:07,197 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-28 16:09:07,287 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-28 16:09:07,287 - INFO - MainProcess - Preprocessing video file: assets/video/20s_girl_0718_00.mp4...
2025-07-28 16:09:44,241 - INFO - MainProcess - Video preprocessed successfully. Found 644 frames/faces.
2025-07-28 16:09:44,242 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-28 16:09:44,262 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-28 16:09:44,353 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-28 16:09:44,353 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/20s_girl_0728_00_idle.mp4
2025-07-28 16:09:47,808 - ERROR - MainProcess - Could not process idle video: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
Traceback (most recent call last):
  File "/data/home/klai/project/LatentSync10/infer_serv.py", line 215, in load_models_and_prepare_idle_stream
    if not idle_video_frames_raw:
ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-07-28 16:12:11,695 - INFO - MainProcess - Starting Flask service...
2025-07-28 16:12:11,695 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-28 16:12:11,695 - INFO - MainProcess - Loading configuration file...
2025-07-28 16:12:11,707 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-28 16:12:11,707 - INFO - MainProcess - Loading model components...
2025-07-28 16:12:21,581 - INFO - MainProcess - All components loaded successfully.
2025-07-28 16:12:21,582 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-28 16:12:21,670 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-28 16:12:21,670 - INFO - MainProcess - Preprocessing video file: assets/video/20s_girl_0718_00.mp4...
2025-07-28 16:12:59,254 - INFO - MainProcess - Video preprocessed successfully. Found 644 frames/faces.
2025-07-28 16:12:59,255 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-28 16:12:59,270 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-28 16:12:59,320 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-28 16:12:59,321 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/20s_girl_0728_00_idle.mp4
2025-07-28 16:13:02,415 - INFO - MainProcess - Processing 502 idle frames to match target resolution 256x256
2025-07-28 16:13:04,449 - INFO - MainProcess - Idle stream queue populated with 31 chunks.
2025-07-28 16:13:04,450 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-28 16:13:04,450 - INFO - MainProcess - Starting FFmpeg process for RTMP streaming...
2025-07-28 16:13:04,450 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-28 16:13:04,458 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-28 16:13:04,461 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-28 16:13:04,461 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-28 16:18:47,361 - INFO - MainProcess - Initiating server cleanup...
2025-07-28 16:18:47,361 - INFO - MainProcess - Stopping the Streaming Controller...
2025-07-28 16:18:47,362 - INFO - MainProcess - Stopping FFmpeg process...
2025-07-28 16:18:47,390 - ERROR - MainProcess - Error in StreamingController loop: write to closed file
Traceback (most recent call last):
  File "/data/home/klai/project/LatentSync10/infer_serv.py", line 156, in run
    self.write_to_ffmpeg(video_chunk, audio_chunk)
  File "/data/home/klai/project/LatentSync10/infer_serv.py", line 177, in write_to_ffmpeg
    self.ffmpeg_process.stdin.write(frame.tobytes())
ValueError: write to closed file
2025-07-28 16:18:47,505 - INFO - MainProcess - StreamingController has been stopped.
2025-07-28 16:18:55,435 - INFO - MainProcess - Starting Flask service...
2025-07-28 16:18:55,435 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-28 16:18:55,435 - INFO - MainProcess - Loading configuration file...
2025-07-28 16:18:55,447 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-28 16:18:55,447 - INFO - MainProcess - Loading model components...
2025-07-28 16:19:05,453 - INFO - MainProcess - All components loaded successfully.
2025-07-28 16:19:05,453 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-28 16:19:05,543 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-28 16:19:05,543 - INFO - MainProcess - Preprocessing video file: assets/video/20s_girl_0718_00.mp4...
2025-07-28 16:19:40,923 - INFO - MainProcess - Video preprocessed successfully. Found 644 frames/faces.
2025-07-28 16:19:40,924 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-28 16:19:40,942 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-28 16:19:41,034 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-28 16:19:41,035 - INFO - MainProcess - Detected target stream resolution from source video: 720x1080
2025-07-28 16:19:41,035 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/20s_girl_0728_00_idle.mp4
2025-07-28 16:19:44,249 - INFO - MainProcess - Processing 502 idle frames to match target resolution 720x1080
2025-07-28 16:19:45,136 - INFO - MainProcess - Idle stream queue populated with 31 chunks.
2025-07-28 16:19:45,136 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-28 16:19:45,137 - INFO - MainProcess - Starting FFmpeg process for RTMP streaming...
2025-07-28 16:19:45,137 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-28 16:19:45,241 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-28 16:19:45,249 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-28 16:19:45,249 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-28 16:33:50,080 - INFO - MainProcess - Initiating server cleanup...
2025-07-28 16:33:50,083 - INFO - MainProcess - Stopping the Streaming Controller...
2025-07-28 16:33:50,084 - INFO - MainProcess - Stopping FFmpeg process...
2025-07-28 16:33:50,119 - ERROR - MainProcess - Error in StreamingController loop: write to closed file
Traceback (most recent call last):
  File "/data/home/klai/project/LatentSync10/infer_serv.py", line 156, in run
    self.write_to_ffmpeg(video_chunk, audio_chunk)
  File "/data/home/klai/project/LatentSync10/infer_serv.py", line 177, in write_to_ffmpeg
    self.ffmpeg_process.stdin.write(frame.tobytes())
ValueError: write to closed file
2025-07-28 16:33:58,678 - INFO - MainProcess - Starting Flask service...
2025-07-28 16:33:58,678 - INFO - MainProcess - Loading models and processing the main video...
2025-07-28 16:33:58,678 - INFO - MainProcess - Loading configuration file...
2025-07-28 16:33:58,691 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-28 16:33:58,691 - INFO - MainProcess - Loading model components...
2025-07-28 16:34:09,585 - INFO - MainProcess - All components loaded successfully.
2025-07-28 16:34:09,585 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-28 16:34:09,675 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-28 16:34:09,676 - INFO - MainProcess - Preprocessing video file: assets/video/20s_girl_0718_00.mp4...
2025-07-28 16:34:45,758 - INFO - MainProcess - Video preprocessed successfully. Found 644 frames/faces.
2025-07-28 16:34:45,758 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-28 16:34:45,773 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-28 16:34:45,838 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-28 16:34:45,838 - INFO - MainProcess - Processing external idle video via full AI pipeline from: assets/video/20s_girl_0728_00_idle.mp4
2025-07-28 16:36:32,442 - INFO - MainProcess - Starting Flask service...
2025-07-28 16:36:32,442 - INFO - MainProcess - Loading models and processing the main video...
2025-07-28 16:36:32,442 - INFO - MainProcess - Loading configuration file...
2025-07-28 16:36:32,454 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-28 16:36:32,454 - INFO - MainProcess - Loading model components...
2025-07-28 16:36:42,447 - INFO - MainProcess - All components loaded successfully.
2025-07-28 16:36:42,447 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-28 16:36:42,526 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-28 16:36:42,526 - INFO - MainProcess - Preprocessing video file: assets/video/20s_girl_0718_00.mp4...
2025-07-28 16:37:18,836 - INFO - MainProcess - Video preprocessed successfully. Found 644 frames/faces.
2025-07-28 16:37:18,837 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-28 16:37:18,850 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-28 16:37:18,907 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-28 16:37:18,908 - INFO - MainProcess - Processing external idle video via full AI pipeline from: assets/video/20s_girl_0728_00_idle.mp4
2025-07-28 16:47:18,332 - INFO - MainProcess - Starting Flask service...
2025-07-28 16:47:18,332 - INFO - MainProcess - Loading models and processing the main video...
2025-07-28 16:47:18,332 - INFO - MainProcess - Loading configuration file...
2025-07-28 16:47:18,344 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-28 16:47:18,344 - INFO - MainProcess - Loading model components...
2025-07-28 16:47:29,220 - INFO - MainProcess - All components loaded successfully.
2025-07-28 16:47:29,220 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-28 16:47:29,308 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-28 16:47:29,308 - INFO - MainProcess - Preprocessing video file: assets/video/20s_girl_0718_00.mp4...
2025-07-28 16:48:05,004 - INFO - MainProcess - Video preprocessed successfully. Found 644 frames/faces.
2025-07-28 16:48:05,005 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-28 16:48:05,019 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-28 16:48:05,078 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-28 16:48:05,078 - INFO - MainProcess - Processing external idle video via full AI pipeline from: assets/video/20s_girl_0728_00_idle.mp4
2025-07-28 16:49:49,799 - INFO - MainProcess - Starting Flask service...
2025-07-28 16:49:49,799 - INFO - MainProcess - Loading models and processing the main video...
2025-07-28 16:49:49,799 - INFO - MainProcess - Loading configuration file...
2025-07-28 16:49:49,811 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-28 16:49:49,811 - INFO - MainProcess - Loading model components...
2025-07-28 16:50:00,767 - INFO - MainProcess - All components loaded successfully.
2025-07-28 16:50:00,767 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-28 16:50:00,855 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-28 16:50:00,855 - INFO - MainProcess - Preprocessing video file: assets/video/20s_girl_0718_00.mp4...
2025-07-28 16:50:37,665 - INFO - MainProcess - Video preprocessed successfully. Found 644 frames/faces.
2025-07-28 16:50:37,665 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-28 16:50:37,679 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-28 16:50:37,727 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-28 16:50:37,727 - INFO - MainProcess - Processing external idle video via full AI pipeline from: assets/video/20s_girl_0728_00_idle.mp4
2025-07-28 17:10:29,435 - INFO - MainProcess - Starting Flask service...
2025-07-28 17:10:29,435 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-28 17:10:29,435 - INFO - MainProcess - Loading configuration file...
2025-07-28 17:10:29,448 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-28 17:10:29,448 - INFO - MainProcess - Loading model components...
2025-07-28 17:10:40,570 - INFO - MainProcess - All components loaded successfully.
2025-07-28 17:10:40,570 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-28 17:10:40,648 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-28 17:10:40,648 - INFO - MainProcess - Preprocessing video file: assets/video/25s_girl_0718_00.mp4...
2025-07-28 17:11:16,959 - INFO - MainProcess - Video preprocessed successfully. Found 644 frames/faces.
2025-07-28 17:11:16,959 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-28 17:11:16,972 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-28 17:11:17,019 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-28 17:11:17,019 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/19s_girl_0728_00_idle.mp4
2025-07-28 17:11:20,045 - ERROR - MainProcess - Could not process idle video: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
Traceback (most recent call last):
  File "/data/home/klai/project/LatentSync10/infer_serv.py", line 215, in load_models_and_prepare_idle_stream
    if not idle_video_frames_raw:
ValueError: The truth value of an array with more than one element is ambiguous. Use a.any() or a.all()
2025-07-28 17:14:17,312 - INFO - MainProcess - Starting Flask service...
2025-07-28 17:14:17,312 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-28 17:14:17,312 - INFO - MainProcess - Loading configuration file...
2025-07-28 17:14:17,325 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-28 17:14:17,325 - INFO - MainProcess - Loading model components...
2025-07-28 17:14:27,922 - INFO - MainProcess - All components loaded successfully.
2025-07-28 17:14:27,922 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-28 17:14:28,000 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-28 17:14:28,000 - INFO - MainProcess - Preprocessing video file: assets/video/25s_girl_0718_00.mp4...
2025-07-28 17:15:03,250 - INFO - MainProcess - Video preprocessed successfully. Found 644 frames/faces.
2025-07-28 17:15:03,251 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-28 17:15:03,265 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-28 17:15:03,325 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-28 17:15:03,326 - INFO - MainProcess - Detected target stream resolution from source video: 720x1080
2025-07-28 17:15:03,326 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/19s_girl_0728_00_idle.mp4
2025-07-28 17:15:06,802 - INFO - MainProcess - Processing 490 idle frames to match target resolution 720x1080
2025-07-28 17:15:07,772 - INFO - MainProcess - Idle stream queue populated with 30 chunks.
2025-07-28 17:15:07,772 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-28 17:15:07,773 - INFO - MainProcess - Starting FFmpeg process for RTMP streaming...
2025-07-28 17:15:07,773 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-28 17:15:07,884 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-28 17:15:07,890 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-28 17:15:07,891 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-28 17:26:46,114 - INFO - MainProcess - Initiating server cleanup...
2025-07-28 17:26:46,116 - INFO - MainProcess - Stopping the Streaming Controller...
2025-07-28 17:26:46,116 - INFO - MainProcess - Stopping FFmpeg process...
2025-07-28 17:26:46,138 - ERROR - MainProcess - Error in StreamingController loop: write to closed file
Traceback (most recent call last):
  File "/data/home/klai/project/LatentSync10/infer_serv.py", line 156, in run
    '-f', 'rawvideo', '-vcodec', 'rawvideo', '-pix_fmt', 'rgb24',
  File "/data/home/klai/project/LatentSync10/infer_serv.py", line 177, in write_to_ffmpeg
    # 检查 FFmpeg 进程是否意外退出
ValueError: write to closed file
2025-07-28 17:26:46,302 - INFO - MainProcess - StreamingController has been stopped.
2025-07-28 17:27:38,113 - INFO - MainProcess - Starting Flask service...
2025-07-28 17:27:38,113 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-28 17:27:38,114 - INFO - MainProcess - Loading configuration file...
2025-07-28 17:27:38,126 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-28 17:27:38,126 - INFO - MainProcess - Loading model components...
2025-07-28 17:27:48,008 - INFO - MainProcess - All components loaded successfully.
2025-07-28 17:27:48,009 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-28 17:27:48,100 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-28 17:27:48,100 - INFO - MainProcess - Preprocessing video file: assets/video/25s_girl_0718_00.mp4...
2025-07-28 17:28:25,557 - INFO - MainProcess - Video preprocessed successfully. Found 644 frames/faces.
2025-07-28 17:28:25,558 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-28 17:28:25,571 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-28 17:28:25,623 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-28 17:28:25,623 - INFO - MainProcess - Detected target stream resolution from source video: 720x1080
2025-07-28 17:28:25,624 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/19s_girl_0728_00_idle.mp4
2025-07-28 17:28:28,748 - INFO - MainProcess - Processing 490 idle frames to match target resolution 720x1080
2025-07-28 17:28:29,473 - INFO - MainProcess - Idle stream queue populated with 30 chunks.
2025-07-28 17:28:29,473 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-28 17:28:29,474 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-28 17:28:29,474 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-28 17:28:29,684 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-28 17:28:29,685 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-28 17:28:29,690 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-28 17:28:29,690 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-28 17:28:29,715 - INFO - MainProcess - Video pipe opened for writing.
2025-07-28 17:28:29,720 - INFO - MainProcess - Audio pipe opened for writing.
2025-07-28 17:30:51,705 - INFO - MainProcess - Initiating server cleanup...
2025-07-28 17:30:51,706 - INFO - MainProcess - Stopping the Streaming Controller...
2025-07-28 17:30:51,706 - INFO - MainProcess - Received stop signal for StreamingController.
2025-07-28 17:30:51,898 - INFO - MainProcess - Video writer thread finished.
2025-07-28 17:30:51,938 - INFO - MainProcess - Audio writer thread finished.
2025-07-28 17:31:28,118 - INFO - MainProcess - Starting Flask service...
2025-07-28 17:31:28,119 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-28 17:31:28,119 - INFO - MainProcess - Loading configuration file...
2025-07-28 17:31:28,131 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-28 17:31:28,131 - INFO - MainProcess - Loading model components...
2025-07-28 17:31:38,098 - INFO - MainProcess - All components loaded successfully.
2025-07-28 17:31:38,098 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-28 17:31:38,192 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-28 17:31:38,192 - INFO - MainProcess - Preprocessing video file: assets/video/25s_girl_0718_00.mp4...
2025-07-28 17:32:15,163 - INFO - MainProcess - Video preprocessed successfully. Found 644 frames/faces.
2025-07-28 17:32:15,163 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-28 17:32:15,178 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-28 17:32:15,232 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-28 17:32:15,233 - INFO - MainProcess - Detected target stream resolution from source video: 720x1080
2025-07-28 17:32:15,233 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/19s_girl_0728_00_idle.mp4
2025-07-28 17:32:18,303 - INFO - MainProcess - Processing 490 idle frames to match target resolution 720x1080
2025-07-28 17:32:19,344 - INFO - MainProcess - Idle stream queue populated with 30 chunks.
2025-07-28 17:32:19,344 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-28 17:32:19,344 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-28 17:32:19,344 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-28 17:32:19,345 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-28 17:32:19,497 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-28 17:32:19,497 - INFO - MainProcess - Video pipe opened for writing.
2025-07-28 17:32:19,502 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-28 17:32:19,503 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-28 17:32:19,504 - INFO - MainProcess - Audio pipe opened for writing.
2025-07-28 17:47:27,691 - INFO - MainProcess - Initiating server cleanup...
2025-07-28 17:47:27,692 - INFO - MainProcess - Stopping the Streaming Controller...
2025-07-28 17:47:27,692 - INFO - MainProcess - Received stop signal for StreamingController.
2025-07-28 17:47:27,731 - INFO - MainProcess - Video writer thread finished.
2025-07-28 17:47:27,769 - INFO - MainProcess - Audio writer thread finished.
2025-07-28 17:48:02,254 - INFO - MainProcess - Starting Flask service...
2025-07-28 17:48:02,255 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-28 17:48:02,255 - INFO - MainProcess - Loading configuration file...
2025-07-28 17:48:02,267 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-28 17:48:02,267 - INFO - MainProcess - Loading model components...
2025-07-28 17:48:12,749 - INFO - MainProcess - All components loaded successfully.
2025-07-28 17:48:12,749 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-28 17:48:12,826 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-28 17:48:12,826 - INFO - MainProcess - Preprocessing video file: assets/video/25s_girl_0718_00.mp4...
2025-07-28 17:48:33,353 - INFO - MainProcess - Starting Flask service...
2025-07-28 17:48:33,353 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-28 17:48:33,353 - INFO - MainProcess - Loading configuration file...
2025-07-28 17:48:33,365 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-28 17:48:33,365 - INFO - MainProcess - Loading model components...
2025-07-28 17:48:43,223 - INFO - MainProcess - All components loaded successfully.
2025-07-28 17:48:43,223 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-28 17:48:43,300 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-28 17:48:43,300 - INFO - MainProcess - Preprocessing video file: assets/video/25s_girl_0718_00.mp4...
2025-07-28 17:49:19,746 - INFO - MainProcess - Video preprocessed successfully. Found 644 frames/faces.
2025-07-28 17:49:19,747 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-28 17:49:19,762 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-28 17:49:19,818 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-28 17:49:19,819 - INFO - MainProcess - Detected target stream resolution from source video: 720x1080
2025-07-28 17:49:19,819 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/19s_girl_0728_00_idle.mp4
2025-07-28 17:49:22,791 - INFO - MainProcess - Processing 490 idle frames to match target resolution 720x1080
2025-07-28 17:49:22,793 - ERROR - MainProcess - Could not process idle video: name 'rgb_frame' is not defined
Traceback (most recent call last):
  File "/data/home/klai/project/LatentSync10/infer_serv.py", line 270, in load_models_and_prepare_idle_stream
    processed_idle_frames.append(rgb_frame)
NameError: name 'rgb_frame' is not defined
2025-07-28 17:51:37,657 - INFO - MainProcess - Starting Flask service...
2025-07-28 17:51:37,658 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-28 17:51:37,658 - INFO - MainProcess - Loading configuration file...
2025-07-28 17:51:37,670 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-28 17:51:37,670 - INFO - MainProcess - Loading model components...
2025-07-28 17:51:47,805 - INFO - MainProcess - All components loaded successfully.
2025-07-28 17:51:47,805 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-28 17:51:47,881 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-28 17:51:47,882 - INFO - MainProcess - Preprocessing video file: assets/video/25s_girl_0718_00.mp4...
2025-07-28 17:52:23,436 - INFO - MainProcess - Video preprocessed successfully. Found 644 frames/faces.
2025-07-28 17:52:23,438 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-28 17:52:23,464 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-28 17:52:23,568 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-28 17:52:23,569 - INFO - MainProcess - Detected target stream resolution from source video: 720x1080
2025-07-28 17:52:23,569 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/19s_girl_0728_00_idle.mp4
2025-07-28 17:52:27,085 - INFO - MainProcess - Processing 490 idle frames to match target resolution 720x1080
2025-07-28 17:52:28,013 - INFO - MainProcess - Idle stream queue populated with 30 chunks.
2025-07-28 17:52:28,013 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-28 17:52:28,014 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-28 17:52:28,014 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-28 17:52:28,120 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-28 17:52:28,121 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-28 17:52:28,127 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-28 17:52:28,127 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-28 17:52:28,148 - INFO - MainProcess - Video pipe opened for writing.
2025-07-28 17:52:28,151 - INFO - MainProcess - Audio pipe opened for writing.
2025-07-28 17:58:59,273 - INFO - MainProcess - Initiating server cleanup...
2025-07-28 17:58:59,274 - INFO - MainProcess - Stopping the Streaming Controller...
2025-07-28 17:58:59,274 - INFO - MainProcess - Received stop signal for StreamingController.
2025-07-28 17:58:59,308 - INFO - MainProcess - Video writer thread finished.
2025-07-28 17:58:59,347 - INFO - MainProcess - Audio writer thread finished.
2025-07-28 18:01:28,023 - INFO - MainProcess - Starting Flask service...
2025-07-28 18:01:28,023 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-28 18:01:28,023 - INFO - MainProcess - Loading configuration file...
2025-07-28 18:01:28,035 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-28 18:01:28,035 - INFO - MainProcess - Loading model components...
2025-07-28 18:01:37,716 - INFO - MainProcess - All components loaded successfully.
2025-07-28 18:01:37,716 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-28 18:01:37,805 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-28 18:01:37,805 - INFO - MainProcess - Preprocessing video file: assets/video/25s_girl_0718_00.mp4...
2025-07-28 18:02:14,843 - INFO - MainProcess - Video preprocessed successfully. Found 644 frames/faces.
2025-07-28 18:02:14,843 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-28 18:02:14,860 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-28 18:02:14,938 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-28 18:02:14,939 - INFO - MainProcess - Detected target stream resolution from source video: 720x1080
2025-07-28 18:02:14,939 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/19s_girl_0728_00_idle.mp4
2025-07-28 18:02:18,230 - INFO - MainProcess - Processing 490 idle frames to match target resolution 720x1080
2025-07-28 18:02:19,238 - INFO - MainProcess - Idle stream queue populated with 30 chunks.
2025-07-28 18:02:19,238 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-28 18:02:19,239 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-28 18:02:19,239 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-28 18:02:19,367 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-28 18:02:19,368 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-28 18:02:19,373 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-28 18:02:19,374 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-28 18:02:19,398 - INFO - MainProcess - Video pipe opened for writing.
2025-07-28 18:02:19,402 - INFO - MainProcess - Audio pipe opened for writing.
2025-07-28 18:08:21,863 - INFO - MainProcess - Initiating server cleanup...
2025-07-28 18:08:21,864 - INFO - MainProcess - Stopping the Streaming Controller...
2025-07-28 18:08:21,864 - INFO - MainProcess - Received stop signal for StreamingController.
2025-07-28 18:08:22,428 - INFO - MainProcess - Video writer thread finished.
2025-07-28 18:08:22,467 - INFO - MainProcess - Audio writer thread finished.
2025-07-28 18:08:31,371 - INFO - MainProcess - Starting Flask service...
2025-07-28 18:08:31,371 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-28 18:08:31,371 - INFO - MainProcess - Loading configuration file...
2025-07-28 18:08:31,384 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-28 18:08:31,384 - INFO - MainProcess - Loading model components...
2025-07-28 18:08:41,492 - INFO - MainProcess - All components loaded successfully.
2025-07-28 18:08:41,492 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-28 18:08:41,579 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-28 18:08:41,579 - INFO - MainProcess - Preprocessing video file: assets/video/25s_girl_0718_00.mp4...
2025-07-28 18:09:19,072 - INFO - MainProcess - Video preprocessed successfully. Found 644 frames/faces.
2025-07-28 18:09:19,073 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-28 18:09:19,089 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-28 18:09:19,139 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-28 18:09:19,139 - INFO - MainProcess - Detected target stream resolution from source video: 720x1080
2025-07-28 18:09:19,139 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/19s_girl_0728_00_idle.mp4
2025-07-28 18:09:22,048 - INFO - MainProcess - Processing 490 idle frames to match target resolution 720x1080
2025-07-28 18:09:22,050 - ERROR - MainProcess - Could not process idle video: name 'rgb_frame' is not defined
Traceback (most recent call last):
  File "/data/home/klai/project/LatentSync10/infer_serv.py", line 270, in load_models_and_prepare_idle_stream
    processed_idle_frames.append(rgb_frame)
NameError: name 'rgb_frame' is not defined
2025-07-28 18:10:01,824 - INFO - MainProcess - Starting Flask service...
2025-07-28 18:10:01,824 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-28 18:10:01,824 - INFO - MainProcess - Loading configuration file...
2025-07-28 18:10:01,836 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-28 18:10:01,836 - INFO - MainProcess - Loading model components...
2025-07-28 18:10:12,529 - INFO - MainProcess - All components loaded successfully.
2025-07-28 18:10:12,529 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-28 18:10:12,618 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-28 18:10:12,618 - INFO - MainProcess - Preprocessing video file: assets/video/25s_girl_0718_00.mp4...
2025-07-28 18:10:49,548 - INFO - MainProcess - Video preprocessed successfully. Found 644 frames/faces.
2025-07-28 18:10:49,549 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-28 18:10:49,569 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-28 18:10:49,664 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-28 18:10:49,665 - INFO - MainProcess - Detected target stream resolution from source video: 720x1080
2025-07-28 18:10:49,665 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/19s_girl_0728_00_idle.mp4
2025-07-28 18:10:53,040 - INFO - MainProcess - Processing 490 idle frames to match target resolution 720x1080
2025-07-28 18:10:53,888 - INFO - MainProcess - Idle stream queue populated with 30 chunks.
2025-07-28 18:10:53,888 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-28 18:10:53,889 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-28 18:10:53,889 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-28 18:10:53,992 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-28 18:10:53,992 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-28 18:10:53,997 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-28 18:10:53,998 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-28 18:10:54,021 - INFO - MainProcess - Video pipe opened for writing.
2025-07-28 18:10:54,025 - INFO - MainProcess - Audio pipe opened for writing.
2025-07-29 07:42:10,374 - ERROR - MainProcess - Audio pipe write error: [Errno 32] Broken pipe
2025-07-29 07:42:10,374 - ERROR - MainProcess - Video pipe write error: [Errno 32] Broken pipe
2025-07-29 07:42:10,375 - INFO - MainProcess - Audio writer thread finished.
2025-07-29 07:42:10,375 - INFO - MainProcess - Video writer thread finished.
2025-07-29 07:43:13,672 - INFO - MainProcess - Starting Flask service...
2025-07-29 07:43:13,672 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-29 07:43:13,672 - INFO - MainProcess - Loading configuration file...
2025-07-29 07:43:13,685 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-29 07:43:13,685 - INFO - MainProcess - Loading model components...
2025-07-29 07:43:24,388 - INFO - MainProcess - All components loaded successfully.
2025-07-29 07:43:24,388 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-29 07:43:24,480 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-29 07:43:24,480 - INFO - MainProcess - Preprocessing video file: assets/video/25s_girl_0718_00.mp4...
2025-07-29 07:44:01,923 - INFO - MainProcess - Video preprocessed successfully. Found 644 frames/faces.
2025-07-29 07:44:01,924 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-29 07:44:01,938 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-29 07:44:01,984 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-29 07:44:01,984 - INFO - MainProcess - Detected target stream resolution from source video: 720x1080
2025-07-29 07:44:01,984 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/19s_girl_0728_00_idle.mp4
2025-07-29 07:44:05,066 - INFO - MainProcess - Processing 490 idle frames to match target resolution 720x1080
2025-07-29 07:44:05,794 - INFO - MainProcess - Idle stream queue populated with 30 chunks.
2025-07-29 07:44:05,794 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-29 07:44:05,794 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-29 07:44:05,795 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-29 07:44:05,901 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-29 07:44:05,904 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-29 07:44:05,912 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-29 07:44:05,912 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-29 07:44:05,965 - INFO - MainProcess - Video pipe opened for writing.
2025-07-29 07:44:05,968 - INFO - MainProcess - Audio pipe opened for writing.
2025-07-29 07:50:08,957 - INFO - MainProcess - Received new request for audio: 42s_audio_sanxingdui_001.wav. Preparing tasks...
2025-07-29 07:50:09,324 - INFO - MainProcess - [Task-1c05902c-cb23-4530-aabc-0db4e2566e7c] Started processing. Expecting 40 chunks.
2025-07-29 07:50:09,324 - INFO - MainProcess - Task 1c05902c-cb23-4530-aabc-0db4e2566e7c has been started in the background.
2025-07-29 07:50:09,326 - INFO - MainProcess - 127.0.0.1 - - [29/Jul/2025 07:50:09] "POST /generate_video HTTP/1.1" 200 -
2025-07-29 07:50:13,912 - INFO - MainProcess - [Task-1c05902c-cb23-4530-aabc-0db4e2566e7c] Chunk 0 sent to stream queue.
2025-07-29 07:50:14,067 - INFO - MainProcess - [Task-1c05902c-cb23-4530-aabc-0db4e2566e7c] Chunk 1 sent to stream queue.
2025-07-29 07:50:14,218 - INFO - MainProcess - [Task-1c05902c-cb23-4530-aabc-0db4e2566e7c] Chunk 2 sent to stream queue.
2025-07-29 07:50:14,368 - INFO - MainProcess - [Task-1c05902c-cb23-4530-aabc-0db4e2566e7c] Chunk 3 sent to stream queue.
2025-07-29 07:50:14,553 - INFO - MainProcess - [Task-1c05902c-cb23-4530-aabc-0db4e2566e7c] Chunk 4 sent to stream queue.
2025-07-29 07:50:14,720 - INFO - MainProcess - [Task-1c05902c-cb23-4530-aabc-0db4e2566e7c] Chunk 5 sent to stream queue.
2025-07-29 07:50:14,866 - INFO - MainProcess - [Task-1c05902c-cb23-4530-aabc-0db4e2566e7c] Chunk 6 sent to stream queue.
2025-07-29 07:50:15,015 - INFO - MainProcess - [Task-1c05902c-cb23-4530-aabc-0db4e2566e7c] Chunk 7 sent to stream queue.
2025-07-29 07:50:16,078 - INFO - MainProcess - [Task-1c05902c-cb23-4530-aabc-0db4e2566e7c] Chunk 8 sent to stream queue.
2025-07-29 07:50:16,243 - INFO - MainProcess - [Task-1c05902c-cb23-4530-aabc-0db4e2566e7c] Chunk 9 sent to stream queue.
2025-07-29 07:50:16,409 - INFO - MainProcess - [Task-1c05902c-cb23-4530-aabc-0db4e2566e7c] Chunk 10 sent to stream queue.
2025-07-29 07:50:16,630 - INFO - MainProcess - [Task-1c05902c-cb23-4530-aabc-0db4e2566e7c] Chunk 11 sent to stream queue.
2025-07-29 07:50:16,798 - INFO - MainProcess - [Task-1c05902c-cb23-4530-aabc-0db4e2566e7c] Chunk 12 sent to stream queue.
2025-07-29 07:50:16,947 - INFO - MainProcess - [Task-1c05902c-cb23-4530-aabc-0db4e2566e7c] Chunk 13 sent to stream queue.
2025-07-29 07:50:17,079 - INFO - MainProcess - [Task-1c05902c-cb23-4530-aabc-0db4e2566e7c] Chunk 14 sent to stream queue.
2025-07-29 07:50:17,302 - INFO - MainProcess - [Task-1c05902c-cb23-4530-aabc-0db4e2566e7c] Chunk 15 sent to stream queue.
2025-07-29 07:50:18,187 - INFO - MainProcess - [Task-1c05902c-cb23-4530-aabc-0db4e2566e7c] Chunk 16 sent to stream queue.
2025-07-29 07:50:18,357 - INFO - MainProcess - [Task-1c05902c-cb23-4530-aabc-0db4e2566e7c] Chunk 17 sent to stream queue.
2025-07-29 07:50:18,530 - INFO - MainProcess - [Task-1c05902c-cb23-4530-aabc-0db4e2566e7c] Chunk 18 sent to stream queue.
2025-07-29 07:50:18,732 - INFO - MainProcess - [Task-1c05902c-cb23-4530-aabc-0db4e2566e7c] Chunk 19 sent to stream queue.
2025-07-29 07:50:18,920 - INFO - MainProcess - [Task-1c05902c-cb23-4530-aabc-0db4e2566e7c] Chunk 20 sent to stream queue.
2025-07-29 07:50:19,096 - INFO - MainProcess - [Task-1c05902c-cb23-4530-aabc-0db4e2566e7c] Chunk 21 sent to stream queue.
2025-07-29 07:50:19,261 - INFO - MainProcess - [Task-1c05902c-cb23-4530-aabc-0db4e2566e7c] Chunk 22 sent to stream queue.
2025-07-29 07:50:19,435 - INFO - MainProcess - [Task-1c05902c-cb23-4530-aabc-0db4e2566e7c] Chunk 23 sent to stream queue.
2025-07-29 07:50:20,236 - INFO - MainProcess - [Task-1c05902c-cb23-4530-aabc-0db4e2566e7c] Chunk 24 sent to stream queue.
2025-07-29 07:50:20,432 - INFO - MainProcess - [Task-1c05902c-cb23-4530-aabc-0db4e2566e7c] Chunk 25 sent to stream queue.
2025-07-29 07:50:20,596 - INFO - MainProcess - [Task-1c05902c-cb23-4530-aabc-0db4e2566e7c] Chunk 26 sent to stream queue.
2025-07-29 07:50:20,755 - INFO - MainProcess - [Task-1c05902c-cb23-4530-aabc-0db4e2566e7c] Chunk 27 sent to stream queue.
2025-07-29 07:50:20,952 - INFO - MainProcess - [Task-1c05902c-cb23-4530-aabc-0db4e2566e7c] Chunk 28 sent to stream queue.
2025-07-29 07:50:21,189 - INFO - MainProcess - [Task-1c05902c-cb23-4530-aabc-0db4e2566e7c] Chunk 29 sent to stream queue.
2025-07-29 07:50:21,365 - INFO - MainProcess - [Task-1c05902c-cb23-4530-aabc-0db4e2566e7c] Chunk 30 sent to stream queue.
2025-07-29 07:50:21,546 - INFO - MainProcess - [Task-1c05902c-cb23-4530-aabc-0db4e2566e7c] Chunk 31 sent to stream queue.
2025-07-29 07:50:22,399 - INFO - MainProcess - [Task-1c05902c-cb23-4530-aabc-0db4e2566e7c] Chunk 32 sent to stream queue.
2025-07-29 07:50:22,491 - INFO - MainProcess - [Task-1c05902c-cb23-4530-aabc-0db4e2566e7c] Chunk 33 sent to stream queue.
2025-07-29 07:50:22,730 - INFO - MainProcess - [Task-1c05902c-cb23-4530-aabc-0db4e2566e7c] Chunk 34 sent to stream queue.
2025-07-29 07:50:22,849 - INFO - MainProcess - [Task-1c05902c-cb23-4530-aabc-0db4e2566e7c] Chunk 35 sent to stream queue.
2025-07-29 07:50:23,059 - INFO - MainProcess - [Task-1c05902c-cb23-4530-aabc-0db4e2566e7c] Chunk 36 sent to stream queue.
2025-07-29 07:50:23,218 - INFO - MainProcess - [Task-1c05902c-cb23-4530-aabc-0db4e2566e7c] Chunk 37 sent to stream queue.
2025-07-29 07:50:23,399 - INFO - MainProcess - [Task-1c05902c-cb23-4530-aabc-0db4e2566e7c] Chunk 38 sent to stream queue.
2025-07-29 07:50:23,634 - INFO - MainProcess - [Task-1c05902c-cb23-4530-aabc-0db4e2566e7c] Chunk 39 sent to stream queue.
2025-07-29 07:50:23,643 - INFO - MainProcess - [Task-1c05902c-cb23-4530-aabc-0db4e2566e7c] All chunks processed and queued successfully.
2025-07-29 07:50:23,643 - INFO - MainProcess - [Task-1c05902c-cb23-4530-aabc-0db4e2566e7c] Processor thread finished and cleaned up.
2025-07-29 07:50:58,441 - INFO - MainProcess - Received new request for audio: 42s_audio_sanxingdui_001.wav. Preparing tasks...
2025-07-29 07:50:58,710 - INFO - MainProcess - [Task-ba6f1b55-003f-45c9-949a-fea3ecbda340] Started processing. Expecting 40 chunks.
2025-07-29 07:50:58,711 - INFO - MainProcess - Task ba6f1b55-003f-45c9-949a-fea3ecbda340 has been started in the background.
2025-07-29 07:50:58,806 - INFO - MainProcess - 127.0.0.1 - - [29/Jul/2025 07:50:58] "POST /generate_video HTTP/1.1" 200 -
2025-07-29 07:51:01,213 - INFO - MainProcess - [Task-ba6f1b55-003f-45c9-949a-fea3ecbda340] Chunk 0 sent to stream queue.
2025-07-29 07:51:01,213 - INFO - MainProcess - [Task-ba6f1b55-003f-45c9-949a-fea3ecbda340] Chunk 1 sent to stream queue.
2025-07-29 07:51:01,397 - INFO - MainProcess - [Task-ba6f1b55-003f-45c9-949a-fea3ecbda340] Chunk 2 sent to stream queue.
2025-07-29 07:51:01,604 - INFO - MainProcess - [Task-ba6f1b55-003f-45c9-949a-fea3ecbda340] Chunk 3 sent to stream queue.
2025-07-29 07:51:01,782 - INFO - MainProcess - [Task-ba6f1b55-003f-45c9-949a-fea3ecbda340] Chunk 4 sent to stream queue.
2025-07-29 07:51:01,971 - INFO - MainProcess - [Task-ba6f1b55-003f-45c9-949a-fea3ecbda340] Chunk 5 sent to stream queue.
2025-07-29 07:51:02,130 - INFO - MainProcess - [Task-ba6f1b55-003f-45c9-949a-fea3ecbda340] Chunk 6 sent to stream queue.
2025-07-29 07:51:02,363 - INFO - MainProcess - [Task-ba6f1b55-003f-45c9-949a-fea3ecbda340] Chunk 7 sent to stream queue.
2025-07-29 07:51:03,256 - INFO - MainProcess - [Task-ba6f1b55-003f-45c9-949a-fea3ecbda340] Chunk 8 sent to stream queue.
2025-07-29 07:51:03,488 - INFO - MainProcess - [Task-ba6f1b55-003f-45c9-949a-fea3ecbda340] Chunk 9 sent to stream queue.
2025-07-29 07:51:03,640 - INFO - MainProcess - [Task-ba6f1b55-003f-45c9-949a-fea3ecbda340] Chunk 10 sent to stream queue.
2025-07-29 07:51:03,872 - INFO - MainProcess - [Task-ba6f1b55-003f-45c9-949a-fea3ecbda340] Chunk 11 sent to stream queue.
2025-07-29 07:51:04,102 - INFO - MainProcess - [Task-ba6f1b55-003f-45c9-949a-fea3ecbda340] Chunk 12 sent to stream queue.
2025-07-29 07:51:04,242 - INFO - MainProcess - [Task-ba6f1b55-003f-45c9-949a-fea3ecbda340] Chunk 13 sent to stream queue.
2025-07-29 07:51:04,423 - INFO - MainProcess - [Task-ba6f1b55-003f-45c9-949a-fea3ecbda340] Chunk 14 sent to stream queue.
2025-07-29 07:51:04,596 - INFO - MainProcess - [Task-ba6f1b55-003f-45c9-949a-fea3ecbda340] Chunk 15 sent to stream queue.
2025-07-29 07:51:05,295 - INFO - MainProcess - [Task-ba6f1b55-003f-45c9-949a-fea3ecbda340] Chunk 16 sent to stream queue.
2025-07-29 07:51:05,587 - INFO - MainProcess - [Task-ba6f1b55-003f-45c9-949a-fea3ecbda340] Chunk 17 sent to stream queue.
2025-07-29 07:51:05,745 - INFO - MainProcess - [Task-ba6f1b55-003f-45c9-949a-fea3ecbda340] Chunk 18 sent to stream queue.
2025-07-29 07:51:05,944 - INFO - MainProcess - [Task-ba6f1b55-003f-45c9-949a-fea3ecbda340] Chunk 19 sent to stream queue.
2025-07-29 07:51:06,361 - INFO - MainProcess - [Task-ba6f1b55-003f-45c9-949a-fea3ecbda340] Chunk 20 sent to stream queue.
2025-07-29 07:51:06,538 - INFO - MainProcess - [Task-ba6f1b55-003f-45c9-949a-fea3ecbda340] Chunk 21 sent to stream queue.
2025-07-29 07:51:06,705 - INFO - MainProcess - [Task-ba6f1b55-003f-45c9-949a-fea3ecbda340] Chunk 22 sent to stream queue.
2025-07-29 07:51:06,856 - INFO - MainProcess - [Task-ba6f1b55-003f-45c9-949a-fea3ecbda340] Chunk 23 sent to stream queue.
2025-07-29 07:51:07,355 - INFO - MainProcess - [Task-ba6f1b55-003f-45c9-949a-fea3ecbda340] Chunk 24 sent to stream queue.
2025-07-29 07:51:07,685 - INFO - MainProcess - [Task-ba6f1b55-003f-45c9-949a-fea3ecbda340] Chunk 25 sent to stream queue.
2025-07-29 07:51:07,848 - INFO - MainProcess - [Task-ba6f1b55-003f-45c9-949a-fea3ecbda340] Chunk 26 sent to stream queue.
2025-07-29 07:51:08,102 - INFO - MainProcess - [Task-ba6f1b55-003f-45c9-949a-fea3ecbda340] Chunk 27 sent to stream queue.
2025-07-29 07:51:08,745 - INFO - MainProcess - [Task-ba6f1b55-003f-45c9-949a-fea3ecbda340] Chunk 28 sent to stream queue.
2025-07-29 07:51:08,745 - INFO - MainProcess - [Task-ba6f1b55-003f-45c9-949a-fea3ecbda340] Chunk 29 sent to stream queue.
2025-07-29 07:51:08,895 - INFO - MainProcess - [Task-ba6f1b55-003f-45c9-949a-fea3ecbda340] Chunk 30 sent to stream queue.
2025-07-29 07:51:09,066 - INFO - MainProcess - [Task-ba6f1b55-003f-45c9-949a-fea3ecbda340] Chunk 31 sent to stream queue.
2025-07-29 07:51:09,350 - INFO - MainProcess - [Task-ba6f1b55-003f-45c9-949a-fea3ecbda340] Chunk 32 sent to stream queue.
2025-07-29 07:51:09,766 - INFO - MainProcess - [Task-ba6f1b55-003f-45c9-949a-fea3ecbda340] Chunk 33 sent to stream queue.
2025-07-29 07:51:09,903 - INFO - MainProcess - [Task-ba6f1b55-003f-45c9-949a-fea3ecbda340] Chunk 34 sent to stream queue.
2025-07-29 07:51:10,222 - INFO - MainProcess - [Task-ba6f1b55-003f-45c9-949a-fea3ecbda340] Chunk 35 sent to stream queue.
2025-07-29 07:51:10,640 - INFO - MainProcess - [Task-ba6f1b55-003f-45c9-949a-fea3ecbda340] Chunk 36 sent to stream queue.
2025-07-29 07:51:11,013 - INFO - MainProcess - [Task-ba6f1b55-003f-45c9-949a-fea3ecbda340] Chunk 37 sent to stream queue.
2025-07-29 07:51:11,013 - INFO - MainProcess - [Task-ba6f1b55-003f-45c9-949a-fea3ecbda340] Chunk 38 sent to stream queue.
2025-07-29 07:51:11,135 - INFO - MainProcess - [Task-ba6f1b55-003f-45c9-949a-fea3ecbda340] Chunk 39 sent to stream queue.
2025-07-29 07:51:11,136 - INFO - MainProcess - [Task-ba6f1b55-003f-45c9-949a-fea3ecbda340] All chunks processed and queued successfully.
2025-07-29 07:51:11,136 - INFO - MainProcess - [Task-ba6f1b55-003f-45c9-949a-fea3ecbda340] Processor thread finished and cleaned up.
2025-07-29 07:52:00,665 - INFO - MainProcess - Received new request for audio: 42s_audio_sanxingdui_001.wav. Preparing tasks...
2025-07-29 07:52:00,930 - INFO - MainProcess - [Task-ec67065b-350e-47c0-9690-08c97697f9f3] Started processing. Expecting 40 chunks.
2025-07-29 07:52:00,930 - INFO - MainProcess - Task ec67065b-350e-47c0-9690-08c97697f9f3 has been started in the background.
2025-07-29 07:52:01,010 - INFO - MainProcess - 127.0.0.1 - - [29/Jul/2025 07:52:01] "POST /generate_video HTTP/1.1" 200 -
2025-07-29 07:52:03,125 - INFO - MainProcess - [Task-ec67065b-350e-47c0-9690-08c97697f9f3] Chunk 0 sent to stream queue.
2025-07-29 07:52:03,282 - INFO - MainProcess - [Task-ec67065b-350e-47c0-9690-08c97697f9f3] Chunk 1 sent to stream queue.
2025-07-29 07:52:03,466 - INFO - MainProcess - [Task-ec67065b-350e-47c0-9690-08c97697f9f3] Chunk 2 sent to stream queue.
2025-07-29 07:52:03,619 - INFO - MainProcess - [Task-ec67065b-350e-47c0-9690-08c97697f9f3] Chunk 3 sent to stream queue.
2025-07-29 07:52:03,764 - INFO - MainProcess - [Task-ec67065b-350e-47c0-9690-08c97697f9f3] Chunk 4 sent to stream queue.
2025-07-29 07:52:03,896 - INFO - MainProcess - [Task-ec67065b-350e-47c0-9690-08c97697f9f3] Chunk 5 sent to stream queue.
2025-07-29 07:52:04,210 - INFO - MainProcess - [Task-ec67065b-350e-47c0-9690-08c97697f9f3] Chunk 6 sent to stream queue.
2025-07-29 07:52:04,210 - INFO - MainProcess - [Task-ec67065b-350e-47c0-9690-08c97697f9f3] Chunk 7 sent to stream queue.
2025-07-29 07:52:05,277 - INFO - MainProcess - [Task-ec67065b-350e-47c0-9690-08c97697f9f3] Chunk 8 sent to stream queue.
2025-07-29 07:52:05,442 - INFO - MainProcess - [Task-ec67065b-350e-47c0-9690-08c97697f9f3] Chunk 9 sent to stream queue.
2025-07-29 07:52:05,604 - INFO - MainProcess - [Task-ec67065b-350e-47c0-9690-08c97697f9f3] Chunk 10 sent to stream queue.
2025-07-29 07:52:05,796 - INFO - MainProcess - [Task-ec67065b-350e-47c0-9690-08c97697f9f3] Chunk 11 sent to stream queue.
2025-07-29 07:52:05,964 - INFO - MainProcess - [Task-ec67065b-350e-47c0-9690-08c97697f9f3] Chunk 12 sent to stream queue.
2025-07-29 07:52:06,160 - INFO - MainProcess - [Task-ec67065b-350e-47c0-9690-08c97697f9f3] Chunk 13 sent to stream queue.
2025-07-29 07:52:06,336 - INFO - MainProcess - [Task-ec67065b-350e-47c0-9690-08c97697f9f3] Chunk 14 sent to stream queue.
2025-07-29 07:52:06,497 - INFO - MainProcess - [Task-ec67065b-350e-47c0-9690-08c97697f9f3] Chunk 15 sent to stream queue.
2025-07-29 07:52:07,405 - INFO - MainProcess - [Task-ec67065b-350e-47c0-9690-08c97697f9f3] Chunk 16 sent to stream queue.
2025-07-29 07:52:07,564 - INFO - MainProcess - [Task-ec67065b-350e-47c0-9690-08c97697f9f3] Chunk 17 sent to stream queue.
2025-07-29 07:52:07,727 - INFO - MainProcess - [Task-ec67065b-350e-47c0-9690-08c97697f9f3] Chunk 18 sent to stream queue.
2025-07-29 07:52:07,914 - INFO - MainProcess - [Task-ec67065b-350e-47c0-9690-08c97697f9f3] Chunk 19 sent to stream queue.
2025-07-29 07:52:08,095 - INFO - MainProcess - [Task-ec67065b-350e-47c0-9690-08c97697f9f3] Chunk 20 sent to stream queue.
2025-07-29 07:52:08,244 - INFO - MainProcess - [Task-ec67065b-350e-47c0-9690-08c97697f9f3] Chunk 21 sent to stream queue.
2025-07-29 07:52:08,509 - INFO - MainProcess - [Task-ec67065b-350e-47c0-9690-08c97697f9f3] Chunk 22 sent to stream queue.
2025-07-29 07:52:08,678 - INFO - MainProcess - [Task-ec67065b-350e-47c0-9690-08c97697f9f3] Chunk 23 sent to stream queue.
2025-07-29 07:52:09,549 - INFO - MainProcess - [Task-ec67065b-350e-47c0-9690-08c97697f9f3] Chunk 24 sent to stream queue.
2025-07-29 07:52:09,724 - INFO - MainProcess - [Task-ec67065b-350e-47c0-9690-08c97697f9f3] Chunk 25 sent to stream queue.
2025-07-29 07:52:09,901 - INFO - MainProcess - [Task-ec67065b-350e-47c0-9690-08c97697f9f3] Chunk 26 sent to stream queue.
2025-07-29 07:52:10,271 - INFO - MainProcess - [Task-ec67065b-350e-47c0-9690-08c97697f9f3] Chunk 27 sent to stream queue.
2025-07-29 07:52:10,273 - INFO - MainProcess - [Task-ec67065b-350e-47c0-9690-08c97697f9f3] Chunk 28 sent to stream queue.
2025-07-29 07:52:10,441 - INFO - MainProcess - [Task-ec67065b-350e-47c0-9690-08c97697f9f3] Chunk 29 sent to stream queue.
2025-07-29 07:52:10,627 - INFO - MainProcess - [Task-ec67065b-350e-47c0-9690-08c97697f9f3] Chunk 30 sent to stream queue.
2025-07-29 07:52:10,768 - INFO - MainProcess - [Task-ec67065b-350e-47c0-9690-08c97697f9f3] Chunk 31 sent to stream queue.
2025-07-29 07:52:11,603 - INFO - MainProcess - [Task-ec67065b-350e-47c0-9690-08c97697f9f3] Chunk 32 sent to stream queue.
2025-07-29 07:52:11,806 - INFO - MainProcess - [Task-ec67065b-350e-47c0-9690-08c97697f9f3] Chunk 33 sent to stream queue.
2025-07-29 07:52:11,959 - INFO - MainProcess - [Task-ec67065b-350e-47c0-9690-08c97697f9f3] Chunk 34 sent to stream queue.
2025-07-29 07:52:12,141 - INFO - MainProcess - [Task-ec67065b-350e-47c0-9690-08c97697f9f3] Chunk 35 sent to stream queue.
2025-07-29 07:52:12,352 - INFO - MainProcess - [Task-ec67065b-350e-47c0-9690-08c97697f9f3] Chunk 36 sent to stream queue.
2025-07-29 07:52:12,441 - INFO - MainProcess - [Task-ec67065b-350e-47c0-9690-08c97697f9f3] Chunk 37 sent to stream queue.
2025-07-29 07:52:12,852 - INFO - MainProcess - [Task-ec67065b-350e-47c0-9690-08c97697f9f3] Chunk 38 sent to stream queue.
2025-07-29 07:52:12,853 - INFO - MainProcess - [Task-ec67065b-350e-47c0-9690-08c97697f9f3] Chunk 39 sent to stream queue.
2025-07-29 07:52:12,853 - INFO - MainProcess - [Task-ec67065b-350e-47c0-9690-08c97697f9f3] All chunks processed and queued successfully.
2025-07-29 07:52:12,853 - INFO - MainProcess - [Task-ec67065b-350e-47c0-9690-08c97697f9f3] Processor thread finished and cleaned up.
2025-07-29 08:20:51,779 - ERROR - MainProcess - Video pipe write error: [Errno 32] Broken pipe
2025-07-29 08:20:51,780 - ERROR - MainProcess - Audio pipe write error: [Errno 32] Broken pipe
2025-07-29 08:20:51,780 - INFO - MainProcess - Video writer thread finished.
2025-07-29 08:20:51,781 - INFO - MainProcess - Audio writer thread finished.
2025-07-29 08:20:58,955 - INFO - MainProcess - Starting Flask service...
2025-07-29 08:20:58,955 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-29 08:20:58,955 - INFO - MainProcess - Loading configuration file...
2025-07-29 08:20:58,967 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-29 08:20:58,968 - INFO - MainProcess - Loading model components...
2025-07-29 08:21:09,450 - INFO - MainProcess - All components loaded successfully.
2025-07-29 08:21:09,450 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-29 08:21:09,529 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-29 08:21:09,529 - INFO - MainProcess - Preprocessing video file: assets/video/25s_girl_0718_00.mp4...
2025-07-29 08:21:46,239 - INFO - MainProcess - Video preprocessed successfully. Found 644 frames/faces.
2025-07-29 08:21:46,239 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-29 08:21:46,256 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-29 08:21:46,300 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-29 08:21:46,300 - INFO - MainProcess - Detected target stream resolution from source video: 720x1080
2025-07-29 08:21:46,300 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/19s_girl_0728_00_idle.mp4
2025-07-29 08:21:49,290 - INFO - MainProcess - Processing 490 idle frames to match target resolution 720x1080
2025-07-29 08:21:49,966 - INFO - MainProcess - Idle stream queue populated with 30 chunks.
2025-07-29 08:21:49,966 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-29 08:21:49,966 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-29 08:21:49,966 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-29 08:21:50,050 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-29 08:21:50,050 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-29 08:21:50,055 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-29 08:21:50,055 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-29 08:21:50,083 - INFO - MainProcess - Video pipe opened for writing.
2025-07-29 08:21:50,093 - INFO - MainProcess - Audio pipe opened for writing.
2025-07-29 08:24:42,246 - INFO - MainProcess - Received new request for audio: 42s_audio_sanxingdui_001.wav. Preparing tasks...
2025-07-29 08:24:42,618 - INFO - MainProcess - [Task-2dfd5bba-2eb4-4ad8-869c-eda2283a97f7] Started processing. Expecting 40 chunks.
2025-07-29 08:24:42,618 - INFO - MainProcess - Task 2dfd5bba-2eb4-4ad8-869c-eda2283a97f7 has been started in the background.
2025-07-29 08:24:42,621 - INFO - MainProcess - 127.0.0.1 - - [29/Jul/2025 08:24:42] "POST /generate_video HTTP/1.1" 200 -
2025-07-29 08:24:47,403 - INFO - MainProcess - [Task-2dfd5bba-2eb4-4ad8-869c-eda2283a97f7] Chunk 0 sent to stream queue.
2025-07-29 08:24:47,404 - INFO - MainProcess - [Task-2dfd5bba-2eb4-4ad8-869c-eda2283a97f7] Chunk 1 sent to stream queue.
2025-07-29 08:24:47,404 - INFO - MainProcess - [Task-2dfd5bba-2eb4-4ad8-869c-eda2283a97f7] Chunk 2 sent to stream queue.
2025-07-29 08:24:47,689 - INFO - MainProcess - [Task-2dfd5bba-2eb4-4ad8-869c-eda2283a97f7] Chunk 3 sent to stream queue.
2025-07-29 08:24:48,234 - INFO - MainProcess - [Task-2dfd5bba-2eb4-4ad8-869c-eda2283a97f7] Chunk 4 sent to stream queue.
2025-07-29 08:24:48,234 - INFO - MainProcess - [Task-2dfd5bba-2eb4-4ad8-869c-eda2283a97f7] Chunk 5 sent to stream queue.
2025-07-29 08:24:48,235 - INFO - MainProcess - [Task-2dfd5bba-2eb4-4ad8-869c-eda2283a97f7] Chunk 6 sent to stream queue.
2025-07-29 08:24:48,387 - INFO - MainProcess - [Task-2dfd5bba-2eb4-4ad8-869c-eda2283a97f7] Chunk 7 sent to stream queue.
2025-07-29 08:24:49,238 - INFO - MainProcess - [Task-2dfd5bba-2eb4-4ad8-869c-eda2283a97f7] Chunk 8 sent to stream queue.
2025-07-29 08:24:49,404 - INFO - MainProcess - [Task-2dfd5bba-2eb4-4ad8-869c-eda2283a97f7] Chunk 9 sent to stream queue.
2025-07-29 08:24:49,558 - INFO - MainProcess - [Task-2dfd5bba-2eb4-4ad8-869c-eda2283a97f7] Chunk 10 sent to stream queue.
2025-07-29 08:24:49,731 - INFO - MainProcess - [Task-2dfd5bba-2eb4-4ad8-869c-eda2283a97f7] Chunk 11 sent to stream queue.
2025-07-29 08:24:50,065 - INFO - MainProcess - [Task-2dfd5bba-2eb4-4ad8-869c-eda2283a97f7] Chunk 12 sent to stream queue.
2025-07-29 08:24:50,228 - INFO - MainProcess - [Task-2dfd5bba-2eb4-4ad8-869c-eda2283a97f7] Chunk 13 sent to stream queue.
2025-07-29 08:24:50,421 - INFO - MainProcess - [Task-2dfd5bba-2eb4-4ad8-869c-eda2283a97f7] Chunk 14 sent to stream queue.
2025-07-29 08:24:50,595 - INFO - MainProcess - [Task-2dfd5bba-2eb4-4ad8-869c-eda2283a97f7] Chunk 15 sent to stream queue.
2025-07-29 08:24:51,361 - INFO - MainProcess - [Task-2dfd5bba-2eb4-4ad8-869c-eda2283a97f7] Chunk 16 sent to stream queue.
2025-07-29 08:24:51,569 - INFO - MainProcess - [Task-2dfd5bba-2eb4-4ad8-869c-eda2283a97f7] Chunk 17 sent to stream queue.
2025-07-29 08:24:51,741 - INFO - MainProcess - [Task-2dfd5bba-2eb4-4ad8-869c-eda2283a97f7] Chunk 18 sent to stream queue.
2025-07-29 08:24:51,912 - INFO - MainProcess - [Task-2dfd5bba-2eb4-4ad8-869c-eda2283a97f7] Chunk 19 sent to stream queue.
2025-07-29 08:24:52,194 - INFO - MainProcess - [Task-2dfd5bba-2eb4-4ad8-869c-eda2283a97f7] Chunk 20 sent to stream queue.
2025-07-29 08:24:52,467 - INFO - MainProcess - [Task-2dfd5bba-2eb4-4ad8-869c-eda2283a97f7] Chunk 21 sent to stream queue.
2025-07-29 08:24:52,625 - INFO - MainProcess - [Task-2dfd5bba-2eb4-4ad8-869c-eda2283a97f7] Chunk 22 sent to stream queue.
2025-07-29 08:24:52,790 - INFO - MainProcess - [Task-2dfd5bba-2eb4-4ad8-869c-eda2283a97f7] Chunk 23 sent to stream queue.
2025-07-29 08:24:53,483 - INFO - MainProcess - [Task-2dfd5bba-2eb4-4ad8-869c-eda2283a97f7] Chunk 24 sent to stream queue.
2025-07-29 08:24:53,685 - INFO - MainProcess - [Task-2dfd5bba-2eb4-4ad8-869c-eda2283a97f7] Chunk 25 sent to stream queue.
2025-07-29 08:24:53,885 - INFO - MainProcess - [Task-2dfd5bba-2eb4-4ad8-869c-eda2283a97f7] Chunk 26 sent to stream queue.
2025-07-29 08:24:54,016 - INFO - MainProcess - [Task-2dfd5bba-2eb4-4ad8-869c-eda2283a97f7] Chunk 27 sent to stream queue.
2025-07-29 08:24:54,280 - INFO - MainProcess - [Task-2dfd5bba-2eb4-4ad8-869c-eda2283a97f7] Chunk 28 sent to stream queue.
2025-07-29 08:24:54,709 - INFO - MainProcess - [Task-2dfd5bba-2eb4-4ad8-869c-eda2283a97f7] Chunk 29 sent to stream queue.
2025-07-29 08:24:54,865 - INFO - MainProcess - [Task-2dfd5bba-2eb4-4ad8-869c-eda2283a97f7] Chunk 30 sent to stream queue.
2025-07-29 08:24:55,041 - INFO - MainProcess - [Task-2dfd5bba-2eb4-4ad8-869c-eda2283a97f7] Chunk 31 sent to stream queue.
2025-07-29 08:24:55,602 - INFO - MainProcess - [Task-2dfd5bba-2eb4-4ad8-869c-eda2283a97f7] Chunk 32 sent to stream queue.
2025-07-29 08:24:55,695 - INFO - MainProcess - [Task-2dfd5bba-2eb4-4ad8-869c-eda2283a97f7] Chunk 33 sent to stream queue.
2025-07-29 08:24:55,958 - INFO - MainProcess - [Task-2dfd5bba-2eb4-4ad8-869c-eda2283a97f7] Chunk 34 sent to stream queue.
2025-07-29 08:24:56,050 - INFO - MainProcess - [Task-2dfd5bba-2eb4-4ad8-869c-eda2283a97f7] Chunk 35 sent to stream queue.
2025-07-29 08:24:56,345 - INFO - MainProcess - [Task-2dfd5bba-2eb4-4ad8-869c-eda2283a97f7] Chunk 36 sent to stream queue.
2025-07-29 08:24:56,807 - INFO - MainProcess - [Task-2dfd5bba-2eb4-4ad8-869c-eda2283a97f7] Chunk 37 sent to stream queue.
2025-07-29 08:24:56,914 - INFO - MainProcess - [Task-2dfd5bba-2eb4-4ad8-869c-eda2283a97f7] Chunk 38 sent to stream queue.
2025-07-29 08:24:56,995 - INFO - MainProcess - [Task-2dfd5bba-2eb4-4ad8-869c-eda2283a97f7] Chunk 39 sent to stream queue.
2025-07-29 08:24:56,995 - INFO - MainProcess - [Task-2dfd5bba-2eb4-4ad8-869c-eda2283a97f7] All chunks processed and queued successfully.
2025-07-29 08:24:56,995 - INFO - MainProcess - [Task-2dfd5bba-2eb4-4ad8-869c-eda2283a97f7] Processor thread finished and cleaned up.
2025-07-29 08:37:11,427 - ERROR - MainProcess - Audio pipe write error: [Errno 32] Broken pipe
2025-07-29 08:37:11,427 - ERROR - MainProcess - Video pipe write error: [Errno 32] Broken pipe
2025-07-29 08:37:11,427 - INFO - MainProcess - Audio writer thread finished.
2025-07-29 08:37:11,427 - INFO - MainProcess - Video writer thread finished.
2025-07-29 08:37:19,947 - INFO - MainProcess - Starting Flask service...
2025-07-29 08:37:19,948 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-29 08:37:19,948 - INFO - MainProcess - Loading configuration file...
2025-07-29 08:37:19,960 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-29 08:37:19,960 - INFO - MainProcess - Loading model components...
2025-07-29 08:37:30,611 - INFO - MainProcess - All components loaded successfully.
2025-07-29 08:37:30,611 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-29 08:37:30,707 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-29 08:37:30,707 - INFO - MainProcess - Preprocessing video file: assets/video/25s_girl_0718_00.mp4...
2025-07-29 08:38:07,281 - INFO - MainProcess - Video preprocessed successfully. Found 644 frames/faces.
2025-07-29 08:38:07,281 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-29 08:38:07,295 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-29 08:38:07,330 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-29 08:38:07,331 - INFO - MainProcess - Detected target stream resolution from source video: 720x1080
2025-07-29 08:38:07,331 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/19s_girl_0728_00_idle.mp4
2025-07-29 08:38:10,350 - INFO - MainProcess - Processing 490 idle frames to match target resolution 720x1080
2025-07-29 08:38:11,021 - INFO - MainProcess - Idle stream queue populated with 30 chunks.
2025-07-29 08:38:11,021 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-29 08:38:11,022 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-29 08:38:11,022 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-29 08:38:11,106 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-29 08:38:11,106 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-29 08:38:11,110 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-29 08:38:11,110 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-29 08:38:11,139 - INFO - MainProcess - Video pipe opened for writing.
2025-07-29 08:38:11,148 - INFO - MainProcess - Audio pipe opened for writing.
2025-07-29 08:41:06,132 - INFO - MainProcess - Received new request for audio: 42s_audio_sanxingdui_001.wav. Preparing tasks...
2025-07-29 08:41:06,491 - INFO - MainProcess - [Task-f0c8e0da-d499-49c2-ab9b-e8ad75e02a78] Started processing. Expecting 40 chunks.
2025-07-29 08:41:06,491 - INFO - MainProcess - Task f0c8e0da-d499-49c2-ab9b-e8ad75e02a78 has been started in the background.
2025-07-29 08:41:06,493 - INFO - MainProcess - 127.0.0.1 - - [29/Jul/2025 08:41:06] "POST /generate_video HTTP/1.1" 200 -
2025-07-29 08:41:11,218 - INFO - MainProcess - [Task-f0c8e0da-d499-49c2-ab9b-e8ad75e02a78] Chunk 0 sent to stream queue.
2025-07-29 08:41:11,334 - INFO - MainProcess - [Task-f0c8e0da-d499-49c2-ab9b-e8ad75e02a78] Chunk 1 sent to stream queue.
2025-07-29 08:41:11,490 - INFO - MainProcess - [Task-f0c8e0da-d499-49c2-ab9b-e8ad75e02a78] Chunk 2 sent to stream queue.
2025-07-29 08:41:11,800 - INFO - MainProcess - Switching from IDLE to FORMAL streaming mode. Preempting idle data.
2025-07-29 08:41:11,801 - INFO - MainProcess - Internal write queues cleared for preemption.
2025-07-29 08:41:11,801 - INFO - MainProcess - Formal queue is empty. Switching back to IDLE mode.
2025-07-29 08:41:11,846 - INFO - MainProcess - [Task-f0c8e0da-d499-49c2-ab9b-e8ad75e02a78] Chunk 3 sent to stream queue.
2025-07-29 08:41:11,846 - INFO - MainProcess - [Task-f0c8e0da-d499-49c2-ab9b-e8ad75e02a78] Chunk 4 sent to stream queue.
2025-07-29 08:41:12,185 - INFO - MainProcess - [Task-f0c8e0da-d499-49c2-ab9b-e8ad75e02a78] Chunk 5 sent to stream queue.
2025-07-29 08:41:12,185 - INFO - MainProcess - [Task-f0c8e0da-d499-49c2-ab9b-e8ad75e02a78] Chunk 6 sent to stream queue.
2025-07-29 08:41:12,376 - INFO - MainProcess - [Task-f0c8e0da-d499-49c2-ab9b-e8ad75e02a78] Chunk 7 sent to stream queue.
2025-07-29 08:41:12,469 - INFO - MainProcess - Switching from IDLE to FORMAL streaming mode. Preempting idle data.
2025-07-29 08:41:12,471 - INFO - MainProcess - Internal write queues cleared for preemption.
2025-07-29 08:41:12,472 - INFO - MainProcess - Formal queue is empty. Switching back to IDLE mode.
2025-07-29 08:41:13,230 - INFO - MainProcess - [Task-f0c8e0da-d499-49c2-ab9b-e8ad75e02a78] Chunk 8 sent to stream queue.
2025-07-29 08:41:13,475 - INFO - MainProcess - [Task-f0c8e0da-d499-49c2-ab9b-e8ad75e02a78] Chunk 9 sent to stream queue.
2025-07-29 08:41:13,482 - INFO - MainProcess - Switching from IDLE to FORMAL streaming mode. Preempting idle data.
2025-07-29 08:41:13,512 - INFO - MainProcess - Internal write queues cleared for preemption.
2025-07-29 08:41:13,512 - INFO - MainProcess - Formal queue is empty. Switching back to IDLE mode.
2025-07-29 08:41:13,645 - INFO - MainProcess - [Task-f0c8e0da-d499-49c2-ab9b-e8ad75e02a78] Chunk 10 sent to stream queue.
2025-07-29 08:41:13,819 - INFO - MainProcess - [Task-f0c8e0da-d499-49c2-ab9b-e8ad75e02a78] Chunk 11 sent to stream queue.
2025-07-29 08:41:14,087 - INFO - MainProcess - [Task-f0c8e0da-d499-49c2-ab9b-e8ad75e02a78] Chunk 12 sent to stream queue.
2025-07-29 08:41:14,251 - INFO - MainProcess - [Task-f0c8e0da-d499-49c2-ab9b-e8ad75e02a78] Chunk 13 sent to stream queue.
2025-07-29 08:41:14,564 - INFO - MainProcess - [Task-f0c8e0da-d499-49c2-ab9b-e8ad75e02a78] Chunk 14 sent to stream queue.
2025-07-29 08:41:14,564 - INFO - MainProcess - [Task-f0c8e0da-d499-49c2-ab9b-e8ad75e02a78] Chunk 15 sent to stream queue.
2025-07-29 08:41:15,295 - INFO - MainProcess - [Task-f0c8e0da-d499-49c2-ab9b-e8ad75e02a78] Chunk 16 sent to stream queue.
2025-07-29 08:41:15,459 - INFO - MainProcess - [Task-f0c8e0da-d499-49c2-ab9b-e8ad75e02a78] Chunk 17 sent to stream queue.
2025-07-29 08:41:15,795 - INFO - MainProcess - [Task-f0c8e0da-d499-49c2-ab9b-e8ad75e02a78] Chunk 18 sent to stream queue.
2025-07-29 08:41:15,944 - INFO - MainProcess - [Task-f0c8e0da-d499-49c2-ab9b-e8ad75e02a78] Chunk 19 sent to stream queue.
2025-07-29 08:41:15,959 - INFO - MainProcess - Switching from IDLE to FORMAL streaming mode. Preempting idle data.
2025-07-29 08:41:15,959 - INFO - MainProcess - Internal write queues cleared for preemption.
2025-07-29 08:41:16,314 - INFO - MainProcess - [Task-f0c8e0da-d499-49c2-ab9b-e8ad75e02a78] Chunk 20 sent to stream queue.
2025-07-29 08:41:16,484 - INFO - MainProcess - [Task-f0c8e0da-d499-49c2-ab9b-e8ad75e02a78] Chunk 21 sent to stream queue.
2025-07-29 08:41:16,661 - INFO - MainProcess - [Task-f0c8e0da-d499-49c2-ab9b-e8ad75e02a78] Chunk 22 sent to stream queue.
2025-07-29 08:41:16,806 - INFO - MainProcess - [Task-f0c8e0da-d499-49c2-ab9b-e8ad75e02a78] Chunk 23 sent to stream queue.
2025-07-29 08:41:17,357 - INFO - MainProcess - [Task-f0c8e0da-d499-49c2-ab9b-e8ad75e02a78] Chunk 24 sent to stream queue.
2025-07-29 08:41:17,531 - INFO - MainProcess - [Task-f0c8e0da-d499-49c2-ab9b-e8ad75e02a78] Chunk 25 sent to stream queue.
2025-07-29 08:41:17,879 - INFO - MainProcess - [Task-f0c8e0da-d499-49c2-ab9b-e8ad75e02a78] Chunk 26 sent to stream queue.
2025-07-29 08:41:18,093 - INFO - MainProcess - [Task-f0c8e0da-d499-49c2-ab9b-e8ad75e02a78] Chunk 27 sent to stream queue.
2025-07-29 08:41:18,500 - INFO - MainProcess - [Task-f0c8e0da-d499-49c2-ab9b-e8ad75e02a78] Chunk 28 sent to stream queue.
2025-07-29 08:41:18,653 - INFO - MainProcess - [Task-f0c8e0da-d499-49c2-ab9b-e8ad75e02a78] Chunk 29 sent to stream queue.
2025-07-29 08:41:18,821 - INFO - MainProcess - [Task-f0c8e0da-d499-49c2-ab9b-e8ad75e02a78] Chunk 30 sent to stream queue.
2025-07-29 08:41:18,958 - INFO - MainProcess - [Task-f0c8e0da-d499-49c2-ab9b-e8ad75e02a78] Chunk 31 sent to stream queue.
2025-07-29 08:41:19,304 - INFO - MainProcess - [Task-f0c8e0da-d499-49c2-ab9b-e8ad75e02a78] Chunk 32 sent to stream queue.
2025-07-29 08:41:19,544 - INFO - MainProcess - [Task-f0c8e0da-d499-49c2-ab9b-e8ad75e02a78] Chunk 33 sent to stream queue.
2025-07-29 08:41:19,835 - INFO - MainProcess - [Task-f0c8e0da-d499-49c2-ab9b-e8ad75e02a78] Chunk 34 sent to stream queue.
2025-07-29 08:41:20,214 - INFO - MainProcess - [Task-f0c8e0da-d499-49c2-ab9b-e8ad75e02a78] Chunk 35 sent to stream queue.
2025-07-29 08:41:20,783 - INFO - MainProcess - [Task-f0c8e0da-d499-49c2-ab9b-e8ad75e02a78] Chunk 36 sent to stream queue.
2025-07-29 08:41:20,783 - INFO - MainProcess - [Task-f0c8e0da-d499-49c2-ab9b-e8ad75e02a78] Chunk 37 sent to stream queue.
2025-07-29 08:41:20,899 - INFO - MainProcess - [Task-f0c8e0da-d499-49c2-ab9b-e8ad75e02a78] Chunk 38 sent to stream queue.
2025-07-29 08:41:21,017 - INFO - MainProcess - [Task-f0c8e0da-d499-49c2-ab9b-e8ad75e02a78] Chunk 39 sent to stream queue.
2025-07-29 08:41:21,018 - INFO - MainProcess - [Task-f0c8e0da-d499-49c2-ab9b-e8ad75e02a78] All chunks processed and queued successfully.
2025-07-29 08:41:21,018 - INFO - MainProcess - [Task-f0c8e0da-d499-49c2-ab9b-e8ad75e02a78] Processor thread finished and cleaned up.
2025-07-29 08:41:32,081 - INFO - MainProcess - Formal queue is empty. Switching back to IDLE mode.
2025-07-29 08:42:39,809 - INFO - MainProcess - Received new request for audio: 42s_audio_sanxingdui_001.wav. Preparing tasks...
2025-07-29 08:42:40,084 - INFO - MainProcess - [Task-16a93c03-0142-4539-bca2-3386b992c9b9] Started processing. Expecting 40 chunks.
2025-07-29 08:42:40,085 - INFO - MainProcess - Task 16a93c03-0142-4539-bca2-3386b992c9b9 has been started in the background.
2025-07-29 08:42:40,165 - INFO - MainProcess - 127.0.0.1 - - [29/Jul/2025 08:42:40] "POST /generate_video HTTP/1.1" 200 -
2025-07-29 08:42:42,143 - INFO - MainProcess - [Task-16a93c03-0142-4539-bca2-3386b992c9b9] Chunk 0 sent to stream queue.
2025-07-29 08:42:42,446 - INFO - MainProcess - [Task-16a93c03-0142-4539-bca2-3386b992c9b9] Chunk 1 sent to stream queue.
2025-07-29 08:42:42,638 - INFO - MainProcess - [Task-16a93c03-0142-4539-bca2-3386b992c9b9] Chunk 2 sent to stream queue.
2025-07-29 08:42:42,997 - INFO - MainProcess - [Task-16a93c03-0142-4539-bca2-3386b992c9b9] Chunk 3 sent to stream queue.
2025-07-29 08:42:42,998 - INFO - MainProcess - [Task-16a93c03-0142-4539-bca2-3386b992c9b9] Chunk 4 sent to stream queue.
2025-07-29 08:42:43,138 - INFO - MainProcess - [Task-16a93c03-0142-4539-bca2-3386b992c9b9] Chunk 5 sent to stream queue.
2025-07-29 08:42:43,418 - INFO - MainProcess - [Task-16a93c03-0142-4539-bca2-3386b992c9b9] Chunk 6 sent to stream queue.
2025-07-29 08:42:43,419 - INFO - MainProcess - Switching from IDLE to FORMAL streaming mode. Preempting idle data.
2025-07-29 08:42:43,419 - INFO - MainProcess - [Task-16a93c03-0142-4539-bca2-3386b992c9b9] Chunk 7 sent to stream queue.
2025-07-29 08:42:43,420 - INFO - MainProcess - Internal write queues cleared for preemption.
2025-07-29 08:42:44,221 - INFO - MainProcess - [Task-16a93c03-0142-4539-bca2-3386b992c9b9] Chunk 8 sent to stream queue.
2025-07-29 08:42:44,487 - INFO - MainProcess - [Task-16a93c03-0142-4539-bca2-3386b992c9b9] Chunk 9 sent to stream queue.
2025-07-29 08:42:44,823 - INFO - MainProcess - [Task-16a93c03-0142-4539-bca2-3386b992c9b9] Chunk 10 sent to stream queue.
2025-07-29 08:42:44,986 - INFO - MainProcess - [Task-16a93c03-0142-4539-bca2-3386b992c9b9] Chunk 11 sent to stream queue.
2025-07-29 08:42:45,166 - INFO - MainProcess - [Task-16a93c03-0142-4539-bca2-3386b992c9b9] Chunk 12 sent to stream queue.
2025-07-29 08:42:45,338 - INFO - MainProcess - [Task-16a93c03-0142-4539-bca2-3386b992c9b9] Chunk 13 sent to stream queue.
2025-07-29 08:42:45,479 - INFO - MainProcess - [Task-16a93c03-0142-4539-bca2-3386b992c9b9] Chunk 14 sent to stream queue.
2025-07-29 08:42:45,652 - INFO - MainProcess - [Task-16a93c03-0142-4539-bca2-3386b992c9b9] Chunk 15 sent to stream queue.
2025-07-29 08:42:46,215 - INFO - MainProcess - [Task-16a93c03-0142-4539-bca2-3386b992c9b9] Chunk 16 sent to stream queue.
2025-07-29 08:42:46,551 - INFO - MainProcess - [Task-16a93c03-0142-4539-bca2-3386b992c9b9] Chunk 17 sent to stream queue.
2025-07-29 08:42:46,919 - INFO - MainProcess - [Task-16a93c03-0142-4539-bca2-3386b992c9b9] Chunk 18 sent to stream queue.
2025-07-29 08:42:47,086 - INFO - MainProcess - [Task-16a93c03-0142-4539-bca2-3386b992c9b9] Chunk 19 sent to stream queue.
2025-07-29 08:42:47,293 - INFO - MainProcess - [Task-16a93c03-0142-4539-bca2-3386b992c9b9] Chunk 20 sent to stream queue.
2025-07-29 08:42:47,483 - INFO - MainProcess - [Task-16a93c03-0142-4539-bca2-3386b992c9b9] Chunk 21 sent to stream queue.
2025-07-29 08:42:47,629 - INFO - MainProcess - [Task-16a93c03-0142-4539-bca2-3386b992c9b9] Chunk 22 sent to stream queue.
2025-07-29 08:42:47,789 - INFO - MainProcess - [Task-16a93c03-0142-4539-bca2-3386b992c9b9] Chunk 23 sent to stream queue.
2025-07-29 08:42:48,191 - INFO - MainProcess - [Task-16a93c03-0142-4539-bca2-3386b992c9b9] Chunk 24 sent to stream queue.
2025-07-29 08:42:48,546 - INFO - MainProcess - [Task-16a93c03-0142-4539-bca2-3386b992c9b9] Chunk 25 sent to stream queue.
2025-07-29 08:42:49,040 - INFO - MainProcess - [Task-16a93c03-0142-4539-bca2-3386b992c9b9] Chunk 26 sent to stream queue.
2025-07-29 08:42:49,215 - INFO - MainProcess - [Task-16a93c03-0142-4539-bca2-3386b992c9b9] Chunk 27 sent to stream queue.
2025-07-29 08:42:49,374 - INFO - MainProcess - [Task-16a93c03-0142-4539-bca2-3386b992c9b9] Chunk 28 sent to stream queue.
2025-07-29 08:42:49,672 - INFO - MainProcess - [Task-16a93c03-0142-4539-bca2-3386b992c9b9] Chunk 29 sent to stream queue.
2025-07-29 08:42:49,823 - INFO - MainProcess - [Task-16a93c03-0142-4539-bca2-3386b992c9b9] Chunk 30 sent to stream queue.
2025-07-29 08:42:49,990 - INFO - MainProcess - [Task-16a93c03-0142-4539-bca2-3386b992c9b9] Chunk 31 sent to stream queue.
2025-07-29 08:42:50,199 - INFO - MainProcess - [Task-16a93c03-0142-4539-bca2-3386b992c9b9] Chunk 32 sent to stream queue.
2025-07-29 08:42:50,596 - INFO - MainProcess - [Task-16a93c03-0142-4539-bca2-3386b992c9b9] Chunk 33 sent to stream queue.
2025-07-29 08:42:51,152 - INFO - MainProcess - [Task-16a93c03-0142-4539-bca2-3386b992c9b9] Chunk 34 sent to stream queue.
2025-07-29 08:42:51,258 - INFO - MainProcess - [Task-16a93c03-0142-4539-bca2-3386b992c9b9] Chunk 35 sent to stream queue.
2025-07-29 08:42:51,363 - INFO - MainProcess - [Task-16a93c03-0142-4539-bca2-3386b992c9b9] Chunk 36 sent to stream queue.
2025-07-29 08:42:51,813 - INFO - MainProcess - [Task-16a93c03-0142-4539-bca2-3386b992c9b9] Chunk 37 sent to stream queue.
2025-07-29 08:42:51,907 - INFO - MainProcess - [Task-16a93c03-0142-4539-bca2-3386b992c9b9] Chunk 38 sent to stream queue.
2025-07-29 08:42:52,053 - INFO - MainProcess - [Task-16a93c03-0142-4539-bca2-3386b992c9b9] Chunk 39 sent to stream queue.
2025-07-29 08:42:52,053 - INFO - MainProcess - [Task-16a93c03-0142-4539-bca2-3386b992c9b9] All chunks processed and queued successfully.
2025-07-29 08:42:52,054 - INFO - MainProcess - [Task-16a93c03-0142-4539-bca2-3386b992c9b9] Processor thread finished and cleaned up.
2025-07-29 08:43:05,727 - INFO - MainProcess - Formal queue is empty. Switching back to IDLE mode.
2025-07-29 08:43:30,790 - INFO - MainProcess - Received new request for audio: 42s_audio_sanxingdui_001.wav. Preparing tasks...
2025-07-29 08:43:31,066 - INFO - MainProcess - [Task-188eca9e-c5c8-4437-b119-f28a1b7ae0f8] Started processing. Expecting 40 chunks.
2025-07-29 08:43:31,066 - INFO - MainProcess - Task 188eca9e-c5c8-4437-b119-f28a1b7ae0f8 has been started in the background.
2025-07-29 08:43:31,152 - INFO - MainProcess - 127.0.0.1 - - [29/Jul/2025 08:43:31] "POST /generate_video HTTP/1.1" 200 -
2025-07-29 08:43:33,167 - INFO - MainProcess - [Task-188eca9e-c5c8-4437-b119-f28a1b7ae0f8] Chunk 0 sent to stream queue.
2025-07-29 08:43:33,362 - INFO - MainProcess - [Task-188eca9e-c5c8-4437-b119-f28a1b7ae0f8] Chunk 1 sent to stream queue.
2025-07-29 08:43:33,538 - INFO - MainProcess - [Task-188eca9e-c5c8-4437-b119-f28a1b7ae0f8] Chunk 2 sent to stream queue.
2025-07-29 08:43:33,720 - INFO - MainProcess - [Task-188eca9e-c5c8-4437-b119-f28a1b7ae0f8] Chunk 3 sent to stream queue.
2025-07-29 08:43:33,907 - INFO - MainProcess - [Task-188eca9e-c5c8-4437-b119-f28a1b7ae0f8] Chunk 4 sent to stream queue.
2025-07-29 08:43:34,058 - INFO - MainProcess - [Task-188eca9e-c5c8-4437-b119-f28a1b7ae0f8] Chunk 5 sent to stream queue.
2025-07-29 08:43:34,215 - INFO - MainProcess - [Task-188eca9e-c5c8-4437-b119-f28a1b7ae0f8] Chunk 6 sent to stream queue.
2025-07-29 08:43:34,360 - INFO - MainProcess - [Task-188eca9e-c5c8-4437-b119-f28a1b7ae0f8] Chunk 7 sent to stream queue.
2025-07-29 08:43:34,455 - INFO - MainProcess - Switching from IDLE to FORMAL streaming mode. Preempting idle data.
2025-07-29 08:43:34,455 - INFO - MainProcess - Internal write queues cleared for preemption.
2025-07-29 08:43:35,087 - INFO - MainProcess - [Task-188eca9e-c5c8-4437-b119-f28a1b7ae0f8] Chunk 8 sent to stream queue.
2025-07-29 08:43:35,455 - INFO - MainProcess - [Task-188eca9e-c5c8-4437-b119-f28a1b7ae0f8] Chunk 9 sent to stream queue.
2025-07-29 08:43:35,705 - INFO - MainProcess - [Task-188eca9e-c5c8-4437-b119-f28a1b7ae0f8] Chunk 10 sent to stream queue.
2025-07-29 08:43:35,874 - INFO - MainProcess - [Task-188eca9e-c5c8-4437-b119-f28a1b7ae0f8] Chunk 11 sent to stream queue.
2025-07-29 08:43:36,058 - INFO - MainProcess - [Task-188eca9e-c5c8-4437-b119-f28a1b7ae0f8] Chunk 12 sent to stream queue.
2025-07-29 08:43:36,236 - INFO - MainProcess - [Task-188eca9e-c5c8-4437-b119-f28a1b7ae0f8] Chunk 13 sent to stream queue.
2025-07-29 08:43:36,412 - INFO - MainProcess - [Task-188eca9e-c5c8-4437-b119-f28a1b7ae0f8] Chunk 14 sent to stream queue.
2025-07-29 08:43:36,566 - INFO - MainProcess - [Task-188eca9e-c5c8-4437-b119-f28a1b7ae0f8] Chunk 15 sent to stream queue.
2025-07-29 08:43:37,078 - INFO - MainProcess - [Task-188eca9e-c5c8-4437-b119-f28a1b7ae0f8] Chunk 16 sent to stream queue.
2025-07-29 08:43:37,602 - INFO - MainProcess - [Task-188eca9e-c5c8-4437-b119-f28a1b7ae0f8] Chunk 17 sent to stream queue.
2025-07-29 08:43:37,829 - INFO - MainProcess - [Task-188eca9e-c5c8-4437-b119-f28a1b7ae0f8] Chunk 18 sent to stream queue.
2025-07-29 08:43:37,975 - INFO - MainProcess - [Task-188eca9e-c5c8-4437-b119-f28a1b7ae0f8] Chunk 19 sent to stream queue.
2025-07-29 08:43:38,170 - INFO - MainProcess - [Task-188eca9e-c5c8-4437-b119-f28a1b7ae0f8] Chunk 20 sent to stream queue.
2025-07-29 08:43:38,479 - INFO - MainProcess - [Task-188eca9e-c5c8-4437-b119-f28a1b7ae0f8] Chunk 21 sent to stream queue.
2025-07-29 08:43:38,612 - INFO - MainProcess - [Task-188eca9e-c5c8-4437-b119-f28a1b7ae0f8] Chunk 22 sent to stream queue.
2025-07-29 08:43:38,818 - INFO - MainProcess - [Task-188eca9e-c5c8-4437-b119-f28a1b7ae0f8] Chunk 23 sent to stream queue.
2025-07-29 08:43:39,035 - INFO - MainProcess - [Task-188eca9e-c5c8-4437-b119-f28a1b7ae0f8] Chunk 24 sent to stream queue.
2025-07-29 08:43:39,633 - INFO - MainProcess - [Task-188eca9e-c5c8-4437-b119-f28a1b7ae0f8] Chunk 25 sent to stream queue.
2025-07-29 08:43:39,967 - INFO - MainProcess - [Task-188eca9e-c5c8-4437-b119-f28a1b7ae0f8] Chunk 26 sent to stream queue.
2025-07-29 08:43:40,124 - INFO - MainProcess - [Task-188eca9e-c5c8-4437-b119-f28a1b7ae0f8] Chunk 27 sent to stream queue.
2025-07-29 08:43:40,312 - INFO - MainProcess - [Task-188eca9e-c5c8-4437-b119-f28a1b7ae0f8] Chunk 28 sent to stream queue.
2025-07-29 08:43:40,550 - INFO - MainProcess - [Task-188eca9e-c5c8-4437-b119-f28a1b7ae0f8] Chunk 29 sent to stream queue.
2025-07-29 08:43:40,717 - INFO - MainProcess - [Task-188eca9e-c5c8-4437-b119-f28a1b7ae0f8] Chunk 30 sent to stream queue.
2025-07-29 08:43:40,933 - INFO - MainProcess - [Task-188eca9e-c5c8-4437-b119-f28a1b7ae0f8] Chunk 31 sent to stream queue.
2025-07-29 08:43:41,071 - INFO - MainProcess - [Task-188eca9e-c5c8-4437-b119-f28a1b7ae0f8] Chunk 32 sent to stream queue.
2025-07-29 08:43:41,660 - INFO - MainProcess - [Task-188eca9e-c5c8-4437-b119-f28a1b7ae0f8] Chunk 33 sent to stream queue.
2025-07-29 08:43:42,330 - INFO - MainProcess - [Task-188eca9e-c5c8-4437-b119-f28a1b7ae0f8] Chunk 34 sent to stream queue.
2025-07-29 08:43:42,331 - INFO - MainProcess - [Task-188eca9e-c5c8-4437-b119-f28a1b7ae0f8] Chunk 35 sent to stream queue.
2025-07-29 08:43:42,415 - INFO - MainProcess - [Task-188eca9e-c5c8-4437-b119-f28a1b7ae0f8] Chunk 36 sent to stream queue.
2025-07-29 08:43:42,640 - INFO - MainProcess - [Task-188eca9e-c5c8-4437-b119-f28a1b7ae0f8] Chunk 37 sent to stream queue.
2025-07-29 08:43:42,865 - INFO - MainProcess - [Task-188eca9e-c5c8-4437-b119-f28a1b7ae0f8] Chunk 38 sent to stream queue.
2025-07-29 08:43:43,034 - INFO - MainProcess - [Task-188eca9e-c5c8-4437-b119-f28a1b7ae0f8] Chunk 39 sent to stream queue.
2025-07-29 08:43:43,034 - INFO - MainProcess - [Task-188eca9e-c5c8-4437-b119-f28a1b7ae0f8] All chunks processed and queued successfully.
2025-07-29 08:43:43,035 - INFO - MainProcess - [Task-188eca9e-c5c8-4437-b119-f28a1b7ae0f8] Processor thread finished and cleaned up.
2025-07-29 08:43:56,926 - INFO - MainProcess - Formal queue is empty. Switching back to IDLE mode.
2025-07-29 08:44:11,434 - INFO - MainProcess - Received new request for audio: 42s_audio_sanxingdui_001.wav. Preparing tasks...
2025-07-29 08:44:11,702 - INFO - MainProcess - [Task-e1f8c920-585c-499b-a600-67d96efe3115] Started processing. Expecting 40 chunks.
2025-07-29 08:44:11,703 - INFO - MainProcess - Task e1f8c920-585c-499b-a600-67d96efe3115 has been started in the background.
2025-07-29 08:44:11,752 - INFO - MainProcess - 127.0.0.1 - - [29/Jul/2025 08:44:11] "POST /generate_video HTTP/1.1" 200 -
2025-07-29 08:44:13,916 - INFO - MainProcess - [Task-e1f8c920-585c-499b-a600-67d96efe3115] Chunk 0 sent to stream queue.
2025-07-29 08:44:14,080 - INFO - MainProcess - Switching from IDLE to FORMAL streaming mode. Preempting idle data.
2025-07-29 08:44:14,081 - INFO - MainProcess - Internal write queues cleared for preemption.
2025-07-29 08:44:14,081 - INFO - MainProcess - Formal queue is empty. Switching back to IDLE mode.
2025-07-29 08:44:14,164 - INFO - MainProcess - [Task-e1f8c920-585c-499b-a600-67d96efe3115] Chunk 1 sent to stream queue.
2025-07-29 08:44:14,342 - INFO - MainProcess - [Task-e1f8c920-585c-499b-a600-67d96efe3115] Chunk 2 sent to stream queue.
2025-07-29 08:44:14,820 - INFO - MainProcess - [Task-e1f8c920-585c-499b-a600-67d96efe3115] Chunk 3 sent to stream queue.
2025-07-29 08:44:14,821 - INFO - MainProcess - [Task-e1f8c920-585c-499b-a600-67d96efe3115] Chunk 4 sent to stream queue.
2025-07-29 08:44:14,822 - INFO - MainProcess - [Task-e1f8c920-585c-499b-a600-67d96efe3115] Chunk 5 sent to stream queue.
2025-07-29 08:44:14,945 - INFO - MainProcess - [Task-e1f8c920-585c-499b-a600-67d96efe3115] Chunk 6 sent to stream queue.
2025-07-29 08:44:15,188 - INFO - MainProcess - [Task-e1f8c920-585c-499b-a600-67d96efe3115] Chunk 7 sent to stream queue.
2025-07-29 08:44:16,021 - INFO - MainProcess - [Task-e1f8c920-585c-499b-a600-67d96efe3115] Chunk 8 sent to stream queue.
2025-07-29 08:44:16,205 - INFO - MainProcess - [Task-e1f8c920-585c-499b-a600-67d96efe3115] Chunk 9 sent to stream queue.
2025-07-29 08:44:16,319 - INFO - MainProcess - Switching from IDLE to FORMAL streaming mode. Preempting idle data.
2025-07-29 08:44:16,319 - INFO - MainProcess - Internal write queues cleared for preemption.
2025-07-29 08:44:16,555 - INFO - MainProcess - [Task-e1f8c920-585c-499b-a600-67d96efe3115] Chunk 10 sent to stream queue.
2025-07-29 08:44:16,702 - INFO - MainProcess - [Task-e1f8c920-585c-499b-a600-67d96efe3115] Chunk 11 sent to stream queue.
2025-07-29 08:44:16,882 - INFO - MainProcess - [Task-e1f8c920-585c-499b-a600-67d96efe3115] Chunk 12 sent to stream queue.
2025-07-29 08:44:17,039 - INFO - MainProcess - [Task-e1f8c920-585c-499b-a600-67d96efe3115] Chunk 13 sent to stream queue.
2025-07-29 08:44:17,217 - INFO - MainProcess - [Task-e1f8c920-585c-499b-a600-67d96efe3115] Chunk 14 sent to stream queue.
2025-07-29 08:44:17,413 - INFO - MainProcess - [Task-e1f8c920-585c-499b-a600-67d96efe3115] Chunk 15 sent to stream queue.
2025-07-29 08:44:18,022 - INFO - MainProcess - [Task-e1f8c920-585c-499b-a600-67d96efe3115] Chunk 16 sent to stream queue.
2025-07-29 08:44:18,206 - INFO - MainProcess - [Task-e1f8c920-585c-499b-a600-67d96efe3115] Chunk 17 sent to stream queue.
2025-07-29 08:44:18,737 - INFO - MainProcess - [Task-e1f8c920-585c-499b-a600-67d96efe3115] Chunk 18 sent to stream queue.
2025-07-29 08:44:18,881 - INFO - MainProcess - [Task-e1f8c920-585c-499b-a600-67d96efe3115] Chunk 19 sent to stream queue.
2025-07-29 08:44:19,033 - INFO - MainProcess - [Task-e1f8c920-585c-499b-a600-67d96efe3115] Chunk 20 sent to stream queue.
2025-07-29 08:44:19,209 - INFO - MainProcess - [Task-e1f8c920-585c-499b-a600-67d96efe3115] Chunk 21 sent to stream queue.
2025-07-29 08:44:19,360 - INFO - MainProcess - [Task-e1f8c920-585c-499b-a600-67d96efe3115] Chunk 22 sent to stream queue.
2025-07-29 08:44:19,532 - INFO - MainProcess - [Task-e1f8c920-585c-499b-a600-67d96efe3115] Chunk 23 sent to stream queue.
2025-07-29 08:44:20,072 - INFO - MainProcess - [Task-e1f8c920-585c-499b-a600-67d96efe3115] Chunk 24 sent to stream queue.
2025-07-29 08:44:20,223 - INFO - MainProcess - [Task-e1f8c920-585c-499b-a600-67d96efe3115] Chunk 25 sent to stream queue.
2025-07-29 08:44:20,815 - INFO - MainProcess - [Task-e1f8c920-585c-499b-a600-67d96efe3115] Chunk 26 sent to stream queue.
2025-07-29 08:44:20,972 - INFO - MainProcess - [Task-e1f8c920-585c-499b-a600-67d96efe3115] Chunk 27 sent to stream queue.
2025-07-29 08:44:21,154 - INFO - MainProcess - [Task-e1f8c920-585c-499b-a600-67d96efe3115] Chunk 28 sent to stream queue.
2025-07-29 08:44:21,375 - INFO - MainProcess - [Task-e1f8c920-585c-499b-a600-67d96efe3115] Chunk 29 sent to stream queue.
2025-07-29 08:44:21,683 - INFO - MainProcess - [Task-e1f8c920-585c-499b-a600-67d96efe3115] Chunk 30 sent to stream queue.
2025-07-29 08:44:21,684 - INFO - MainProcess - [Task-e1f8c920-585c-499b-a600-67d96efe3115] Chunk 31 sent to stream queue.
2025-07-29 08:44:22,066 - INFO - MainProcess - [Task-e1f8c920-585c-499b-a600-67d96efe3115] Chunk 32 sent to stream queue.
2025-07-29 08:44:22,237 - INFO - MainProcess - [Task-e1f8c920-585c-499b-a600-67d96efe3115] Chunk 33 sent to stream queue.
2025-07-29 08:44:22,971 - INFO - MainProcess - [Task-e1f8c920-585c-499b-a600-67d96efe3115] Chunk 34 sent to stream queue.
2025-07-29 08:44:23,078 - INFO - MainProcess - [Task-e1f8c920-585c-499b-a600-67d96efe3115] Chunk 35 sent to stream queue.
2025-07-29 08:44:23,186 - INFO - MainProcess - [Task-e1f8c920-585c-499b-a600-67d96efe3115] Chunk 36 sent to stream queue.
2025-07-29 08:44:23,582 - INFO - MainProcess - [Task-e1f8c920-585c-499b-a600-67d96efe3115] Chunk 37 sent to stream queue.
2025-07-29 08:44:23,582 - INFO - MainProcess - [Task-e1f8c920-585c-499b-a600-67d96efe3115] Chunk 38 sent to stream queue.
2025-07-29 08:44:23,713 - INFO - MainProcess - [Task-e1f8c920-585c-499b-a600-67d96efe3115] Chunk 39 sent to stream queue.
2025-07-29 08:44:23,713 - INFO - MainProcess - [Task-e1f8c920-585c-499b-a600-67d96efe3115] All chunks processed and queued successfully.
2025-07-29 08:44:23,714 - INFO - MainProcess - [Task-e1f8c920-585c-499b-a600-67d96efe3115] Processor thread finished and cleaned up.
2025-07-29 08:44:38,761 - INFO - MainProcess - Formal queue is empty. Switching back to IDLE mode.
2025-07-29 09:10:54,893 - INFO - MainProcess - Starting Flask service...
2025-07-29 09:10:54,893 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-29 09:10:54,893 - INFO - MainProcess - Loading configuration file...
2025-07-29 09:10:54,907 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-29 09:10:54,907 - INFO - MainProcess - Loading model components...
2025-07-29 09:11:05,561 - INFO - MainProcess - All components loaded successfully.
2025-07-29 09:11:05,561 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-29 09:11:05,635 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-29 09:11:05,636 - INFO - MainProcess - Preprocessing video file: assets/video/25s_girl_0718_00.mp4...
2025-07-29 09:11:41,616 - INFO - MainProcess - Video preprocessed successfully. Found 644 frames/faces.
2025-07-29 09:11:41,616 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-29 09:11:41,630 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-29 09:11:41,670 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-29 09:11:41,671 - INFO - MainProcess - Detected target stream resolution from source video: 720x1080
2025-07-29 09:11:41,671 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/19s_girl_0728_00_idle.mp4
2025-07-29 09:11:44,615 - INFO - MainProcess - Processing 490 idle frames to match target resolution 720x1080
2025-07-29 09:11:45,609 - INFO - MainProcess - Idle stream queue populated with 30 chunks.
2025-07-29 09:11:45,609 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-29 09:11:45,612 - INFO - MainProcess - Created flushing data: 7 black frames, 4800 silent samples.
2025-07-29 09:11:45,612 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-29 09:11:45,612 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-29 09:11:45,619 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-29 09:18:46,574 - INFO - MainProcess - Starting Flask service...
2025-07-29 09:18:46,574 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-29 09:18:46,574 - INFO - MainProcess - Loading configuration file...
2025-07-29 09:18:46,587 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-29 09:18:46,587 - INFO - MainProcess - Loading model components...
2025-07-29 09:18:57,170 - INFO - MainProcess - All components loaded successfully.
2025-07-29 09:18:57,170 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-29 09:18:57,268 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-29 09:18:57,268 - INFO - MainProcess - Preprocessing video file: assets/video/25s_girl_0718_00.mp4...
2025-07-29 09:19:33,786 - INFO - MainProcess - Video preprocessed successfully. Found 644 frames/faces.
2025-07-29 09:19:33,787 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-29 09:19:33,800 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-29 09:19:33,846 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-29 09:19:33,847 - INFO - MainProcess - Detected target stream resolution from source video: 720x1080
2025-07-29 09:19:33,847 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/19s_girl_0728_00_idle.mp4
2025-07-29 09:19:36,846 - INFO - MainProcess - Processing 490 idle frames to match target resolution 720x1080
2025-07-29 09:19:37,806 - INFO - MainProcess - Idle stream queue populated with 30 chunks.
2025-07-29 09:19:37,806 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-29 09:19:37,809 - INFO - MainProcess - Created flushing data: 7 black frames, 4800 silent samples.
2025-07-29 09:19:37,810 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-29 09:19:37,810 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-29 09:19:37,816 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-29 09:22:52,532 - INFO - MainProcess - Starting Flask service...
2025-07-29 09:22:52,532 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-29 09:22:52,532 - INFO - MainProcess - Loading configuration file...
2025-07-29 09:22:52,545 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-29 09:22:52,545 - INFO - MainProcess - Loading model components...
2025-07-29 09:23:02,694 - INFO - MainProcess - All components loaded successfully.
2025-07-29 09:23:02,694 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-29 09:23:02,774 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-29 09:23:02,774 - INFO - MainProcess - Preprocessing video file: assets/video/25s_girl_0718_00.mp4...
2025-07-29 09:23:39,840 - INFO - MainProcess - Video preprocessed successfully. Found 644 frames/faces.
2025-07-29 09:23:39,841 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-29 09:23:39,855 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-29 09:23:39,921 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-29 09:23:39,921 - INFO - MainProcess - Detected target stream resolution from source video: 720x1080
2025-07-29 09:23:39,921 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/19s_girl_0728_00_idle.mp4
2025-07-29 09:23:43,327 - INFO - MainProcess - Processing 490 idle frames to match target resolution 720x1080
2025-07-29 09:23:44,148 - INFO - MainProcess - Idle stream queue populated with 30 chunks.
2025-07-29 09:23:44,148 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-29 09:23:44,151 - INFO - MainProcess - Created flushing data: 7 black frames, 4800 silent samples.
2025-07-29 09:23:44,152 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-29 09:23:44,152 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-29 09:23:44,159 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-29 09:23:44,165 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-29 09:23:44,165 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-29 09:24:33,361 - INFO - MainProcess - Received new request for audio: 42s_audio_sanxingdui_001.wav. Preparing tasks...
2025-07-29 09:24:33,740 - INFO - MainProcess - [Task-bbad8737-44f3-4fb5-90ce-9811745db839] Started processing. Expecting 40 chunks.
2025-07-29 09:24:33,740 - INFO - MainProcess - Task bbad8737-44f3-4fb5-90ce-9811745db839 has been started in the background.
2025-07-29 09:24:33,743 - INFO - MainProcess - 127.0.0.1 - - [29/Jul/2025 09:24:33] "POST /generate_video HTTP/1.1" 200 -
2025-07-29 09:24:40,603 - INFO - MainProcess - [Task-bbad8737-44f3-4fb5-90ce-9811745db839] Chunk 0 sent to stream queue.
2025-07-29 09:24:40,604 - INFO - MainProcess - Switching to FORMAL mode. Initiating synchronized flush...
2025-07-29 09:24:40,604 - INFO - MainProcess - Internal write queues cleared.
2025-07-29 09:24:40,604 - INFO - MainProcess - Main thread: Waiting for flush completion...
2025-07-29 09:24:40,604 - INFO - MainProcess - AudioWriter: FLUSH command received. Writing flush data.
2025-07-29 09:24:41,021 - INFO - MainProcess - [Task-bbad8737-44f3-4fb5-90ce-9811745db839] Chunk 1 sent to stream queue.
2025-07-29 09:24:41,221 - INFO - MainProcess - VideoWriter: FLUSH command received. Writing flush data.
2025-07-29 09:24:41,501 - INFO - MainProcess - VideoWriter: Waiting at sync barrier.
2025-07-29 09:24:42,855 - INFO - MainProcess - [Task-bbad8737-44f3-4fb5-90ce-9811745db839] Chunk 2 sent to stream queue.
2025-07-29 09:24:43,577 - INFO - MainProcess - [Task-bbad8737-44f3-4fb5-90ce-9811745db839] Chunk 3 sent to stream queue.
2025-07-29 09:24:43,577 - INFO - MainProcess - [Task-bbad8737-44f3-4fb5-90ce-9811745db839] Chunk 4 sent to stream queue.
2025-07-29 09:24:43,578 - INFO - MainProcess - [Task-bbad8737-44f3-4fb5-90ce-9811745db839] Chunk 5 sent to stream queue.
2025-07-29 09:24:43,578 - INFO - MainProcess - [Task-bbad8737-44f3-4fb5-90ce-9811745db839] Chunk 6 sent to stream queue.
2025-07-29 09:24:43,708 - INFO - MainProcess - [Task-bbad8737-44f3-4fb5-90ce-9811745db839] Chunk 7 sent to stream queue.
2025-07-29 09:24:43,708 - INFO - MainProcess - [Task-bbad8737-44f3-4fb5-90ce-9811745db839] Chunk 8 sent to stream queue.
2025-07-29 09:24:43,708 - INFO - MainProcess - [Task-bbad8737-44f3-4fb5-90ce-9811745db839] Chunk 9 sent to stream queue.
2025-07-29 09:24:44,779 - INFO - MainProcess - [Task-bbad8737-44f3-4fb5-90ce-9811745db839] Chunk 10 sent to stream queue.
2025-07-29 09:24:45,025 - INFO - MainProcess - [Task-bbad8737-44f3-4fb5-90ce-9811745db839] Chunk 11 sent to stream queue.
2025-07-29 09:24:45,172 - INFO - MainProcess - [Task-bbad8737-44f3-4fb5-90ce-9811745db839] Chunk 12 sent to stream queue.
2025-07-29 09:24:45,298 - INFO - MainProcess - [Task-bbad8737-44f3-4fb5-90ce-9811745db839] Chunk 13 sent to stream queue.
2025-07-29 09:24:45,454 - INFO - MainProcess - [Task-bbad8737-44f3-4fb5-90ce-9811745db839] Chunk 14 sent to stream queue.
2025-07-29 09:24:45,597 - INFO - MainProcess - [Task-bbad8737-44f3-4fb5-90ce-9811745db839] Chunk 15 sent to stream queue.
2025-07-29 09:24:45,605 - ERROR - MainProcess - Main thread: Flush command timed out! Stream may be out of sync.
2025-07-29 09:24:45,605 - WARNING - MainProcess - VideoWriter: Barrier was broken. Other writer may have timed out or crashed.
2025-07-29 09:24:45,606 - INFO - MainProcess - VideoWriter: Passed sync barrier.
2025-07-29 09:24:45,677 - INFO - MainProcess - AudioWriter: Waiting at sync barrier.
2025-07-29 09:24:45,822 - INFO - MainProcess - [Task-bbad8737-44f3-4fb5-90ce-9811745db839] Chunk 16 sent to stream queue.
2025-07-29 09:24:45,985 - INFO - MainProcess - [Task-bbad8737-44f3-4fb5-90ce-9811745db839] Chunk 17 sent to stream queue.
2025-07-29 09:24:46,814 - INFO - MainProcess - [Task-bbad8737-44f3-4fb5-90ce-9811745db839] Chunk 18 sent to stream queue.
2025-07-29 09:24:47,082 - INFO - MainProcess - [Task-bbad8737-44f3-4fb5-90ce-9811745db839] Chunk 19 sent to stream queue.
2025-07-29 09:24:47,277 - INFO - MainProcess - [Task-bbad8737-44f3-4fb5-90ce-9811745db839] Chunk 20 sent to stream queue.
2025-07-29 09:24:47,442 - INFO - MainProcess - [Task-bbad8737-44f3-4fb5-90ce-9811745db839] Chunk 21 sent to stream queue.
2025-07-29 09:24:47,597 - INFO - MainProcess - [Task-bbad8737-44f3-4fb5-90ce-9811745db839] Chunk 22 sent to stream queue.
2025-07-29 09:24:47,771 - INFO - MainProcess - [Task-bbad8737-44f3-4fb5-90ce-9811745db839] Chunk 23 sent to stream queue.
2025-07-29 09:24:47,960 - INFO - MainProcess - [Task-bbad8737-44f3-4fb5-90ce-9811745db839] Chunk 24 sent to stream queue.
2025-07-29 09:24:48,088 - INFO - MainProcess - [Task-bbad8737-44f3-4fb5-90ce-9811745db839] Chunk 25 sent to stream queue.
2025-07-29 09:24:48,847 - INFO - MainProcess - [Task-bbad8737-44f3-4fb5-90ce-9811745db839] Chunk 26 sent to stream queue.
2025-07-29 09:24:49,132 - INFO - MainProcess - [Task-bbad8737-44f3-4fb5-90ce-9811745db839] Chunk 27 sent to stream queue.
2025-07-29 09:24:49,293 - INFO - MainProcess - [Task-bbad8737-44f3-4fb5-90ce-9811745db839] Chunk 28 sent to stream queue.
2025-07-29 09:24:49,474 - INFO - MainProcess - [Task-bbad8737-44f3-4fb5-90ce-9811745db839] Chunk 29 sent to stream queue.
2025-07-29 09:24:49,627 - INFO - MainProcess - [Task-bbad8737-44f3-4fb5-90ce-9811745db839] Chunk 30 sent to stream queue.
2025-07-29 09:24:49,954 - INFO - MainProcess - [Task-bbad8737-44f3-4fb5-90ce-9811745db839] Chunk 31 sent to stream queue.
2025-07-29 09:24:50,025 - INFO - MainProcess - [Task-bbad8737-44f3-4fb5-90ce-9811745db839] Chunk 32 sent to stream queue.
2025-07-29 09:24:50,152 - INFO - MainProcess - [Task-bbad8737-44f3-4fb5-90ce-9811745db839] Chunk 33 sent to stream queue.
2025-07-29 09:24:50,678 - WARNING - MainProcess - AudioWriter: Barrier was broken. Other writer may have timed out or crashed.
2025-07-29 09:24:50,678 - INFO - MainProcess - AudioWriter: Passed sync barrier.
2025-07-29 09:24:50,860 - INFO - MainProcess - [Task-bbad8737-44f3-4fb5-90ce-9811745db839] Chunk 34 sent to stream queue.
2025-07-29 09:24:51,217 - INFO - MainProcess - [Task-bbad8737-44f3-4fb5-90ce-9811745db839] Chunk 35 sent to stream queue.
2025-07-29 09:24:51,358 - INFO - MainProcess - [Task-bbad8737-44f3-4fb5-90ce-9811745db839] Chunk 36 sent to stream queue.
2025-07-29 09:24:51,617 - INFO - MainProcess - [Task-bbad8737-44f3-4fb5-90ce-9811745db839] Chunk 37 sent to stream queue.
2025-07-29 09:24:51,690 - INFO - MainProcess - [Task-bbad8737-44f3-4fb5-90ce-9811745db839] Chunk 38 sent to stream queue.
2025-07-29 09:24:52,089 - INFO - MainProcess - [Task-bbad8737-44f3-4fb5-90ce-9811745db839] Chunk 39 sent to stream queue.
2025-07-29 09:24:52,090 - INFO - MainProcess - [Task-bbad8737-44f3-4fb5-90ce-9811745db839] All chunks processed and queued successfully.
2025-07-29 09:24:52,090 - INFO - MainProcess - [Task-bbad8737-44f3-4fb5-90ce-9811745db839] Processor thread finished and cleaned up.
2025-07-29 09:25:03,268 - INFO - MainProcess - Formal queue empty. Switching back to IDLE mode.
2025-07-29 09:25:03,293 - INFO - MainProcess - Internal write queues cleared.
2025-07-29 09:25:20,077 - INFO - MainProcess - Received new request for audio: 42s_audio_sanxingdui_001.wav. Preparing tasks...
2025-07-29 09:25:20,355 - INFO - MainProcess - [Task-ec0490b6-52e6-4d6e-933f-3f1e08a75c3e] Started processing. Expecting 40 chunks.
2025-07-29 09:25:20,355 - INFO - MainProcess - Task ec0490b6-52e6-4d6e-933f-3f1e08a75c3e has been started in the background.
2025-07-29 09:25:20,399 - INFO - MainProcess - 127.0.0.1 - - [29/Jul/2025 09:25:20] "POST /generate_video HTTP/1.1" 200 -
2025-07-29 09:25:23,299 - INFO - MainProcess - [Task-ec0490b6-52e6-4d6e-933f-3f1e08a75c3e] Chunk 0 sent to stream queue.
2025-07-29 09:25:23,937 - INFO - MainProcess - [Task-ec0490b6-52e6-4d6e-933f-3f1e08a75c3e] Chunk 1 sent to stream queue.
2025-07-29 09:25:23,937 - INFO - MainProcess - [Task-ec0490b6-52e6-4d6e-933f-3f1e08a75c3e] Chunk 2 sent to stream queue.
2025-07-29 09:25:24,099 - INFO - MainProcess - Switching to FORMAL mode. Initiating synchronized flush...
2025-07-29 09:25:24,100 - INFO - MainProcess - Internal write queues cleared.
2025-07-29 09:25:24,100 - INFO - MainProcess - Main thread: Waiting for flush completion...
2025-07-29 09:25:24,384 - INFO - MainProcess - VideoWriter: FLUSH command received. Writing flush data.
2025-07-29 09:25:24,661 - INFO - MainProcess - VideoWriter: Waiting at sync barrier.
2025-07-29 09:25:24,662 - WARNING - MainProcess - VideoWriter: Barrier was broken. Other writer may have timed out or crashed.
2025-07-29 09:25:24,662 - INFO - MainProcess - VideoWriter: Passed sync barrier.
2025-07-29 09:25:24,663 - INFO - MainProcess - Main thread: Flush completed. Ready for formal stream.
2025-07-29 09:25:24,663 - INFO - MainProcess - Formal queue empty. Switching back to IDLE mode.
2025-07-29 09:25:24,663 - INFO - MainProcess - Internal write queues cleared.
2025-07-29 09:25:25,815 - INFO - MainProcess - [Task-ec0490b6-52e6-4d6e-933f-3f1e08a75c3e] Chunk 3 sent to stream queue.
2025-07-29 09:25:25,815 - INFO - MainProcess - Switching to FORMAL mode. Initiating synchronized flush...
2025-07-29 09:25:25,817 - INFO - MainProcess - Internal write queues cleared.
2025-07-29 09:25:25,817 - INFO - MainProcess - Main thread: Waiting for flush completion...
2025-07-29 09:25:25,950 - INFO - MainProcess - VideoWriter: FLUSH command received. Writing flush data.
2025-07-29 09:25:26,222 - INFO - MainProcess - VideoWriter: Waiting at sync barrier.
2025-07-29 09:25:26,222 - WARNING - MainProcess - VideoWriter: Barrier was broken. Other writer may have timed out or crashed.
2025-07-29 09:25:26,222 - INFO - MainProcess - VideoWriter: Passed sync barrier.
2025-07-29 09:25:26,222 - INFO - MainProcess - Main thread: Flush completed. Ready for formal stream.
2025-07-29 09:25:26,223 - INFO - MainProcess - Formal queue empty. Switching back to IDLE mode.
2025-07-29 09:25:26,223 - INFO - MainProcess - Internal write queues cleared.
2025-07-29 09:25:26,951 - INFO - MainProcess - [Task-ec0490b6-52e6-4d6e-933f-3f1e08a75c3e] Chunk 4 sent to stream queue.
2025-07-29 09:25:27,414 - INFO - MainProcess - [Task-ec0490b6-52e6-4d6e-933f-3f1e08a75c3e] Chunk 5 sent to stream queue.
2025-07-29 09:25:27,414 - INFO - MainProcess - [Task-ec0490b6-52e6-4d6e-933f-3f1e08a75c3e] Chunk 6 sent to stream queue.
2025-07-29 09:25:27,414 - INFO - MainProcess - [Task-ec0490b6-52e6-4d6e-933f-3f1e08a75c3e] Chunk 7 sent to stream queue.
2025-07-29 09:25:28,309 - INFO - MainProcess - [Task-ec0490b6-52e6-4d6e-933f-3f1e08a75c3e] Chunk 8 sent to stream queue.
2025-07-29 09:25:28,427 - INFO - MainProcess - [Task-ec0490b6-52e6-4d6e-933f-3f1e08a75c3e] Chunk 9 sent to stream queue.
2025-07-29 09:25:28,556 - INFO - MainProcess - [Task-ec0490b6-52e6-4d6e-933f-3f1e08a75c3e] Chunk 10 sent to stream queue.
2025-07-29 09:25:28,691 - INFO - MainProcess - [Task-ec0490b6-52e6-4d6e-933f-3f1e08a75c3e] Chunk 11 sent to stream queue.
2025-07-29 09:25:28,784 - INFO - MainProcess - Switching to FORMAL mode. Initiating synchronized flush...
2025-07-29 09:25:28,784 - INFO - MainProcess - Internal write queues cleared.
2025-07-29 09:25:28,784 - INFO - MainProcess - Main thread: Waiting for flush completion...
2025-07-29 09:25:29,019 - INFO - MainProcess - [Task-ec0490b6-52e6-4d6e-933f-3f1e08a75c3e] Chunk 12 sent to stream queue.
2025-07-29 09:25:29,241 - INFO - MainProcess - [Task-ec0490b6-52e6-4d6e-933f-3f1e08a75c3e] Chunk 13 sent to stream queue.
2025-07-29 09:25:29,423 - INFO - MainProcess - VideoWriter: FLUSH command received. Writing flush data.
2025-07-29 09:25:29,506 - INFO - MainProcess - [Task-ec0490b6-52e6-4d6e-933f-3f1e08a75c3e] Chunk 14 sent to stream queue.
2025-07-29 09:25:29,634 - INFO - MainProcess - [Task-ec0490b6-52e6-4d6e-933f-3f1e08a75c3e] Chunk 15 sent to stream queue.
2025-07-29 09:25:29,710 - INFO - MainProcess - VideoWriter: Waiting at sync barrier.
2025-07-29 09:25:29,710 - WARNING - MainProcess - VideoWriter: Barrier was broken. Other writer may have timed out or crashed.
2025-07-29 09:25:29,710 - INFO - MainProcess - VideoWriter: Passed sync barrier.
2025-07-29 09:25:29,710 - INFO - MainProcess - Main thread: Flush completed. Ready for formal stream.
2025-07-29 09:25:30,330 - INFO - MainProcess - [Task-ec0490b6-52e6-4d6e-933f-3f1e08a75c3e] Chunk 16 sent to stream queue.
2025-07-29 09:25:30,401 - INFO - MainProcess - AudioWriter: FLUSH command received. Writing flush data.
2025-07-29 09:25:30,424 - INFO - MainProcess - AudioWriter: Waiting at sync barrier.
2025-07-29 09:25:30,424 - WARNING - MainProcess - AudioWriter: Barrier was broken. Other writer may have timed out or crashed.
2025-07-29 09:25:30,424 - INFO - MainProcess - AudioWriter: Passed sync barrier.
2025-07-29 09:25:30,464 - INFO - MainProcess - [Task-ec0490b6-52e6-4d6e-933f-3f1e08a75c3e] Chunk 17 sent to stream queue.
2025-07-29 09:25:30,581 - INFO - MainProcess - [Task-ec0490b6-52e6-4d6e-933f-3f1e08a75c3e] Chunk 18 sent to stream queue.
2025-07-29 09:25:30,792 - INFO - MainProcess - [Task-ec0490b6-52e6-4d6e-933f-3f1e08a75c3e] Chunk 19 sent to stream queue.
2025-07-29 09:25:31,064 - INFO - MainProcess - [Task-ec0490b6-52e6-4d6e-933f-3f1e08a75c3e] Chunk 20 sent to stream queue.
2025-07-29 09:25:31,330 - INFO - MainProcess - [Task-ec0490b6-52e6-4d6e-933f-3f1e08a75c3e] Chunk 21 sent to stream queue.
2025-07-29 09:25:31,818 - INFO - MainProcess - [Task-ec0490b6-52e6-4d6e-933f-3f1e08a75c3e] Chunk 22 sent to stream queue.
2025-07-29 09:25:31,818 - INFO - MainProcess - [Task-ec0490b6-52e6-4d6e-933f-3f1e08a75c3e] Chunk 23 sent to stream queue.
2025-07-29 09:25:32,362 - INFO - MainProcess - [Task-ec0490b6-52e6-4d6e-933f-3f1e08a75c3e] Chunk 24 sent to stream queue.
2025-07-29 09:25:32,509 - INFO - MainProcess - [Task-ec0490b6-52e6-4d6e-933f-3f1e08a75c3e] Chunk 25 sent to stream queue.
2025-07-29 09:25:32,679 - INFO - MainProcess - [Task-ec0490b6-52e6-4d6e-933f-3f1e08a75c3e] Chunk 26 sent to stream queue.
2025-07-29 09:25:32,832 - INFO - MainProcess - [Task-ec0490b6-52e6-4d6e-933f-3f1e08a75c3e] Chunk 27 sent to stream queue.
2025-07-29 09:25:33,066 - INFO - MainProcess - [Task-ec0490b6-52e6-4d6e-933f-3f1e08a75c3e] Chunk 28 sent to stream queue.
2025-07-29 09:25:33,332 - INFO - MainProcess - [Task-ec0490b6-52e6-4d6e-933f-3f1e08a75c3e] Chunk 29 sent to stream queue.
2025-07-29 09:25:33,716 - INFO - MainProcess - [Task-ec0490b6-52e6-4d6e-933f-3f1e08a75c3e] Chunk 30 sent to stream queue.
2025-07-29 09:25:33,923 - INFO - MainProcess - [Task-ec0490b6-52e6-4d6e-933f-3f1e08a75c3e] Chunk 31 sent to stream queue.
2025-07-29 09:25:34,461 - INFO - MainProcess - [Task-ec0490b6-52e6-4d6e-933f-3f1e08a75c3e] Chunk 32 sent to stream queue.
2025-07-29 09:25:34,540 - INFO - MainProcess - [Task-ec0490b6-52e6-4d6e-933f-3f1e08a75c3e] Chunk 33 sent to stream queue.
2025-07-29 09:25:34,711 - INFO - MainProcess - [Task-ec0490b6-52e6-4d6e-933f-3f1e08a75c3e] Chunk 34 sent to stream queue.
2025-07-29 09:25:34,929 - INFO - MainProcess - [Task-ec0490b6-52e6-4d6e-933f-3f1e08a75c3e] Chunk 35 sent to stream queue.
2025-07-29 09:25:35,186 - INFO - MainProcess - [Task-ec0490b6-52e6-4d6e-933f-3f1e08a75c3e] Chunk 36 sent to stream queue.
2025-07-29 09:25:35,281 - INFO - MainProcess - [Task-ec0490b6-52e6-4d6e-933f-3f1e08a75c3e] Chunk 37 sent to stream queue.
2025-07-29 09:25:35,842 - INFO - MainProcess - [Task-ec0490b6-52e6-4d6e-933f-3f1e08a75c3e] Chunk 38 sent to stream queue.
2025-07-29 09:25:36,078 - INFO - MainProcess - [Task-ec0490b6-52e6-4d6e-933f-3f1e08a75c3e] Chunk 39 sent to stream queue.
2025-07-29 09:25:36,078 - INFO - MainProcess - [Task-ec0490b6-52e6-4d6e-933f-3f1e08a75c3e] All chunks processed and queued successfully.
2025-07-29 09:25:36,078 - INFO - MainProcess - [Task-ec0490b6-52e6-4d6e-933f-3f1e08a75c3e] Processor thread finished and cleaned up.
2025-07-29 09:25:48,914 - INFO - MainProcess - Formal queue empty. Switching back to IDLE mode.
2025-07-29 09:25:48,941 - INFO - MainProcess - Internal write queues cleared.
2025-07-29 09:26:11,462 - ERROR - MainProcess - Video pipe write error: [Errno 32] Broken pipe
2025-07-29 09:26:11,462 - ERROR - MainProcess - Audio pipe write error: [Errno 32] Broken pipe
2025-07-29 09:26:40,548 - INFO - MainProcess - Starting Flask service...
2025-07-29 09:26:40,548 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-29 09:26:40,548 - INFO - MainProcess - Loading configuration file...
2025-07-29 09:26:40,561 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-29 09:26:40,561 - INFO - MainProcess - Loading model components...
2025-07-29 09:26:50,637 - INFO - MainProcess - All components loaded successfully.
2025-07-29 09:26:50,637 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-29 09:26:50,733 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-29 09:26:50,733 - INFO - MainProcess - Preprocessing video file: assets/video/25s_girl_0718_00.mp4...
2025-07-29 09:27:27,410 - INFO - MainProcess - Video preprocessed successfully. Found 644 frames/faces.
2025-07-29 09:27:27,411 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-29 09:27:27,424 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-29 09:27:27,470 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-29 09:27:27,470 - INFO - MainProcess - Detected target stream resolution from source video: 720x1080
2025-07-29 09:27:27,470 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/19s_girl_0728_00_idle.mp4
2025-07-29 09:27:30,558 - INFO - MainProcess - Processing 490 idle frames to match target resolution 720x1080
2025-07-29 09:27:31,478 - INFO - MainProcess - Idle stream queue populated with 30 chunks.
2025-07-29 09:27:31,478 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-29 09:27:31,478 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-29 09:27:31,478 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-29 09:27:31,661 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-29 09:27:31,661 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-29 09:27:31,665 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-29 09:27:31,665 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-29 09:27:31,690 - INFO - MainProcess - Video pipe opened for writing.
2025-07-29 09:27:31,694 - INFO - MainProcess - Audio pipe opened for writing.
2025-07-29 09:51:30,432 - ERROR - MainProcess - Audio pipe write error: [Errno 32] Broken pipe
2025-07-29 09:51:30,433 - ERROR - MainProcess - Video pipe write error: [Errno 32] Broken pipe
2025-07-29 09:51:30,433 - INFO - MainProcess - Audio writer thread finished.
2025-07-29 09:51:30,433 - INFO - MainProcess - Video writer thread finished.
2025-07-29 09:52:15,790 - INFO - MainProcess - Starting Flask service...
2025-07-29 09:52:15,790 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-29 09:52:15,790 - INFO - MainProcess - Loading configuration file...
2025-07-29 09:52:15,802 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-29 09:52:15,802 - INFO - MainProcess - Loading model components...
2025-07-29 09:52:33,989 - INFO - MainProcess - All components loaded successfully.
2025-07-29 09:52:33,989 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-29 09:52:34,068 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-29 09:52:34,068 - INFO - MainProcess - Preprocessing video file: assets/video/25s_girl_0718_00.mp4...
2025-07-29 09:53:10,660 - INFO - MainProcess - Video preprocessed successfully. Found 644 frames/faces.
2025-07-29 09:53:10,660 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-29 09:53:10,674 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-29 09:53:10,723 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-29 09:53:10,724 - INFO - MainProcess - Detected target stream resolution from source video: 720x1080
2025-07-29 09:53:10,724 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/19s_girl_0728_00_idle.mp4
2025-07-29 09:53:14,278 - INFO - MainProcess - Processing 490 idle frames to match target resolution 720x1080
2025-07-29 09:53:15,228 - INFO - MainProcess - Idle stream queue populated with 30 chunks.
2025-07-29 09:53:15,228 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-29 09:53:15,228 - INFO - MainProcess - Switching stream mode from None to idle
2025-07-29 09:53:15,228 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-29 09:53:15,374 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-29 09:53:15,379 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-29 09:53:15,379 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-29 09:57:05,095 - INFO - MainProcess - Initiating server cleanup...
2025-07-29 09:57:05,095 - INFO - MainProcess - Stopping the Streaming Controller...
2025-07-29 09:57:05,185 - INFO - MainProcess - Streaming Controller stopped.
2025-07-29 09:57:05,185 - INFO - MainProcess - Closing the GPU worker pool...
2025-07-29 09:57:28,916 - INFO - MainProcess - Starting Flask service...
2025-07-29 09:57:28,916 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-29 09:57:28,916 - INFO - MainProcess - Loading configuration file...
2025-07-29 09:57:28,928 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-29 09:57:28,928 - INFO - MainProcess - Loading model components...
2025-07-29 09:57:38,923 - INFO - MainProcess - All components loaded successfully.
2025-07-29 09:57:38,923 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-29 09:57:39,006 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-29 09:57:39,006 - INFO - MainProcess - Preprocessing video file: assets/video/25s_girl_0718_00.mp4...
2025-07-29 09:58:15,834 - INFO - MainProcess - Video preprocessed successfully. Found 644 frames/faces.
2025-07-29 09:58:15,835 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-29 09:58:15,848 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-29 09:58:15,902 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-29 09:58:15,903 - INFO - MainProcess - Detected target stream resolution from source video: 720x1080
2025-07-29 09:58:15,903 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/19s_girl_0728_00_idle.mp4
2025-07-29 09:58:18,882 - INFO - MainProcess - Processing 490 idle frames to match target resolution 720x1080
2025-07-29 09:58:19,563 - INFO - MainProcess - Idle stream queue populated with 30 chunks.
2025-07-29 09:58:19,563 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-29 09:58:19,563 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-29 09:58:19,564 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-29 09:58:19,671 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-29 09:58:19,672 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-29 09:58:19,676 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-29 09:58:19,688 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-29 09:58:19,719 - INFO - MainProcess - Video pipe opened for writing.
2025-07-29 09:58:19,729 - INFO - MainProcess - Audio pipe opened for writing.
2025-07-29 11:10:51,486 - INFO - MainProcess - Received new request for audio: 42s_audio_sanxingdui_001.wav. Preparing tasks...
2025-07-29 11:10:51,859 - INFO - MainProcess - [Task-478a59dc-6eb6-465a-8aa6-1b26ddcc899c] Started processing. Expecting 40 chunks.
2025-07-29 11:10:51,859 - INFO - MainProcess - Task 478a59dc-6eb6-465a-8aa6-1b26ddcc899c has been started in the background.
2025-07-29 11:10:51,862 - INFO - MainProcess - 127.0.0.1 - - [29/Jul/2025 11:10:51] "POST /generate_video HTTP/1.1" 200 -
2025-07-29 11:10:56,351 - INFO - MainProcess - [Task-478a59dc-6eb6-465a-8aa6-1b26ddcc899c] Chunk 0 sent to stream queue.
2025-07-29 11:10:56,456 - INFO - MainProcess - [Task-478a59dc-6eb6-465a-8aa6-1b26ddcc899c] Chunk 1 sent to stream queue.
2025-07-29 11:10:56,606 - INFO - MainProcess - [Task-478a59dc-6eb6-465a-8aa6-1b26ddcc899c] Chunk 2 sent to stream queue.
2025-07-29 11:10:56,971 - INFO - MainProcess - [Task-478a59dc-6eb6-465a-8aa6-1b26ddcc899c] Chunk 3 sent to stream queue.
2025-07-29 11:10:56,971 - INFO - MainProcess - [Task-478a59dc-6eb6-465a-8aa6-1b26ddcc899c] Chunk 4 sent to stream queue.
2025-07-29 11:10:57,132 - INFO - MainProcess - [Task-478a59dc-6eb6-465a-8aa6-1b26ddcc899c] Chunk 5 sent to stream queue.
2025-07-29 11:10:57,437 - INFO - MainProcess - [Task-478a59dc-6eb6-465a-8aa6-1b26ddcc899c] Chunk 6 sent to stream queue.
2025-07-29 11:10:57,437 - INFO - MainProcess - [Task-478a59dc-6eb6-465a-8aa6-1b26ddcc899c] Chunk 7 sent to stream queue.
2025-07-29 11:10:58,461 - INFO - MainProcess - [Task-478a59dc-6eb6-465a-8aa6-1b26ddcc899c] Chunk 8 sent to stream queue.
2025-07-29 11:10:58,627 - INFO - MainProcess - [Task-478a59dc-6eb6-465a-8aa6-1b26ddcc899c] Chunk 9 sent to stream queue.
2025-07-29 11:10:58,773 - INFO - MainProcess - [Task-478a59dc-6eb6-465a-8aa6-1b26ddcc899c] Chunk 10 sent to stream queue.
2025-07-29 11:10:58,930 - INFO - MainProcess - [Task-478a59dc-6eb6-465a-8aa6-1b26ddcc899c] Chunk 11 sent to stream queue.
2025-07-29 11:10:59,162 - INFO - MainProcess - [Task-478a59dc-6eb6-465a-8aa6-1b26ddcc899c] Chunk 12 sent to stream queue.
2025-07-29 11:10:59,327 - INFO - MainProcess - [Task-478a59dc-6eb6-465a-8aa6-1b26ddcc899c] Chunk 13 sent to stream queue.
2025-07-29 11:10:59,501 - INFO - MainProcess - [Task-478a59dc-6eb6-465a-8aa6-1b26ddcc899c] Chunk 14 sent to stream queue.
2025-07-29 11:10:59,681 - INFO - MainProcess - [Task-478a59dc-6eb6-465a-8aa6-1b26ddcc899c] Chunk 15 sent to stream queue.
2025-07-29 11:11:00,600 - INFO - MainProcess - [Task-478a59dc-6eb6-465a-8aa6-1b26ddcc899c] Chunk 16 sent to stream queue.
2025-07-29 11:11:00,762 - INFO - MainProcess - [Task-478a59dc-6eb6-465a-8aa6-1b26ddcc899c] Chunk 17 sent to stream queue.
2025-07-29 11:11:00,906 - INFO - MainProcess - [Task-478a59dc-6eb6-465a-8aa6-1b26ddcc899c] Chunk 18 sent to stream queue.
2025-07-29 11:11:01,123 - INFO - MainProcess - [Task-478a59dc-6eb6-465a-8aa6-1b26ddcc899c] Chunk 19 sent to stream queue.
2025-07-29 11:11:01,329 - INFO - MainProcess - [Task-478a59dc-6eb6-465a-8aa6-1b26ddcc899c] Chunk 20 sent to stream queue.
2025-07-29 11:11:01,482 - INFO - MainProcess - [Task-478a59dc-6eb6-465a-8aa6-1b26ddcc899c] Chunk 21 sent to stream queue.
2025-07-29 11:11:01,674 - INFO - MainProcess - [Task-478a59dc-6eb6-465a-8aa6-1b26ddcc899c] Chunk 22 sent to stream queue.
2025-07-29 11:11:01,865 - INFO - MainProcess - [Task-478a59dc-6eb6-465a-8aa6-1b26ddcc899c] Chunk 23 sent to stream queue.
2025-07-29 11:11:02,644 - INFO - MainProcess - [Task-478a59dc-6eb6-465a-8aa6-1b26ddcc899c] Chunk 24 sent to stream queue.
2025-07-29 11:11:02,887 - INFO - MainProcess - [Task-478a59dc-6eb6-465a-8aa6-1b26ddcc899c] Chunk 25 sent to stream queue.
2025-07-29 11:11:03,035 - INFO - MainProcess - [Task-478a59dc-6eb6-465a-8aa6-1b26ddcc899c] Chunk 26 sent to stream queue.
2025-07-29 11:11:03,242 - INFO - MainProcess - [Task-478a59dc-6eb6-465a-8aa6-1b26ddcc899c] Chunk 27 sent to stream queue.
2025-07-29 11:11:03,413 - INFO - MainProcess - [Task-478a59dc-6eb6-465a-8aa6-1b26ddcc899c] Chunk 28 sent to stream queue.
2025-07-29 11:11:03,639 - INFO - MainProcess - [Task-478a59dc-6eb6-465a-8aa6-1b26ddcc899c] Chunk 29 sent to stream queue.
2025-07-29 11:11:03,819 - INFO - MainProcess - [Task-478a59dc-6eb6-465a-8aa6-1b26ddcc899c] Chunk 30 sent to stream queue.
2025-07-29 11:11:03,985 - INFO - MainProcess - [Task-478a59dc-6eb6-465a-8aa6-1b26ddcc899c] Chunk 31 sent to stream queue.
2025-07-29 11:11:04,725 - INFO - MainProcess - [Task-478a59dc-6eb6-465a-8aa6-1b26ddcc899c] Chunk 32 sent to stream queue.
2025-07-29 11:11:05,017 - INFO - MainProcess - [Task-478a59dc-6eb6-465a-8aa6-1b26ddcc899c] Chunk 33 sent to stream queue.
2025-07-29 11:11:05,087 - INFO - MainProcess - [Task-478a59dc-6eb6-465a-8aa6-1b26ddcc899c] Chunk 34 sent to stream queue.
2025-07-29 11:11:05,221 - INFO - MainProcess - [Task-478a59dc-6eb6-465a-8aa6-1b26ddcc899c] Chunk 35 sent to stream queue.
2025-07-29 11:11:05,393 - INFO - MainProcess - [Task-478a59dc-6eb6-465a-8aa6-1b26ddcc899c] Chunk 36 sent to stream queue.
2025-07-29 11:11:05,789 - INFO - MainProcess - [Task-478a59dc-6eb6-465a-8aa6-1b26ddcc899c] Chunk 37 sent to stream queue.
2025-07-29 11:11:05,912 - INFO - MainProcess - [Task-478a59dc-6eb6-465a-8aa6-1b26ddcc899c] Chunk 38 sent to stream queue.
2025-07-29 11:11:06,125 - INFO - MainProcess - [Task-478a59dc-6eb6-465a-8aa6-1b26ddcc899c] Chunk 39 sent to stream queue.
2025-07-29 11:11:06,125 - INFO - MainProcess - [Task-478a59dc-6eb6-465a-8aa6-1b26ddcc899c] All chunks processed and queued successfully.
2025-07-29 11:11:06,125 - INFO - MainProcess - [Task-478a59dc-6eb6-465a-8aa6-1b26ddcc899c] Processor thread finished and cleaned up.
2025-07-29 12:16:13,701 - ERROR - MainProcess - Audio pipe write error: [Errno 32] Broken pipe
2025-07-29 12:16:13,701 - ERROR - MainProcess - Video pipe write error: [Errno 32] Broken pipe
2025-07-29 12:16:13,702 - INFO - MainProcess - Audio writer thread finished.
2025-07-29 12:16:13,702 - INFO - MainProcess - Video writer thread finished.
2025-07-29 12:16:23,538 - INFO - MainProcess - Starting Flask service...
2025-07-29 12:16:23,539 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-29 12:16:23,539 - INFO - MainProcess - Loading configuration file...
2025-07-29 12:16:23,551 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-29 12:16:23,551 - INFO - MainProcess - Loading model components...
2025-07-29 12:16:34,501 - INFO - MainProcess - All components loaded successfully.
2025-07-29 12:16:34,501 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-29 12:16:34,595 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-29 12:16:34,595 - INFO - MainProcess - Preprocessing video file: assets/video/25s_girl_0718_00.mp4...
2025-07-29 12:17:10,466 - INFO - MainProcess - Video preprocessed successfully. Found 644 frames/faces.
2025-07-29 12:17:10,468 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-29 12:17:10,494 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-29 12:17:10,603 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-29 12:17:10,603 - INFO - MainProcess - Detected target stream resolution from source video: 720x1080
2025-07-29 12:17:10,604 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/19s_girl_0728_00_idle.mp4
2025-07-29 12:17:13,903 - INFO - MainProcess - Processing 490 idle frames to match target resolution 720x1080
2025-07-29 12:17:14,763 - INFO - MainProcess - Idle stream queue populated with 30 chunks.
2025-07-29 12:17:14,764 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-29 12:17:14,765 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-29 12:17:14,766 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-29 12:17:14,883 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-29 12:17:14,889 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-29 12:17:14,889 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-29 12:26:56,793 - INFO - MainProcess - Starting Flask service...
2025-07-29 12:26:56,793 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-29 12:26:56,793 - INFO - MainProcess - Loading configuration file...
2025-07-29 12:26:56,805 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-29 12:26:56,806 - INFO - MainProcess - Loading model components...
2025-07-29 12:27:07,716 - INFO - MainProcess - All components loaded successfully.
2025-07-29 12:27:07,716 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-29 12:27:07,805 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-29 12:27:07,805 - INFO - MainProcess - Preprocessing video file: assets/video/25s_girl_0718_00.mp4...
2025-07-29 12:27:43,989 - INFO - MainProcess - Video preprocessed successfully. Found 644 frames/faces.
2025-07-29 12:27:43,989 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-29 12:27:44,004 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-29 12:27:44,054 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-29 12:27:44,054 - INFO - MainProcess - Detected target stream resolution from source video: 720x1080
2025-07-29 12:27:44,054 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/19s_girl_0728_00_idle.mp4
2025-07-29 12:27:47,094 - INFO - MainProcess - Processing 490 idle frames to match target resolution 720x1080
2025-07-29 12:27:47,738 - INFO - MainProcess - Idle stream queue populated with 30 chunks.
2025-07-29 12:27:47,738 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-29 12:27:47,738 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-29 12:27:47,738 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-29 12:27:47,857 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-29 12:27:47,861 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-29 12:27:47,868 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-29 12:27:47,868 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-29 12:27:47,901 - INFO - MainProcess - Video pipe opened for writing.
2025-07-29 12:27:47,934 - INFO - MainProcess - Audio pipe opened for writing.
2025-07-29 12:30:55,130 - INFO - MainProcess - Received new request for audio: 42s_audio_sanxingdui_001.wav. Preparing tasks...
2025-07-29 12:30:55,552 - INFO - MainProcess - [Task-21b229bc-8bdf-421f-af20-1c4e1392b82f] Started. Sending START command.
2025-07-29 12:30:55,552 - INFO - MainProcess - Task 21b229bc-8bdf-421f-af20-1c4e1392b82f has been started in the background.
2025-07-29 12:30:55,555 - INFO - MainProcess - 127.0.0.1 - - [29/Jul/2025 12:30:55] "POST /generate_video HTTP/1.1" 200 -
2025-07-29 12:30:55,669 - INFO - MainProcess - Received START for 21b229bc-8bdf-421f-af20-1c4e1392b82f. Switching to formal mode.
2025-07-29 12:30:55,669 - INFO - MainProcess - Internal write queues cleared for transition.
2025-07-29 12:31:09,928 - INFO - MainProcess - [Task-21b229bc-8bdf-421f-af20-1c4e1392b82f] Finished. Sending END command.
2025-07-29 12:31:09,928 - INFO - MainProcess - [Task-21b229bc-8bdf-421f-af20-1c4e1392b82f] Processor thread cleaned up.
2025-07-29 12:31:17,826 - INFO - MainProcess - Received END for 21b229bc-8bdf-421f-af20-1c4e1392b82f. Switching back to idle mode.
2025-07-29 12:31:43,212 - INFO - MainProcess - Received new request for audio: 42s_audio_sanxingdui_001.wav. Preparing tasks...
2025-07-29 12:31:43,554 - INFO - MainProcess - [Task-1b46b415-16d0-43d2-92a9-e4aacd97ce9d] Started. Sending START command.
2025-07-29 12:31:43,554 - INFO - MainProcess - Task 1b46b415-16d0-43d2-92a9-e4aacd97ce9d has been started in the background.
2025-07-29 12:31:43,619 - INFO - MainProcess - 127.0.0.1 - - [29/Jul/2025 12:31:43] "POST /generate_video HTTP/1.1" 200 -
2025-07-29 12:31:43,669 - INFO - MainProcess - Received START for 1b46b415-16d0-43d2-92a9-e4aacd97ce9d. Switching to formal mode.
2025-07-29 12:31:43,692 - INFO - MainProcess - Internal write queues cleared for transition.
2025-07-29 12:31:55,873 - INFO - MainProcess - [Task-1b46b415-16d0-43d2-92a9-e4aacd97ce9d] Finished. Sending END command.
2025-07-29 12:31:55,873 - INFO - MainProcess - [Task-1b46b415-16d0-43d2-92a9-e4aacd97ce9d] Processor thread cleaned up.
2025-07-29 12:32:05,868 - INFO - MainProcess - Received END for 1b46b415-16d0-43d2-92a9-e4aacd97ce9d. Switching back to idle mode.
2025-07-29 12:42:07,756 - ERROR - MainProcess - 195.184.76.207 - - [29/Jul/2025 12:42:07] code 400, message Bad request version ('À#À¬À®À+À')
2025-07-29 12:42:07,757 - INFO - MainProcess - 195.184.76.207 - - [29/Jul/2025 12:42:07] "[35m[1m\x16\x03\x03\x01¥\x01\x00\x01¡\x03\x03ÁÏ\x0e\x9d®î\x9e>kqò\x00\x02ü\x130\x9c«ýöâó59ý£]A\x11¡.ï ôýùi«\x9d¨\x02\x19\x08*Ì$j\x07.yFnsÖ'0Øê\x92\x19Ñv;³ê\x00\x8a\x00\x16\x003\x00gÀ\x9eÀ¢\x00\x9e\x009\x00kÀ\x9fÀ£\x00\x9f\x00E\x00¾\x00\x88\x00Ä\x00\x9aÀ\x08À\x09À#À¬À®À+À[0m" HTTPStatus.BAD_REQUEST -
2025-07-29 12:44:37,910 - ERROR - MainProcess - Audio pipe write error: [Errno 32] Broken pipe
2025-07-29 12:44:37,917 - ERROR - MainProcess - Video pipe write error: [Errno 32] Broken pipe
2025-07-29 12:44:38,186 - ERROR - MainProcess - FFmpeg process died. Restarting...
2025-07-29 12:44:38,186 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-29 12:44:47,715 - INFO - MainProcess - Starting Flask service...
2025-07-29 12:44:47,716 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-29 12:44:47,716 - INFO - MainProcess - Loading configuration file...
2025-07-29 12:44:47,728 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-29 12:44:47,728 - INFO - MainProcess - Loading model components...
2025-07-29 12:44:59,643 - INFO - MainProcess - All components loaded successfully.
2025-07-29 12:44:59,643 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-29 12:44:59,731 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-29 12:44:59,732 - INFO - MainProcess - Preprocessing video file: assets/video/25s_girl_0718_00.mp4...
2025-07-29 12:45:36,962 - INFO - MainProcess - Video preprocessed successfully. Found 644 frames/faces.
2025-07-29 12:45:36,963 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-29 12:45:36,978 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-29 12:45:37,024 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-29 12:45:37,024 - INFO - MainProcess - Detected target stream resolution from source video: 720x1080
2025-07-29 12:45:37,024 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/19s_girl_0728_00_idle.mp4
2025-07-29 12:45:40,484 - INFO - MainProcess - Processing 490 idle frames to match target resolution 720x1080
2025-07-29 12:45:41,716 - INFO - MainProcess - Idle stream queue populated with 30 chunks.
2025-07-29 12:45:41,717 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-29 12:45:41,717 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-29 12:45:41,717 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-29 12:45:41,855 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-29 12:45:41,855 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-29 12:45:41,861 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-29 12:45:41,861 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-29 12:48:43,075 - INFO - MainProcess - Received new request for audio: 42s_audio_sanxingdui_001.wav. Preparing tasks...
2025-07-29 12:48:43,481 - INFO - MainProcess - [Task-16f54ede-93e5-4296-aedd-d6f8427d6a75] Started. Sending START command.
2025-07-29 12:48:43,481 - INFO - MainProcess - Task 16f54ede-93e5-4296-aedd-d6f8427d6a75 has been started in the background.
2025-07-29 12:48:43,484 - INFO - MainProcess - 127.0.0.1 - - [29/Jul/2025 12:48:43] "POST /generate_video HTTP/1.1" 200 -
2025-07-29 12:48:43,871 - INFO - MainProcess - Received START for 16f54ede-93e5-4296-aedd-d6f8427d6a75. Preparing for formal stream.
2025-07-29 12:48:43,872 - INFO - MainProcess - Waiting for the first data chunk to perform cutover...
2025-07-29 12:48:47,981 - INFO - MainProcess - First data chunk arrived. Performing just-in-time cutover.
2025-07-29 12:48:57,912 - INFO - MainProcess - [Task-16f54ede-93e5-4296-aedd-d6f8427d6a75] Finished. Sending END command.
2025-07-29 12:48:57,913 - INFO - MainProcess - [Task-16f54ede-93e5-4296-aedd-d6f8427d6a75] Processor thread cleaned up.
2025-07-29 12:48:57,914 - INFO - MainProcess - Received END for 16f54ede-93e5-4296-aedd-d6f8427d6a75. Switching back to idle mode.
2025-07-29 12:49:10,704 - INFO - MainProcess - Received new request for audio: 42s_audio_sanxingdui_001.wav. Preparing tasks...
2025-07-29 12:49:11,022 - INFO - MainProcess - [Task-63472c6b-7a38-4680-a9db-474d833c3ea5] Started. Sending START command.
2025-07-29 12:49:11,022 - INFO - MainProcess - Task 63472c6b-7a38-4680-a9db-474d833c3ea5 has been started in the background.
2025-07-29 12:49:11,087 - INFO - MainProcess - 127.0.0.1 - - [29/Jul/2025 12:49:11] "POST /generate_video HTTP/1.1" 200 -
2025-07-29 12:49:11,442 - INFO - MainProcess - Received START for 63472c6b-7a38-4680-a9db-474d833c3ea5. Preparing for formal stream.
2025-07-29 12:49:11,442 - INFO - MainProcess - Waiting for the first data chunk to perform cutover...
2025-07-29 12:49:13,048 - INFO - MainProcess - First data chunk arrived. Performing just-in-time cutover.
2025-07-29 12:49:23,237 - INFO - MainProcess - [Task-63472c6b-7a38-4680-a9db-474d833c3ea5] Finished. Sending END command.
2025-07-29 12:49:23,238 - INFO - MainProcess - [Task-63472c6b-7a38-4680-a9db-474d833c3ea5] Processor thread cleaned up.
2025-07-29 12:49:23,289 - INFO - MainProcess - Received END for 63472c6b-7a38-4680-a9db-474d833c3ea5. Switching back to idle mode.
2025-07-29 12:49:33,359 - INFO - MainProcess - Received new request for audio: 42s_audio_sanxingdui_001.wav. Preparing tasks...
2025-07-29 12:49:33,698 - INFO - MainProcess - [Task-3657f964-70a8-494b-bd83-93d0ed41574e] Started. Sending START command.
2025-07-29 12:49:33,698 - INFO - MainProcess - Task 3657f964-70a8-494b-bd83-93d0ed41574e has been started in the background.
2025-07-29 12:49:33,787 - INFO - MainProcess - 127.0.0.1 - - [29/Jul/2025 12:49:33] "POST /generate_video HTTP/1.1" 200 -
2025-07-29 12:49:34,184 - INFO - MainProcess - Received START for 3657f964-70a8-494b-bd83-93d0ed41574e. Preparing for formal stream.
2025-07-29 12:49:34,185 - INFO - MainProcess - Waiting for the first data chunk to perform cutover...
2025-07-29 12:49:35,856 - INFO - MainProcess - First data chunk arrived. Performing just-in-time cutover.
2025-07-29 12:49:46,076 - INFO - MainProcess - [Task-3657f964-70a8-494b-bd83-93d0ed41574e] Finished. Sending END command.
2025-07-29 12:49:46,077 - INFO - MainProcess - [Task-3657f964-70a8-494b-bd83-93d0ed41574e] Processor thread cleaned up.
2025-07-29 12:49:46,117 - INFO - MainProcess - Received END for 3657f964-70a8-494b-bd83-93d0ed41574e. Switching back to idle mode.
2025-07-29 12:50:09,893 - INFO - MainProcess - Received new request for audio: 42s_audio_sanxingdui_001.wav. Preparing tasks...
2025-07-29 12:50:10,175 - INFO - MainProcess - [Task-dd8703ee-3579-4717-94ed-f128ee0ce543] Started. Sending START command.
2025-07-29 12:50:10,176 - INFO - MainProcess - Task dd8703ee-3579-4717-94ed-f128ee0ce543 has been started in the background.
2025-07-29 12:50:10,242 - INFO - MainProcess - 127.0.0.1 - - [29/Jul/2025 12:50:10] "POST /generate_video HTTP/1.1" 200 -
2025-07-29 12:50:10,472 - INFO - MainProcess - Received START for dd8703ee-3579-4717-94ed-f128ee0ce543. Preparing for formal stream.
2025-07-29 12:50:10,472 - INFO - MainProcess - Waiting for the first data chunk to perform cutover...
2025-07-29 12:50:12,406 - INFO - MainProcess - First data chunk arrived. Performing just-in-time cutover.
2025-07-29 12:50:22,388 - INFO - MainProcess - [Task-dd8703ee-3579-4717-94ed-f128ee0ce543] Finished. Sending END command.
2025-07-29 12:50:22,389 - INFO - MainProcess - [Task-dd8703ee-3579-4717-94ed-f128ee0ce543] Processor thread cleaned up.
2025-07-29 12:50:22,436 - INFO - MainProcess - Received END for dd8703ee-3579-4717-94ed-f128ee0ce543. Switching back to idle mode.
2025-07-29 12:53:00,432 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-29 12:53:00,539 - INFO - MainProcess - [Task-0ac68932-33dc-4bbd-9b37-5583f8f99ef6] Started. Sending START command.
2025-07-29 12:53:00,540 - INFO - MainProcess - Task 0ac68932-33dc-4bbd-9b37-5583f8f99ef6 has been started in the background.
2025-07-29 12:53:00,599 - INFO - MainProcess - 127.0.0.1 - - [29/Jul/2025 12:53:00] "POST /generate_video HTTP/1.1" 200 -
2025-07-29 12:53:00,761 - INFO - MainProcess - Received START for 0ac68932-33dc-4bbd-9b37-5583f8f99ef6. Preparing for formal stream.
2025-07-29 12:53:00,761 - INFO - MainProcess - Waiting for the first data chunk to perform cutover...
2025-07-29 12:53:03,292 - INFO - MainProcess - First data chunk arrived. Performing just-in-time cutover.
2025-07-29 12:53:04,040 - INFO - MainProcess - [Task-0ac68932-33dc-4bbd-9b37-5583f8f99ef6] Finished. Sending END command.
2025-07-29 12:53:04,085 - INFO - MainProcess - [Task-0ac68932-33dc-4bbd-9b37-5583f8f99ef6] Processor thread cleaned up.
2025-07-29 12:53:04,085 - INFO - MainProcess - Received END for 0ac68932-33dc-4bbd-9b37-5583f8f99ef6. Switching back to idle mode.
2025-07-29 12:59:25,117 - INFO - MainProcess - Starting Flask service...
2025-07-29 12:59:25,117 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-29 12:59:25,117 - INFO - MainProcess - Loading configuration file...
2025-07-29 12:59:25,129 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-29 12:59:25,129 - INFO - MainProcess - Loading model components...
2025-07-29 12:59:36,030 - INFO - MainProcess - All components loaded successfully.
2025-07-29 12:59:36,030 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-29 12:59:36,108 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-29 12:59:36,108 - INFO - MainProcess - Preprocessing video file: assets/video/25s_girl_0718_00.mp4...
2025-07-29 13:00:12,829 - INFO - MainProcess - Video preprocessed successfully. Found 644 frames/faces.
2025-07-29 13:00:12,829 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-29 13:00:12,842 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-29 13:00:12,894 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-29 13:00:12,895 - INFO - MainProcess - Detected target stream resolution from source video: 720x1080
2025-07-29 13:00:12,895 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/19s_girl_0728_00_idle.mp4
2025-07-29 13:00:16,000 - INFO - MainProcess - Processing 490 idle frames to match target resolution 720x1080
2025-07-29 13:00:16,768 - INFO - MainProcess - Idle stream queue populated with 30 chunks.
2025-07-29 13:00:16,772 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-29 13:02:58,386 - INFO - MainProcess - Starting Flask service...
2025-07-29 13:02:58,386 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-29 13:02:58,386 - INFO - MainProcess - Loading configuration file...
2025-07-29 13:02:58,398 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-29 13:02:58,398 - INFO - MainProcess - Loading model components...
2025-07-29 13:03:08,759 - INFO - MainProcess - All components loaded successfully.
2025-07-29 13:03:08,759 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-29 13:03:08,846 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-29 13:03:08,847 - INFO - MainProcess - Preprocessing video file: assets/video/25s_girl_0718_00.mp4...
2025-07-29 13:03:46,502 - INFO - MainProcess - Video preprocessed successfully. Found 644 frames/faces.
2025-07-29 13:03:46,502 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-29 13:03:46,517 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-29 13:03:46,572 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-29 13:03:46,572 - INFO - MainProcess - Detected target stream resolution from source video: 720x1080
2025-07-29 13:03:46,572 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/19s_girl_0728_00_idle.mp4
2025-07-29 13:03:49,648 - INFO - MainProcess - Processing 490 idle frames to match target resolution 720x1080
2025-07-29 13:03:50,360 - INFO - MainProcess - Idle stream queue populated with 30 chunks.
2025-07-29 13:03:50,360 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-29 13:03:50,360 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-29 13:03:50,360 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-29 13:03:50,510 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-29 13:03:50,511 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-29 13:03:50,515 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-29 13:03:50,516 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-29 13:03:50,547 - INFO - MainProcess - Video pipe opened for writing.
2025-07-29 13:03:50,555 - INFO - MainProcess - Audio pipe opened for writing.
2025-07-29 13:07:48,843 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-29 13:07:49,050 - INFO - MainProcess - [Task-86bf41c0-7f82-4241-8b08-f08803536742] Started processing. Expecting 6 chunks.
2025-07-29 13:07:49,050 - INFO - MainProcess - Task 86bf41c0-7f82-4241-8b08-f08803536742 has been started in the background.
2025-07-29 13:07:49,051 - INFO - MainProcess - 127.0.0.1 - - [29/Jul/2025 13:07:49] "POST /generate_video HTTP/1.1" 200 -
2025-07-29 13:07:53,144 - INFO - MainProcess - [Task-86bf41c0-7f82-4241-8b08-f08803536742] Chunk 0 sent to stream queue.
2025-07-29 13:07:53,198 - INFO - MainProcess - [Task-86bf41c0-7f82-4241-8b08-f08803536742] Chunk 1 sent to stream queue.
2025-07-29 13:07:53,385 - INFO - MainProcess - [Task-86bf41c0-7f82-4241-8b08-f08803536742] Chunk 2 sent to stream queue.
2025-07-29 13:07:54,208 - INFO - MainProcess - [Task-86bf41c0-7f82-4241-8b08-f08803536742] Chunk 3 sent to stream queue.
2025-07-29 13:07:54,208 - INFO - MainProcess - [Task-86bf41c0-7f82-4241-8b08-f08803536742] Chunk 4 sent to stream queue.
2025-07-29 13:07:54,209 - INFO - MainProcess - [Task-86bf41c0-7f82-4241-8b08-f08803536742] Chunk 5 sent to stream queue.
2025-07-29 13:07:54,209 - INFO - MainProcess - [Task-86bf41c0-7f82-4241-8b08-f08803536742] All chunks processed and queued successfully.
2025-07-29 13:07:54,209 - INFO - MainProcess - [Task-86bf41c0-7f82-4241-8b08-f08803536742] Processor thread finished and cleaned up.
2025-07-29 13:08:13,375 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-29 13:08:13,491 - INFO - MainProcess - [Task-5226321f-46f8-4035-864a-927040a54fab] Started processing. Expecting 6 chunks.
2025-07-29 13:08:13,491 - INFO - MainProcess - Task 5226321f-46f8-4035-864a-927040a54fab has been started in the background.
2025-07-29 13:08:13,492 - INFO - MainProcess - 127.0.0.1 - - [29/Jul/2025 13:08:13] "POST /generate_video HTTP/1.1" 200 -
2025-07-29 13:08:17,595 - INFO - MainProcess - [Task-5226321f-46f8-4035-864a-927040a54fab] Chunk 0 sent to stream queue.
2025-07-29 13:08:17,767 - INFO - MainProcess - [Task-5226321f-46f8-4035-864a-927040a54fab] Chunk 1 sent to stream queue.
2025-07-29 13:08:17,768 - INFO - MainProcess - [Task-5226321f-46f8-4035-864a-927040a54fab] Chunk 2 sent to stream queue.
2025-07-29 13:08:17,768 - INFO - MainProcess - [Task-5226321f-46f8-4035-864a-927040a54fab] Chunk 3 sent to stream queue.
2025-07-29 13:08:17,768 - INFO - MainProcess - [Task-5226321f-46f8-4035-864a-927040a54fab] Chunk 4 sent to stream queue.
2025-07-29 13:08:17,768 - INFO - MainProcess - [Task-5226321f-46f8-4035-864a-927040a54fab] Chunk 5 sent to stream queue.
2025-07-29 13:08:17,768 - INFO - MainProcess - [Task-5226321f-46f8-4035-864a-927040a54fab] All chunks processed and queued successfully.
2025-07-29 13:08:17,768 - INFO - MainProcess - [Task-5226321f-46f8-4035-864a-927040a54fab] Processor thread finished and cleaned up.
2025-07-29 14:15:54,288 - INFO - MainProcess - Starting Flask service...
2025-07-29 14:15:54,288 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-29 14:15:54,288 - INFO - MainProcess - Loading configuration file...
2025-07-29 14:15:54,300 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-29 14:15:54,300 - INFO - MainProcess - Loading model components...
2025-07-29 14:16:05,587 - INFO - MainProcess - All components loaded successfully.
2025-07-29 14:16:05,587 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-29 14:16:05,677 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-29 14:16:05,677 - INFO - MainProcess - Preprocessing video file: assets/video/25s_girl_0718_00.mp4...
2025-07-29 14:16:42,935 - INFO - MainProcess - Video preprocessed successfully. Found 644 frames/faces.
2025-07-29 14:16:42,935 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-29 14:16:42,948 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-29 14:16:43,005 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-29 14:16:43,005 - INFO - MainProcess - Detected target stream resolution from source video: 720x1080
2025-07-29 14:16:43,005 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/19s_girl_0728_00_idle.mp4
2025-07-29 14:16:46,044 - INFO - MainProcess - Processing 490 idle frames to match target resolution 720x1080
2025-07-29 14:16:46,861 - INFO - MainProcess - Idle stream queue populated with 30 chunks.
2025-07-29 14:16:46,862 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-29 14:16:46,866 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-29 14:16:46,866 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-29 14:16:46,879 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-29 14:16:47,062 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-29 14:16:47,063 - INFO - MainProcess - Video pipe opened for writing.
2025-07-29 14:16:47,070 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-29 14:16:47,070 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-29 14:16:47,070 - INFO - MainProcess - Audio pipe opened for writing.
2025-07-29 14:17:47,746 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-29 14:17:47,979 - INFO - MainProcess - [Task-351680d1-e4ca-46b8-a318-93b9fcf87058] Started processing. Expecting 6 chunks.
2025-07-29 14:17:47,979 - INFO - MainProcess - Task 351680d1-e4ca-46b8-a318-93b9fcf87058 has been started in the background.
2025-07-29 14:17:47,980 - INFO - MainProcess - 127.0.0.1 - - [29/Jul/2025 14:17:47] "POST /generate_video HTTP/1.1" 200 -
2025-07-29 14:17:52,014 - INFO - MainProcess - [Task-351680d1-e4ca-46b8-a318-93b9fcf87058] Chunk 0 sent to stream queue.
2025-07-29 14:17:52,020 - WARNING - MainProcess - Switching from IDLE to FORMAL stream. Clearing buffers...
2025-07-29 14:17:52,021 - INFO - MainProcess - Clearing internal writer queues to switch streams...
2025-07-29 14:17:52,021 - INFO - MainProcess - Writer queues cleared.
2025-07-29 14:17:52,123 - INFO - MainProcess - Formal stream finished. Switching back to IDLE stream.
2025-07-29 14:17:52,333 - INFO - MainProcess - [Task-351680d1-e4ca-46b8-a318-93b9fcf87058] Chunk 1 sent to stream queue.
2025-07-29 14:17:52,334 - INFO - MainProcess - [Task-351680d1-e4ca-46b8-a318-93b9fcf87058] Chunk 2 sent to stream queue.
2025-07-29 14:17:52,430 - WARNING - MainProcess - Switching from IDLE to FORMAL stream. Clearing buffers...
2025-07-29 14:17:52,430 - INFO - MainProcess - Clearing internal writer queues to switch streams...
2025-07-29 14:17:52,430 - INFO - MainProcess - Writer queues cleared.
2025-07-29 14:17:52,455 - INFO - MainProcess - [Task-351680d1-e4ca-46b8-a318-93b9fcf87058] Chunk 3 sent to stream queue.
2025-07-29 14:17:52,532 - INFO - MainProcess - Formal stream finished. Switching back to IDLE stream.
2025-07-29 14:17:52,710 - INFO - MainProcess - [Task-351680d1-e4ca-46b8-a318-93b9fcf87058] Chunk 4 sent to stream queue.
2025-07-29 14:17:52,710 - INFO - MainProcess - [Task-351680d1-e4ca-46b8-a318-93b9fcf87058] Chunk 5 sent to stream queue.
2025-07-29 14:17:52,711 - INFO - MainProcess - [Task-351680d1-e4ca-46b8-a318-93b9fcf87058] All chunks processed and queued successfully.
2025-07-29 14:17:52,711 - INFO - MainProcess - [Task-351680d1-e4ca-46b8-a318-93b9fcf87058] Processor thread finished and cleaned up.
2025-07-29 14:17:52,776 - WARNING - MainProcess - Switching from IDLE to FORMAL stream. Clearing buffers...
2025-07-29 14:17:52,776 - INFO - MainProcess - Clearing internal writer queues to switch streams...
2025-07-29 14:17:52,776 - INFO - MainProcess - Writer queues cleared.
2025-07-29 14:17:52,877 - INFO - MainProcess - Formal stream finished. Switching back to IDLE stream.
2025-07-29 14:18:24,307 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-29 14:18:24,429 - INFO - MainProcess - [Task-997a5d05-69cc-4712-b2c6-ac5a2ae74822] Started processing. Expecting 6 chunks.
2025-07-29 14:18:24,430 - INFO - MainProcess - Task 997a5d05-69cc-4712-b2c6-ac5a2ae74822 has been started in the background.
2025-07-29 14:18:24,499 - INFO - MainProcess - 127.0.0.1 - - [29/Jul/2025 14:18:24] "POST /generate_video HTTP/1.1" 200 -
2025-07-29 14:18:28,981 - INFO - MainProcess - [Task-997a5d05-69cc-4712-b2c6-ac5a2ae74822] Chunk 0 sent to stream queue.
2025-07-29 14:18:28,982 - INFO - MainProcess - [Task-997a5d05-69cc-4712-b2c6-ac5a2ae74822] Chunk 1 sent to stream queue.
2025-07-29 14:18:28,982 - INFO - MainProcess - [Task-997a5d05-69cc-4712-b2c6-ac5a2ae74822] Chunk 2 sent to stream queue.
2025-07-29 14:18:28,982 - INFO - MainProcess - [Task-997a5d05-69cc-4712-b2c6-ac5a2ae74822] Chunk 3 sent to stream queue.
2025-07-29 14:18:28,982 - INFO - MainProcess - [Task-997a5d05-69cc-4712-b2c6-ac5a2ae74822] Chunk 4 sent to stream queue.
2025-07-29 14:18:28,982 - INFO - MainProcess - [Task-997a5d05-69cc-4712-b2c6-ac5a2ae74822] Chunk 5 sent to stream queue.
2025-07-29 14:18:28,983 - INFO - MainProcess - [Task-997a5d05-69cc-4712-b2c6-ac5a2ae74822] All chunks processed and queued successfully.
2025-07-29 14:18:28,983 - INFO - MainProcess - [Task-997a5d05-69cc-4712-b2c6-ac5a2ae74822] Processor thread finished and cleaned up.
2025-07-29 14:18:29,105 - WARNING - MainProcess - Switching from IDLE to FORMAL stream. Clearing buffers...
2025-07-29 14:18:29,105 - INFO - MainProcess - Clearing internal writer queues to switch streams...
2025-07-29 14:18:29,105 - INFO - MainProcess - Writer queues cleared.
2025-07-29 14:18:29,206 - INFO - MainProcess - Formal stream finished. Switching back to IDLE stream.
2025-07-29 14:19:27,301 - ERROR - MainProcess - Video pipe write error: [Errno 32] Broken pipe
2025-07-29 14:19:27,301 - ERROR - MainProcess - Audio pipe write error: [Errno 32] Broken pipe
2025-07-29 14:19:27,301 - INFO - MainProcess - Video writer thread finished.
2025-07-29 14:19:27,302 - INFO - MainProcess - Audio writer thread finished.
2025-07-29 14:19:37,329 - INFO - MainProcess - Starting Flask service...
2025-07-29 14:19:37,330 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-29 14:19:37,330 - INFO - MainProcess - Loading configuration file...
2025-07-29 14:19:37,342 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-29 14:19:37,342 - INFO - MainProcess - Loading model components...
2025-07-29 14:19:47,638 - INFO - MainProcess - All components loaded successfully.
2025-07-29 14:19:47,638 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-29 14:19:47,732 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-29 14:19:47,732 - INFO - MainProcess - Preprocessing video file: assets/video/25s_girl_0718_00.mp4...
2025-07-29 14:20:24,387 - INFO - MainProcess - Video preprocessed successfully. Found 644 frames/faces.
2025-07-29 14:20:24,388 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-29 14:20:24,401 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-29 14:20:24,448 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-29 14:20:24,448 - INFO - MainProcess - Detected target stream resolution from source video: 720x1080
2025-07-29 14:20:24,448 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/19s_girl_0728_00_idle.mp4
2025-07-29 14:20:27,510 - INFO - MainProcess - Processing 490 idle frames to match target resolution 720x1080
2025-07-29 14:20:28,233 - INFO - MainProcess - Idle stream queue populated with 30 chunks.
2025-07-29 14:20:28,233 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-29 14:20:28,234 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-29 14:20:28,234 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-29 14:20:28,420 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-29 14:20:28,420 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-29 14:20:28,426 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-29 14:20:28,426 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-29 14:20:28,453 - INFO - MainProcess - Video pipe opened for writing.
2025-07-29 14:20:28,457 - INFO - MainProcess - Audio pipe opened for writing.
2025-07-29 14:20:52,767 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-29 14:20:52,952 - INFO - MainProcess - [Task-9e998932-a469-4aa1-8339-e1c01a980047] Started processing. Expecting 6 chunks.
2025-07-29 14:20:52,953 - INFO - MainProcess - Task 9e998932-a469-4aa1-8339-e1c01a980047 has been started in the background.
2025-07-29 14:20:52,954 - INFO - MainProcess - 127.0.0.1 - - [29/Jul/2025 14:20:52] "POST /generate_video HTTP/1.1" 200 -
2025-07-29 14:20:57,058 - INFO - MainProcess - [Task-9e998932-a469-4aa1-8339-e1c01a980047] Chunk 0 sent to stream queue.
2025-07-29 14:20:57,065 - WARNING - MainProcess - Switching from IDLE to FORMAL stream. Clearing buffers...
2025-07-29 14:20:57,065 - INFO - MainProcess - Clearing internal writer queues to switch streams...
2025-07-29 14:20:57,065 - INFO - MainProcess - Writer queues cleared.
2025-07-29 14:20:57,166 - INFO - MainProcess - Formal stream finished. Switching back to IDLE stream.
2025-07-29 14:20:57,680 - INFO - MainProcess - [Task-9e998932-a469-4aa1-8339-e1c01a980047] Chunk 1 sent to stream queue.
2025-07-29 14:20:57,681 - INFO - MainProcess - [Task-9e998932-a469-4aa1-8339-e1c01a980047] Chunk 2 sent to stream queue.
2025-07-29 14:20:57,681 - INFO - MainProcess - [Task-9e998932-a469-4aa1-8339-e1c01a980047] Chunk 3 sent to stream queue.
2025-07-29 14:20:57,681 - INFO - MainProcess - [Task-9e998932-a469-4aa1-8339-e1c01a980047] Chunk 4 sent to stream queue.
2025-07-29 14:20:57,715 - WARNING - MainProcess - Switching from IDLE to FORMAL stream. Clearing buffers...
2025-07-29 14:20:57,715 - INFO - MainProcess - Clearing internal writer queues to switch streams...
2025-07-29 14:20:57,715 - INFO - MainProcess - Writer queues cleared.
2025-07-29 14:20:57,803 - INFO - MainProcess - [Task-9e998932-a469-4aa1-8339-e1c01a980047] Chunk 5 sent to stream queue.
2025-07-29 14:20:57,803 - INFO - MainProcess - [Task-9e998932-a469-4aa1-8339-e1c01a980047] All chunks processed and queued successfully.
2025-07-29 14:20:57,803 - INFO - MainProcess - [Task-9e998932-a469-4aa1-8339-e1c01a980047] Processor thread finished and cleaned up.
2025-07-29 14:20:57,817 - INFO - MainProcess - Formal stream finished. Switching back to IDLE stream.
2025-07-29 14:21:15,146 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-29 14:21:15,277 - INFO - MainProcess - [Task-205e50a3-8460-4020-b969-84e3a2ce9f52] Started processing. Expecting 6 chunks.
2025-07-29 14:21:15,277 - INFO - MainProcess - Task 205e50a3-8460-4020-b969-84e3a2ce9f52 has been started in the background.
2025-07-29 14:21:15,319 - INFO - MainProcess - 127.0.0.1 - - [29/Jul/2025 14:21:15] "POST /generate_video HTTP/1.1" 200 -
2025-07-29 14:21:19,492 - INFO - MainProcess - [Task-205e50a3-8460-4020-b969-84e3a2ce9f52] Chunk 0 sent to stream queue.
2025-07-29 14:21:19,493 - INFO - MainProcess - [Task-205e50a3-8460-4020-b969-84e3a2ce9f52] Chunk 1 sent to stream queue.
2025-07-29 14:21:19,493 - INFO - MainProcess - [Task-205e50a3-8460-4020-b969-84e3a2ce9f52] Chunk 2 sent to stream queue.
2025-07-29 14:21:19,493 - INFO - MainProcess - [Task-205e50a3-8460-4020-b969-84e3a2ce9f52] Chunk 3 sent to stream queue.
2025-07-29 14:21:19,494 - INFO - MainProcess - [Task-205e50a3-8460-4020-b969-84e3a2ce9f52] Chunk 4 sent to stream queue.
2025-07-29 14:21:19,494 - INFO - MainProcess - [Task-205e50a3-8460-4020-b969-84e3a2ce9f52] Chunk 5 sent to stream queue.
2025-07-29 14:21:19,494 - INFO - MainProcess - [Task-205e50a3-8460-4020-b969-84e3a2ce9f52] All chunks processed and queued successfully.
2025-07-29 14:21:19,494 - INFO - MainProcess - [Task-205e50a3-8460-4020-b969-84e3a2ce9f52] Processor thread finished and cleaned up.
2025-07-29 14:21:19,580 - WARNING - MainProcess - Switching from IDLE to FORMAL stream. Clearing buffers...
2025-07-29 14:21:19,580 - INFO - MainProcess - Clearing internal writer queues to switch streams...
2025-07-29 14:21:19,580 - INFO - MainProcess - Writer queues cleared.
2025-07-29 14:21:19,682 - INFO - MainProcess - Formal stream finished. Switching back to IDLE stream.
2025-07-29 14:30:48,433 - INFO - MainProcess - Starting Flask service...
2025-07-29 14:30:48,433 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-29 14:30:48,433 - INFO - MainProcess - Loading configuration file...
2025-07-29 14:30:48,445 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-29 14:30:48,446 - INFO - MainProcess - Loading model components...
2025-07-29 14:31:01,409 - INFO - MainProcess - All components loaded successfully.
2025-07-29 14:31:01,409 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-29 14:31:01,502 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-29 14:31:01,502 - INFO - MainProcess - Preprocessing video file: assets/video/25s_girl_0718_00.mp4...
2025-07-29 14:31:38,231 - INFO - MainProcess - Video preprocessed successfully. Found 644 frames/faces.
2025-07-29 14:31:38,232 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-29 14:31:38,247 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-29 14:31:38,299 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-29 14:31:38,299 - INFO - MainProcess - Detected target stream resolution from source video: 720x1080
2025-07-29 14:31:38,300 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/19s_girl_0728_00_idle.mp4
2025-07-29 14:31:41,372 - INFO - MainProcess - Processing 490 idle frames to match target resolution 720x1080
2025-07-29 14:31:42,135 - INFO - MainProcess - Idle stream queue populated with 30 chunks.
2025-07-29 14:31:42,135 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-29 14:31:42,136 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-29 14:31:42,136 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-29 14:31:42,262 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-29 14:31:42,270 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-29 14:31:42,281 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-29 14:31:42,281 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-29 14:31:42,319 - INFO - MainProcess - Video pipe opened for writing.
2025-07-29 14:31:42,322 - INFO - MainProcess - Audio pipe opened for writing.
2025-07-29 17:08:41,569 - ERROR - MainProcess - 45.142.193.132 - - [29/Jul/2025 17:08:41] code 400, message Bad HTTP/0.9 request type ('\x03\x00\x00/*à\x00\x00\x00\x00\x00Cookie:')
2025-07-29 17:08:41,570 - INFO - MainProcess - 45.142.193.132 - - [29/Jul/2025 17:08:41] "[35m[1m\x03\x00\x00/*à\x00\x00\x00\x00\x00Cookie: mstshash=Administr[0m" HTTPStatus.BAD_REQUEST -
2025-07-29 17:17:14,436 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-29 17:17:14,648 - INFO - MainProcess - [Task-2933c5e6-9c74-47f0-b881-4e545d3957e5] Started processing. Expecting 6 chunks.
2025-07-29 17:17:14,649 - INFO - MainProcess - Task 2933c5e6-9c74-47f0-b881-4e545d3957e5 has been started in the background.
2025-07-29 17:17:14,650 - INFO - MainProcess - 127.0.0.1 - - [29/Jul/2025 17:17:14] "POST /generate_video HTTP/1.1" 200 -
2025-07-29 17:17:18,806 - INFO - MainProcess - [Task-2933c5e6-9c74-47f0-b881-4e545d3957e5] Chunk 0 sent to stream queue.
2025-07-29 17:17:18,810 - WARNING - MainProcess - Switching from IDLE to FORMAL stream. Clearing buffers...
2025-07-29 17:17:18,811 - INFO - MainProcess - Clearing internal writer queues to switch streams...
2025-07-29 17:17:18,811 - INFO - MainProcess - Writer queues cleared.
2025-07-29 17:17:18,911 - INFO - MainProcess - Formal stream finished. Switching back to IDLE stream.
2025-07-29 17:17:19,313 - INFO - MainProcess - [Task-2933c5e6-9c74-47f0-b881-4e545d3957e5] Chunk 1 sent to stream queue.
2025-07-29 17:17:19,314 - INFO - MainProcess - [Task-2933c5e6-9c74-47f0-b881-4e545d3957e5] Chunk 2 sent to stream queue.
2025-07-29 17:17:19,315 - INFO - MainProcess - [Task-2933c5e6-9c74-47f0-b881-4e545d3957e5] Chunk 3 sent to stream queue.
2025-07-29 17:17:19,331 - WARNING - MainProcess - Switching from IDLE to FORMAL stream. Clearing buffers...
2025-07-29 17:17:19,332 - INFO - MainProcess - Clearing internal writer queues to switch streams...
2025-07-29 17:17:19,332 - INFO - MainProcess - Writer queues cleared.
2025-07-29 17:17:19,436 - INFO - MainProcess - Formal stream finished. Switching back to IDLE stream.
2025-07-29 17:17:19,516 - INFO - MainProcess - [Task-2933c5e6-9c74-47f0-b881-4e545d3957e5] Chunk 4 sent to stream queue.
2025-07-29 17:17:19,517 - INFO - MainProcess - [Task-2933c5e6-9c74-47f0-b881-4e545d3957e5] Chunk 5 sent to stream queue.
2025-07-29 17:17:19,517 - INFO - MainProcess - [Task-2933c5e6-9c74-47f0-b881-4e545d3957e5] All chunks processed and queued successfully.
2025-07-29 17:17:19,517 - INFO - MainProcess - [Task-2933c5e6-9c74-47f0-b881-4e545d3957e5] Processor thread finished and cleaned up.
2025-07-29 17:17:19,529 - WARNING - MainProcess - Switching from IDLE to FORMAL stream. Clearing buffers...
2025-07-29 17:17:19,529 - INFO - MainProcess - Clearing internal writer queues to switch streams...
2025-07-29 17:17:19,536 - INFO - MainProcess - Writer queues cleared.
2025-07-29 17:17:19,638 - INFO - MainProcess - Formal stream finished. Switching back to IDLE stream.
2025-07-29 17:18:19,393 - INFO - MainProcess - Starting Flask service...
2025-07-29 17:18:19,393 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-29 17:18:19,393 - INFO - MainProcess - Loading configuration file...
2025-07-29 17:18:19,406 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-29 17:18:19,406 - INFO - MainProcess - Loading model components...
2025-07-29 17:18:30,885 - INFO - MainProcess - All components loaded successfully.
2025-07-29 17:18:30,885 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-29 17:18:30,975 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-29 17:18:30,975 - INFO - MainProcess - Preprocessing video file: assets/video/25s_girl_0718_00.mp4...
2025-07-29 17:19:08,005 - INFO - MainProcess - Video preprocessed successfully. Found 644 frames/faces.
2025-07-29 17:19:08,005 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-29 17:19:08,021 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-29 17:19:08,072 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-29 17:19:08,072 - INFO - MainProcess - Detected target stream resolution from source video: 720x1080
2025-07-29 17:19:08,073 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/19s_girl_0728_00_idle.mp4
2025-07-29 17:19:11,170 - INFO - MainProcess - Processing 490 idle frames to match target resolution 720x1080
2025-07-29 17:19:11,890 - INFO - MainProcess - Idle stream queue populated with 30 chunks.
2025-07-29 17:19:11,891 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-29 17:19:11,892 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-29 17:19:11,892 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-29 17:19:12,071 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-29 17:19:12,073 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-29 17:19:12,081 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-29 17:19:12,081 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-29 17:19:12,104 - INFO - MainProcess - Video pipe opened for writing.
2025-07-29 17:19:12,110 - INFO - MainProcess - Audio pipe opened for writing.
2025-07-29 17:20:40,968 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-29 17:20:41,201 - INFO - MainProcess - [Task-d0c785a0-bfde-45c0-a0f0-4e953ca4d5d2] Started processing. Expecting 6 chunks.
2025-07-29 17:20:41,202 - INFO - MainProcess - Task d0c785a0-bfde-45c0-a0f0-4e953ca4d5d2 has been started in the background.
2025-07-29 17:20:41,204 - INFO - MainProcess - 127.0.0.1 - - [29/Jul/2025 17:20:41] "POST /generate_video HTTP/1.1" 200 -
2025-07-29 17:20:45,512 - INFO - MainProcess - [Task-d0c785a0-bfde-45c0-a0f0-4e953ca4d5d2] Chunk 0 sent to stream queue.
2025-07-29 17:20:45,513 - INFO - MainProcess - [Task-d0c785a0-bfde-45c0-a0f0-4e953ca4d5d2] Chunk 1 sent to stream queue.
2025-07-29 17:20:45,523 - WARNING - MainProcess - Switching from IDLE to FORMAL stream. Clearing buffers...
2025-07-29 17:20:45,523 - INFO - MainProcess - Clearing internal writer queues to switch streams...
2025-07-29 17:20:45,524 - INFO - MainProcess - Writer queues cleared.
2025-07-29 17:20:45,625 - INFO - MainProcess - Formal stream finished. Switching back to IDLE stream.
2025-07-29 17:20:46,030 - INFO - MainProcess - [Task-d0c785a0-bfde-45c0-a0f0-4e953ca4d5d2] Chunk 2 sent to stream queue.
2025-07-29 17:20:46,031 - INFO - MainProcess - [Task-d0c785a0-bfde-45c0-a0f0-4e953ca4d5d2] Chunk 3 sent to stream queue.
2025-07-29 17:20:46,080 - WARNING - MainProcess - Switching from IDLE to FORMAL stream. Clearing buffers...
2025-07-29 17:20:46,081 - INFO - MainProcess - Clearing internal writer queues to switch streams...
2025-07-29 17:20:46,081 - INFO - MainProcess - Writer queues cleared.
2025-07-29 17:20:46,183 - INFO - MainProcess - Formal stream finished. Switching back to IDLE stream.
2025-07-29 17:20:46,285 - INFO - MainProcess - [Task-d0c785a0-bfde-45c0-a0f0-4e953ca4d5d2] Chunk 4 sent to stream queue.
2025-07-29 17:20:46,286 - INFO - MainProcess - [Task-d0c785a0-bfde-45c0-a0f0-4e953ca4d5d2] Chunk 5 sent to stream queue.
2025-07-29 17:20:46,286 - INFO - MainProcess - [Task-d0c785a0-bfde-45c0-a0f0-4e953ca4d5d2] All chunks processed and queued successfully.
2025-07-29 17:20:46,286 - INFO - MainProcess - [Task-d0c785a0-bfde-45c0-a0f0-4e953ca4d5d2] Processor thread finished and cleaned up.
2025-07-29 17:20:46,353 - WARNING - MainProcess - Switching from IDLE to FORMAL stream. Clearing buffers...
2025-07-29 17:20:46,353 - INFO - MainProcess - Clearing internal writer queues to switch streams...
2025-07-29 17:20:46,353 - INFO - MainProcess - Writer queues cleared.
2025-07-29 17:20:46,455 - INFO - MainProcess - Formal stream finished. Switching back to IDLE stream.
2025-07-29 17:23:03,993 - ERROR - MainProcess - Video pipe write error: [Errno 32] Broken pipe
2025-07-29 17:23:03,993 - ERROR - MainProcess - Audio pipe write error: [Errno 32] Broken pipe
2025-07-29 17:23:03,994 - INFO - MainProcess - Video writer thread finished.
2025-07-29 17:23:03,994 - INFO - MainProcess - Audio writer thread finished.
2025-07-29 17:23:14,308 - INFO - MainProcess - Starting Flask service...
2025-07-29 17:23:14,308 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-29 17:23:14,308 - INFO - MainProcess - Loading configuration file...
2025-07-29 17:23:14,320 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-29 17:23:14,320 - INFO - MainProcess - Loading model components...
2025-07-29 17:23:24,573 - INFO - MainProcess - All components loaded successfully.
2025-07-29 17:23:24,573 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-29 17:23:24,660 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-29 17:23:24,660 - INFO - MainProcess - Preprocessing video file: assets/video/25s_girl_0718_00.mp4...
2025-07-29 17:24:00,581 - INFO - MainProcess - Video preprocessed successfully. Found 644 frames/faces.
2025-07-29 17:24:00,582 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-29 17:24:00,599 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-29 17:24:00,687 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-29 17:24:00,687 - INFO - MainProcess - Detected target stream resolution from source video: 720x1080
2025-07-29 17:24:00,687 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/19s_girl_0728_00_idle.mp4
2025-07-29 17:24:03,982 - INFO - MainProcess - Processing 490 idle frames to match target resolution 720x1080
2025-07-29 17:24:04,955 - INFO - MainProcess - Idle stream queue populated with 30 chunks.
2025-07-29 17:24:04,955 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-29 17:24:04,956 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-29 17:24:04,956 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-29 17:24:05,111 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-29 17:24:05,113 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-29 17:24:05,121 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-29 17:24:05,122 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-29 17:24:05,149 - INFO - MainProcess - Video pipe opened for writing.
2025-07-29 17:24:05,154 - INFO - MainProcess - Audio pipe opened for writing.
2025-07-29 17:35:15,172 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-29 17:35:15,377 - INFO - MainProcess - [Task-ef932ab7-bdae-4fc3-be20-47deec4dca56] Started processing. Expecting 6 chunks.
2025-07-29 17:35:15,378 - INFO - MainProcess - Task ef932ab7-bdae-4fc3-be20-47deec4dca56 has been started in the background.
2025-07-29 17:35:15,379 - INFO - MainProcess - 127.0.0.1 - - [29/Jul/2025 17:35:15] "POST /generate_video HTTP/1.1" 200 -
2025-07-29 17:35:19,404 - INFO - MainProcess - [Task-ef932ab7-bdae-4fc3-be20-47deec4dca56] Chunk 0 sent to stream queue.
2025-07-29 17:35:19,485 - INFO - MainProcess - [Task-ef932ab7-bdae-4fc3-be20-47deec4dca56] Chunk 1 sent to stream queue.
2025-07-29 17:35:20,187 - INFO - MainProcess - [Task-ef932ab7-bdae-4fc3-be20-47deec4dca56] Chunk 2 sent to stream queue.
2025-07-29 17:35:20,188 - INFO - MainProcess - [Task-ef932ab7-bdae-4fc3-be20-47deec4dca56] Chunk 3 sent to stream queue.
2025-07-29 17:35:20,188 - INFO - MainProcess - [Task-ef932ab7-bdae-4fc3-be20-47deec4dca56] Chunk 4 sent to stream queue.
2025-07-29 17:35:20,188 - INFO - MainProcess - [Task-ef932ab7-bdae-4fc3-be20-47deec4dca56] Chunk 5 sent to stream queue.
2025-07-29 17:35:20,188 - INFO - MainProcess - [Task-ef932ab7-bdae-4fc3-be20-47deec4dca56] All chunks processed and queued successfully.
2025-07-29 17:35:20,188 - INFO - MainProcess - [Task-ef932ab7-bdae-4fc3-be20-47deec4dca56] Processor thread finished and cleaned up.
2025-07-29 17:35:47,092 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-29 17:35:47,217 - INFO - MainProcess - [Task-1729c84d-73f9-4846-9ff2-ea9b9462df9a] Started processing. Expecting 6 chunks.
2025-07-29 17:35:47,218 - INFO - MainProcess - Task 1729c84d-73f9-4846-9ff2-ea9b9462df9a has been started in the background.
2025-07-29 17:35:47,290 - INFO - MainProcess - 127.0.0.1 - - [29/Jul/2025 17:35:47] "POST /generate_video HTTP/1.1" 200 -
2025-07-29 17:35:52,795 - INFO - MainProcess - [Task-1729c84d-73f9-4846-9ff2-ea9b9462df9a] Chunk 0 sent to stream queue.
2025-07-29 17:35:54,300 - INFO - MainProcess - [Task-1729c84d-73f9-4846-9ff2-ea9b9462df9a] Chunk 1 sent to stream queue.
2025-07-29 17:35:54,300 - INFO - MainProcess - [Task-1729c84d-73f9-4846-9ff2-ea9b9462df9a] Chunk 2 sent to stream queue.
2025-07-29 17:35:54,300 - INFO - MainProcess - [Task-1729c84d-73f9-4846-9ff2-ea9b9462df9a] Chunk 3 sent to stream queue.
2025-07-29 17:35:54,300 - INFO - MainProcess - [Task-1729c84d-73f9-4846-9ff2-ea9b9462df9a] Chunk 4 sent to stream queue.
2025-07-29 17:35:54,301 - INFO - MainProcess - [Task-1729c84d-73f9-4846-9ff2-ea9b9462df9a] Chunk 5 sent to stream queue.
2025-07-29 17:35:54,301 - INFO - MainProcess - [Task-1729c84d-73f9-4846-9ff2-ea9b9462df9a] All chunks processed and queued successfully.
2025-07-29 17:35:54,301 - INFO - MainProcess - [Task-1729c84d-73f9-4846-9ff2-ea9b9462df9a] Processor thread finished and cleaned up.
2025-07-29 17:36:12,977 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-29 17:36:13,075 - INFO - MainProcess - [Task-5fcacb43-4594-486f-85aa-0afa2098798a] Started processing. Expecting 6 chunks.
2025-07-29 17:36:13,075 - INFO - MainProcess - Task 5fcacb43-4594-486f-85aa-0afa2098798a has been started in the background.
2025-07-29 17:36:13,121 - INFO - MainProcess - 127.0.0.1 - - [29/Jul/2025 17:36:13] "POST /generate_video HTTP/1.1" 200 -
2025-07-29 17:36:15,188 - INFO - MainProcess - [Task-5fcacb43-4594-486f-85aa-0afa2098798a] Chunk 0 sent to stream queue.
2025-07-29 17:36:15,430 - INFO - MainProcess - [Task-5fcacb43-4594-486f-85aa-0afa2098798a] Chunk 1 sent to stream queue.
2025-07-29 17:36:15,522 - INFO - MainProcess - [Task-5fcacb43-4594-486f-85aa-0afa2098798a] Chunk 2 sent to stream queue.
2025-07-29 17:36:15,626 - INFO - MainProcess - [Task-5fcacb43-4594-486f-85aa-0afa2098798a] Chunk 3 sent to stream queue.
2025-07-29 17:36:15,724 - INFO - MainProcess - [Task-5fcacb43-4594-486f-85aa-0afa2098798a] Chunk 4 sent to stream queue.
2025-07-29 17:36:15,828 - INFO - MainProcess - [Task-5fcacb43-4594-486f-85aa-0afa2098798a] Chunk 5 sent to stream queue.
2025-07-29 17:36:15,828 - INFO - MainProcess - [Task-5fcacb43-4594-486f-85aa-0afa2098798a] All chunks processed and queued successfully.
2025-07-29 17:36:15,828 - INFO - MainProcess - [Task-5fcacb43-4594-486f-85aa-0afa2098798a] Processor thread finished and cleaned up.
2025-07-29 17:36:33,770 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-29 17:36:33,874 - INFO - MainProcess - [Task-6f355fb5-4540-4337-80d9-81af1325bfe5] Started processing. Expecting 6 chunks.
2025-07-29 17:36:33,874 - INFO - MainProcess - Task 6f355fb5-4540-4337-80d9-81af1325bfe5 has been started in the background.
2025-07-29 17:36:33,874 - INFO - MainProcess - 127.0.0.1 - - [29/Jul/2025 17:36:33] "POST /generate_video HTTP/1.1" 200 -
2025-07-29 17:36:36,104 - INFO - MainProcess - [Task-6f355fb5-4540-4337-80d9-81af1325bfe5] Chunk 0 sent to stream queue.
2025-07-29 17:36:36,199 - INFO - MainProcess - [Task-6f355fb5-4540-4337-80d9-81af1325bfe5] Chunk 1 sent to stream queue.
2025-07-29 17:36:36,292 - INFO - MainProcess - [Task-6f355fb5-4540-4337-80d9-81af1325bfe5] Chunk 2 sent to stream queue.
2025-07-29 17:36:36,501 - INFO - MainProcess - [Task-6f355fb5-4540-4337-80d9-81af1325bfe5] Chunk 3 sent to stream queue.
2025-07-29 17:36:36,502 - INFO - MainProcess - [Task-6f355fb5-4540-4337-80d9-81af1325bfe5] Chunk 4 sent to stream queue.
2025-07-29 17:36:36,603 - INFO - MainProcess - [Task-6f355fb5-4540-4337-80d9-81af1325bfe5] Chunk 5 sent to stream queue.
2025-07-29 17:36:36,603 - INFO - MainProcess - [Task-6f355fb5-4540-4337-80d9-81af1325bfe5] All chunks processed and queued successfully.
2025-07-29 17:36:36,603 - INFO - MainProcess - [Task-6f355fb5-4540-4337-80d9-81af1325bfe5] Processor thread finished and cleaned up.
2025-07-29 17:37:01,109 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-29 17:37:01,213 - INFO - MainProcess - [Task-5de6f482-2223-415d-ab0a-603263a4fece] Started processing. Expecting 6 chunks.
2025-07-29 17:37:01,214 - INFO - MainProcess - Task 5de6f482-2223-415d-ab0a-603263a4fece has been started in the background.
2025-07-29 17:37:01,215 - INFO - MainProcess - 127.0.0.1 - - [29/Jul/2025 17:37:01] "POST /generate_video HTTP/1.1" 200 -
2025-07-29 17:37:03,340 - INFO - MainProcess - [Task-5de6f482-2223-415d-ab0a-603263a4fece] Chunk 0 sent to stream queue.
2025-07-29 17:37:03,566 - INFO - MainProcess - [Task-5de6f482-2223-415d-ab0a-603263a4fece] Chunk 1 sent to stream queue.
2025-07-29 17:37:03,683 - INFO - MainProcess - [Task-5de6f482-2223-415d-ab0a-603263a4fece] Chunk 2 sent to stream queue.
2025-07-29 17:37:03,923 - INFO - MainProcess - [Task-5de6f482-2223-415d-ab0a-603263a4fece] Chunk 3 sent to stream queue.
2025-07-29 17:37:03,923 - INFO - MainProcess - [Task-5de6f482-2223-415d-ab0a-603263a4fece] Chunk 4 sent to stream queue.
2025-07-29 17:37:04,049 - INFO - MainProcess - [Task-5de6f482-2223-415d-ab0a-603263a4fece] Chunk 5 sent to stream queue.
2025-07-29 17:37:04,049 - INFO - MainProcess - [Task-5de6f482-2223-415d-ab0a-603263a4fece] All chunks processed and queued successfully.
2025-07-29 17:37:04,049 - INFO - MainProcess - [Task-5de6f482-2223-415d-ab0a-603263a4fece] Processor thread finished and cleaned up.
2025-07-29 17:55:44,134 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-29 17:55:44,245 - INFO - MainProcess - [Task-56229d49-8bc2-4913-885f-285df2313282] Started processing. Expecting 6 chunks.
2025-07-29 17:55:44,246 - INFO - MainProcess - Task 56229d49-8bc2-4913-885f-285df2313282 has been started in the background.
2025-07-29 17:55:44,295 - INFO - MainProcess - 127.0.0.1 - - [29/Jul/2025 17:55:44] "POST /generate_video HTTP/1.1" 200 -
2025-07-29 17:55:46,554 - INFO - MainProcess - [Task-56229d49-8bc2-4913-885f-285df2313282] Chunk 0 sent to stream queue.
2025-07-29 17:55:46,555 - INFO - MainProcess - [Task-56229d49-8bc2-4913-885f-285df2313282] Chunk 1 sent to stream queue.
2025-07-29 17:55:46,668 - INFO - MainProcess - [Task-56229d49-8bc2-4913-885f-285df2313282] Chunk 2 sent to stream queue.
2025-07-29 17:55:47,037 - INFO - MainProcess - [Task-56229d49-8bc2-4913-885f-285df2313282] Chunk 3 sent to stream queue.
2025-07-29 17:55:47,037 - INFO - MainProcess - [Task-56229d49-8bc2-4913-885f-285df2313282] Chunk 4 sent to stream queue.
2025-07-29 17:55:47,038 - INFO - MainProcess - [Task-56229d49-8bc2-4913-885f-285df2313282] Chunk 5 sent to stream queue.
2025-07-29 17:55:47,038 - INFO - MainProcess - [Task-56229d49-8bc2-4913-885f-285df2313282] All chunks processed and queued successfully.
2025-07-29 17:55:47,038 - INFO - MainProcess - [Task-56229d49-8bc2-4913-885f-285df2313282] Processor thread finished and cleaned up.
2025-07-29 18:03:50,965 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-29 18:03:51,077 - INFO - MainProcess - [Task-652429a6-f5ea-4e51-8ae8-392f561b3762] Started processing. Expecting 6 chunks.
2025-07-29 18:03:51,078 - INFO - MainProcess - Task 652429a6-f5ea-4e51-8ae8-392f561b3762 has been started in the background.
2025-07-29 18:03:51,141 - INFO - MainProcess - 127.0.0.1 - - [29/Jul/2025 18:03:51] "POST /generate_video HTTP/1.1" 200 -
2025-07-29 18:03:53,159 - INFO - MainProcess - [Task-652429a6-f5ea-4e51-8ae8-392f561b3762] Chunk 0 sent to stream queue.
2025-07-29 18:03:53,371 - INFO - MainProcess - [Task-652429a6-f5ea-4e51-8ae8-392f561b3762] Chunk 1 sent to stream queue.
2025-07-29 18:03:53,483 - INFO - MainProcess - [Task-652429a6-f5ea-4e51-8ae8-392f561b3762] Chunk 2 sent to stream queue.
2025-07-29 18:03:53,609 - INFO - MainProcess - [Task-652429a6-f5ea-4e51-8ae8-392f561b3762] Chunk 3 sent to stream queue.
2025-07-29 18:03:53,715 - INFO - MainProcess - [Task-652429a6-f5ea-4e51-8ae8-392f561b3762] Chunk 4 sent to stream queue.
2025-07-29 18:03:53,818 - INFO - MainProcess - [Task-652429a6-f5ea-4e51-8ae8-392f561b3762] Chunk 5 sent to stream queue.
2025-07-29 18:03:53,818 - INFO - MainProcess - [Task-652429a6-f5ea-4e51-8ae8-392f561b3762] All chunks processed and queued successfully.
2025-07-29 18:03:53,818 - INFO - MainProcess - [Task-652429a6-f5ea-4e51-8ae8-392f561b3762] Processor thread finished and cleaned up.
2025-07-29 18:43:56,920 - INFO - MainProcess - Starting Flask service...
2025-07-29 18:43:56,920 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-29 18:43:56,920 - INFO - MainProcess - Loading configuration file...
2025-07-29 18:43:56,933 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-29 18:43:56,933 - INFO - MainProcess - Loading model components...
2025-07-29 18:44:12,471 - INFO - MainProcess - All components loaded successfully.
2025-07-29 18:44:12,472 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-29 18:44:12,566 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-29 18:44:12,566 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_01_formal.mp4...
2025-07-29 18:44:35,023 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-29 18:44:35,023 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-29 18:44:35,036 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-29 18:44:35,079 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-29 18:44:35,079 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-29 18:44:35,079 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/19s_girl_0728_00_idle.mp4
2025-07-29 18:44:38,300 - INFO - MainProcess - Processing 490 idle frames to match target resolution 832x1248
2025-07-29 18:44:39,351 - INFO - MainProcess - Idle stream queue populated with 30 chunks.
2025-07-29 18:44:39,351 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-29 18:44:39,351 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-29 18:44:39,352 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-29 18:44:39,464 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-29 18:44:39,465 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-29 18:44:39,469 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-29 18:44:39,469 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-29 18:44:39,494 - INFO - MainProcess - Video pipe opened for writing.
2025-07-29 18:44:39,499 - INFO - MainProcess - Audio pipe opened for writing.
2025-07-29 18:45:59,782 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-29 18:45:59,982 - INFO - MainProcess - [Task-cf6fffde-eaf9-47c8-a8a5-2edaf026d72c] Started processing. Expecting 6 chunks.
2025-07-29 18:45:59,982 - INFO - MainProcess - Task cf6fffde-eaf9-47c8-a8a5-2edaf026d72c has been started in the background.
2025-07-29 18:45:59,983 - INFO - MainProcess - 127.0.0.1 - - [29/Jul/2025 18:45:59] "POST /generate_video HTTP/1.1" 200 -
2025-07-29 18:46:04,405 - INFO - MainProcess - [Task-cf6fffde-eaf9-47c8-a8a5-2edaf026d72c] Chunk 0 sent to stream queue.
2025-07-29 18:46:04,755 - INFO - MainProcess - [Task-cf6fffde-eaf9-47c8-a8a5-2edaf026d72c] Chunk 1 sent to stream queue.
2025-07-29 18:46:05,042 - INFO - MainProcess - [Task-cf6fffde-eaf9-47c8-a8a5-2edaf026d72c] Chunk 2 sent to stream queue.
2025-07-29 18:46:05,446 - INFO - MainProcess - [Task-cf6fffde-eaf9-47c8-a8a5-2edaf026d72c] Chunk 3 sent to stream queue.
2025-07-29 18:46:05,447 - INFO - MainProcess - [Task-cf6fffde-eaf9-47c8-a8a5-2edaf026d72c] Chunk 4 sent to stream queue.
2025-07-29 18:46:05,622 - INFO - MainProcess - [Task-cf6fffde-eaf9-47c8-a8a5-2edaf026d72c] Chunk 5 sent to stream queue.
2025-07-29 18:46:05,622 - INFO - MainProcess - [Task-cf6fffde-eaf9-47c8-a8a5-2edaf026d72c] All chunks processed and queued successfully.
2025-07-29 18:46:05,622 - INFO - MainProcess - [Task-cf6fffde-eaf9-47c8-a8a5-2edaf026d72c] Processor thread finished and cleaned up.
2025-07-29 18:46:28,627 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-29 18:46:28,740 - INFO - MainProcess - [Task-c7d10fd9-90ac-4f49-bc9e-fcfbe8ff2c57] Started processing. Expecting 6 chunks.
2025-07-29 18:46:28,741 - INFO - MainProcess - Task c7d10fd9-90ac-4f49-bc9e-fcfbe8ff2c57 has been started in the background.
2025-07-29 18:46:28,741 - INFO - MainProcess - 127.0.0.1 - - [29/Jul/2025 18:46:28] "POST /generate_video HTTP/1.1" 200 -
2025-07-29 18:46:33,629 - INFO - MainProcess - [Task-c7d10fd9-90ac-4f49-bc9e-fcfbe8ff2c57] Chunk 0 sent to stream queue.
2025-07-29 18:46:33,629 - INFO - MainProcess - [Task-c7d10fd9-90ac-4f49-bc9e-fcfbe8ff2c57] Chunk 1 sent to stream queue.
2025-07-29 18:46:33,629 - INFO - MainProcess - [Task-c7d10fd9-90ac-4f49-bc9e-fcfbe8ff2c57] Chunk 2 sent to stream queue.
2025-07-29 18:46:33,629 - INFO - MainProcess - [Task-c7d10fd9-90ac-4f49-bc9e-fcfbe8ff2c57] Chunk 3 sent to stream queue.
2025-07-29 18:46:33,630 - INFO - MainProcess - [Task-c7d10fd9-90ac-4f49-bc9e-fcfbe8ff2c57] Chunk 4 sent to stream queue.
2025-07-29 18:46:33,630 - INFO - MainProcess - [Task-c7d10fd9-90ac-4f49-bc9e-fcfbe8ff2c57] Chunk 5 sent to stream queue.
2025-07-29 18:46:33,630 - INFO - MainProcess - [Task-c7d10fd9-90ac-4f49-bc9e-fcfbe8ff2c57] All chunks processed and queued successfully.
2025-07-29 18:46:33,630 - INFO - MainProcess - [Task-c7d10fd9-90ac-4f49-bc9e-fcfbe8ff2c57] Processor thread finished and cleaned up.
2025-07-29 18:46:51,893 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-29 18:46:51,992 - INFO - MainProcess - [Task-87e718de-87c3-408c-8793-94903a57d91e] Started processing. Expecting 6 chunks.
2025-07-29 18:46:51,993 - INFO - MainProcess - Task 87e718de-87c3-408c-8793-94903a57d91e has been started in the background.
2025-07-29 18:46:51,993 - INFO - MainProcess - 127.0.0.1 - - [29/Jul/2025 18:46:51] "POST /generate_video HTTP/1.1" 200 -
2025-07-29 18:46:54,914 - INFO - MainProcess - [Task-87e718de-87c3-408c-8793-94903a57d91e] Chunk 0 sent to stream queue.
2025-07-29 18:46:54,915 - INFO - MainProcess - [Task-87e718de-87c3-408c-8793-94903a57d91e] Chunk 1 sent to stream queue.
2025-07-29 18:46:55,102 - INFO - MainProcess - [Task-87e718de-87c3-408c-8793-94903a57d91e] Chunk 2 sent to stream queue.
2025-07-29 18:46:55,297 - INFO - MainProcess - [Task-87e718de-87c3-408c-8793-94903a57d91e] Chunk 3 sent to stream queue.
2025-07-29 18:46:55,491 - INFO - MainProcess - [Task-87e718de-87c3-408c-8793-94903a57d91e] Chunk 4 sent to stream queue.
2025-07-29 18:46:55,711 - INFO - MainProcess - [Task-87e718de-87c3-408c-8793-94903a57d91e] Chunk 5 sent to stream queue.
2025-07-29 18:46:55,711 - INFO - MainProcess - [Task-87e718de-87c3-408c-8793-94903a57d91e] All chunks processed and queued successfully.
2025-07-29 18:46:55,711 - INFO - MainProcess - [Task-87e718de-87c3-408c-8793-94903a57d91e] Processor thread finished and cleaned up.
2025-07-29 18:47:15,606 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-29 18:47:15,703 - INFO - MainProcess - [Task-7551a717-762e-4e25-a22f-9ecbb098d61c] Started processing. Expecting 6 chunks.
2025-07-29 18:47:15,703 - INFO - MainProcess - Task 7551a717-762e-4e25-a22f-9ecbb098d61c has been started in the background.
2025-07-29 18:47:15,703 - INFO - MainProcess - 127.0.0.1 - - [29/Jul/2025 18:47:15] "POST /generate_video HTTP/1.1" 200 -
2025-07-29 18:47:18,332 - INFO - MainProcess - [Task-7551a717-762e-4e25-a22f-9ecbb098d61c] Chunk 0 sent to stream queue.
2025-07-29 18:47:18,588 - INFO - MainProcess - [Task-7551a717-762e-4e25-a22f-9ecbb098d61c] Chunk 1 sent to stream queue.
2025-07-29 18:47:18,783 - INFO - MainProcess - [Task-7551a717-762e-4e25-a22f-9ecbb098d61c] Chunk 2 sent to stream queue.
2025-07-29 18:47:18,971 - INFO - MainProcess - [Task-7551a717-762e-4e25-a22f-9ecbb098d61c] Chunk 3 sent to stream queue.
2025-07-29 18:47:19,157 - INFO - MainProcess - [Task-7551a717-762e-4e25-a22f-9ecbb098d61c] Chunk 4 sent to stream queue.
2025-07-29 18:47:19,350 - INFO - MainProcess - [Task-7551a717-762e-4e25-a22f-9ecbb098d61c] Chunk 5 sent to stream queue.
2025-07-29 18:47:19,350 - INFO - MainProcess - [Task-7551a717-762e-4e25-a22f-9ecbb098d61c] All chunks processed and queued successfully.
2025-07-29 18:47:19,350 - INFO - MainProcess - [Task-7551a717-762e-4e25-a22f-9ecbb098d61c] Processor thread finished and cleaned up.
2025-07-29 18:48:14,844 - ERROR - MainProcess - Video pipe write error: [Errno 32] Broken pipe
2025-07-29 18:48:14,844 - ERROR - MainProcess - Audio pipe write error: [Errno 32] Broken pipe
2025-07-29 18:48:14,845 - INFO - MainProcess - Video writer thread finished.
2025-07-29 18:48:14,845 - INFO - MainProcess - Audio writer thread finished.
2025-07-29 18:48:24,411 - INFO - MainProcess - Starting Flask service...
2025-07-29 18:48:24,411 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-29 18:48:24,411 - INFO - MainProcess - Loading configuration file...
2025-07-29 18:48:24,424 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-29 18:48:24,424 - INFO - MainProcess - Loading model components...
2025-07-29 18:48:34,514 - INFO - MainProcess - All components loaded successfully.
2025-07-29 18:48:34,514 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-29 18:48:34,603 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-29 18:48:34,603 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-29 18:48:57,301 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-29 18:48:57,301 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-29 18:48:57,316 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-29 18:48:57,360 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-29 18:48:57,360 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-29 18:48:57,360 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/19s_girl_0728_00_idle.mp4
2025-07-29 18:49:00,473 - INFO - MainProcess - Processing 490 idle frames to match target resolution 832x1248
2025-07-29 18:49:01,529 - INFO - MainProcess - Idle stream queue populated with 30 chunks.
2025-07-29 18:49:01,530 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-29 18:49:01,530 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-29 18:49:01,530 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-29 18:49:01,652 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-29 18:49:01,652 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-29 18:49:01,655 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-29 18:49:01,655 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-29 18:49:01,681 - INFO - MainProcess - Video pipe opened for writing.
2025-07-29 18:49:01,687 - INFO - MainProcess - Audio pipe opened for writing.
2025-07-29 18:57:05,364 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-29 18:57:05,585 - INFO - MainProcess - [Task-40a6cc6f-b6f4-4d1b-939f-08ed189b32f3] Started processing. Expecting 6 chunks.
2025-07-29 18:57:05,585 - INFO - MainProcess - Task 40a6cc6f-b6f4-4d1b-939f-08ed189b32f3 has been started in the background.
2025-07-29 18:57:05,586 - INFO - MainProcess - 127.0.0.1 - - [29/Jul/2025 18:57:05] "POST /generate_video HTTP/1.1" 200 -
2025-07-29 18:57:10,256 - INFO - MainProcess - [Task-40a6cc6f-b6f4-4d1b-939f-08ed189b32f3] Chunk 0 sent to stream queue.
2025-07-29 18:57:10,435 - INFO - MainProcess - [Task-40a6cc6f-b6f4-4d1b-939f-08ed189b32f3] Chunk 1 sent to stream queue.
2025-07-29 18:57:10,618 - INFO - MainProcess - [Task-40a6cc6f-b6f4-4d1b-939f-08ed189b32f3] Chunk 2 sent to stream queue.
2025-07-29 18:57:10,971 - INFO - MainProcess - [Task-40a6cc6f-b6f4-4d1b-939f-08ed189b32f3] Chunk 3 sent to stream queue.
2025-07-29 18:57:11,355 - INFO - MainProcess - [Task-40a6cc6f-b6f4-4d1b-939f-08ed189b32f3] Chunk 4 sent to stream queue.
2025-07-29 18:57:11,356 - INFO - MainProcess - [Task-40a6cc6f-b6f4-4d1b-939f-08ed189b32f3] Chunk 5 sent to stream queue.
2025-07-29 18:57:11,356 - INFO - MainProcess - [Task-40a6cc6f-b6f4-4d1b-939f-08ed189b32f3] All chunks processed and queued successfully.
2025-07-29 18:57:11,356 - INFO - MainProcess - [Task-40a6cc6f-b6f4-4d1b-939f-08ed189b32f3] Processor thread finished and cleaned up.
2025-07-29 18:57:35,561 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-29 18:57:35,673 - INFO - MainProcess - [Task-bfdf7e9d-015d-4979-b319-a42fb543689c] Started processing. Expecting 6 chunks.
2025-07-29 18:57:35,673 - INFO - MainProcess - Task bfdf7e9d-015d-4979-b319-a42fb543689c has been started in the background.
2025-07-29 18:57:35,767 - INFO - MainProcess - 127.0.0.1 - - [29/Jul/2025 18:57:35] "POST /generate_video HTTP/1.1" 200 -
2025-07-29 18:57:40,121 - INFO - MainProcess - [Task-bfdf7e9d-015d-4979-b319-a42fb543689c] Chunk 0 sent to stream queue.
2025-07-29 18:57:40,347 - INFO - MainProcess - [Task-bfdf7e9d-015d-4979-b319-a42fb543689c] Chunk 1 sent to stream queue.
2025-07-29 18:57:40,347 - INFO - MainProcess - [Task-bfdf7e9d-015d-4979-b319-a42fb543689c] Chunk 2 sent to stream queue.
2025-07-29 18:57:40,347 - INFO - MainProcess - [Task-bfdf7e9d-015d-4979-b319-a42fb543689c] Chunk 3 sent to stream queue.
2025-07-29 18:57:40,347 - INFO - MainProcess - [Task-bfdf7e9d-015d-4979-b319-a42fb543689c] Chunk 4 sent to stream queue.
2025-07-29 18:57:40,347 - INFO - MainProcess - [Task-bfdf7e9d-015d-4979-b319-a42fb543689c] Chunk 5 sent to stream queue.
2025-07-29 18:57:40,347 - INFO - MainProcess - [Task-bfdf7e9d-015d-4979-b319-a42fb543689c] All chunks processed and queued successfully.
2025-07-29 18:57:40,347 - INFO - MainProcess - [Task-bfdf7e9d-015d-4979-b319-a42fb543689c] Processor thread finished and cleaned up.
2025-07-29 18:58:12,465 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-29 18:58:12,571 - INFO - MainProcess - [Task-46d55fee-cede-487d-be6d-69c97885fd32] Started processing. Expecting 6 chunks.
2025-07-29 18:58:12,572 - INFO - MainProcess - Task 46d55fee-cede-487d-be6d-69c97885fd32 has been started in the background.
2025-07-29 18:58:12,572 - INFO - MainProcess - 127.0.0.1 - - [29/Jul/2025 18:58:12] "POST /generate_video HTTP/1.1" 200 -
2025-07-29 18:58:15,032 - INFO - MainProcess - [Task-46d55fee-cede-487d-be6d-69c97885fd32] Chunk 0 sent to stream queue.
2025-07-29 18:58:15,239 - INFO - MainProcess - [Task-46d55fee-cede-487d-be6d-69c97885fd32] Chunk 1 sent to stream queue.
2025-07-29 18:58:15,479 - INFO - MainProcess - [Task-46d55fee-cede-487d-be6d-69c97885fd32] Chunk 2 sent to stream queue.
2025-07-29 18:58:15,641 - INFO - MainProcess - [Task-46d55fee-cede-487d-be6d-69c97885fd32] Chunk 3 sent to stream queue.
2025-07-29 18:58:15,815 - INFO - MainProcess - [Task-46d55fee-cede-487d-be6d-69c97885fd32] Chunk 4 sent to stream queue.
2025-07-29 18:58:16,092 - INFO - MainProcess - [Task-46d55fee-cede-487d-be6d-69c97885fd32] Chunk 5 sent to stream queue.
2025-07-29 18:58:16,092 - INFO - MainProcess - [Task-46d55fee-cede-487d-be6d-69c97885fd32] All chunks processed and queued successfully.
2025-07-29 18:58:16,093 - INFO - MainProcess - [Task-46d55fee-cede-487d-be6d-69c97885fd32] Processor thread finished and cleaned up.
2025-07-29 19:03:13,683 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-29 19:03:13,787 - INFO - MainProcess - [Task-45c14a5d-b92e-4457-801b-8a3f9657aaeb] Started processing. Expecting 6 chunks.
2025-07-29 19:03:13,788 - INFO - MainProcess - Task 45c14a5d-b92e-4457-801b-8a3f9657aaeb has been started in the background.
2025-07-29 19:03:13,789 - INFO - MainProcess - 127.0.0.1 - - [29/Jul/2025 19:03:13] "POST /generate_video HTTP/1.1" 200 -
2025-07-29 19:03:16,316 - INFO - MainProcess - [Task-45c14a5d-b92e-4457-801b-8a3f9657aaeb] Chunk 0 sent to stream queue.
2025-07-29 19:03:16,522 - INFO - MainProcess - [Task-45c14a5d-b92e-4457-801b-8a3f9657aaeb] Chunk 1 sent to stream queue.
2025-07-29 19:03:16,781 - INFO - MainProcess - [Task-45c14a5d-b92e-4457-801b-8a3f9657aaeb] Chunk 2 sent to stream queue.
2025-07-29 19:03:16,960 - INFO - MainProcess - [Task-45c14a5d-b92e-4457-801b-8a3f9657aaeb] Chunk 3 sent to stream queue.
2025-07-29 19:03:17,150 - INFO - MainProcess - [Task-45c14a5d-b92e-4457-801b-8a3f9657aaeb] Chunk 4 sent to stream queue.
2025-07-29 19:03:17,337 - INFO - MainProcess - [Task-45c14a5d-b92e-4457-801b-8a3f9657aaeb] Chunk 5 sent to stream queue.
2025-07-29 19:03:17,338 - INFO - MainProcess - [Task-45c14a5d-b92e-4457-801b-8a3f9657aaeb] All chunks processed and queued successfully.
2025-07-29 19:03:17,338 - INFO - MainProcess - [Task-45c14a5d-b92e-4457-801b-8a3f9657aaeb] Processor thread finished and cleaned up.
2025-07-29 19:03:54,655 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-29 19:03:54,750 - INFO - MainProcess - [Task-b817ff7c-8b83-404a-94a9-ccf9061e4855] Started processing. Expecting 6 chunks.
2025-07-29 19:03:54,751 - INFO - MainProcess - Task b817ff7c-8b83-404a-94a9-ccf9061e4855 has been started in the background.
2025-07-29 19:03:54,751 - INFO - MainProcess - 127.0.0.1 - - [29/Jul/2025 19:03:54] "POST /generate_video HTTP/1.1" 200 -
2025-07-29 19:03:57,375 - INFO - MainProcess - [Task-b817ff7c-8b83-404a-94a9-ccf9061e4855] Chunk 0 sent to stream queue.
2025-07-29 19:03:57,569 - INFO - MainProcess - [Task-b817ff7c-8b83-404a-94a9-ccf9061e4855] Chunk 1 sent to stream queue.
2025-07-29 19:03:57,770 - INFO - MainProcess - [Task-b817ff7c-8b83-404a-94a9-ccf9061e4855] Chunk 2 sent to stream queue.
2025-07-29 19:03:57,966 - INFO - MainProcess - [Task-b817ff7c-8b83-404a-94a9-ccf9061e4855] Chunk 3 sent to stream queue.
2025-07-29 19:03:58,144 - INFO - MainProcess - [Task-b817ff7c-8b83-404a-94a9-ccf9061e4855] Chunk 4 sent to stream queue.
2025-07-29 19:03:58,328 - INFO - MainProcess - [Task-b817ff7c-8b83-404a-94a9-ccf9061e4855] Chunk 5 sent to stream queue.
2025-07-29 19:03:58,328 - INFO - MainProcess - [Task-b817ff7c-8b83-404a-94a9-ccf9061e4855] All chunks processed and queued successfully.
2025-07-29 19:03:58,328 - INFO - MainProcess - [Task-b817ff7c-8b83-404a-94a9-ccf9061e4855] Processor thread finished and cleaned up.
2025-07-29 19:04:31,419 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-29 19:04:31,529 - INFO - MainProcess - [Task-01d12c68-cce3-4cd7-879b-023d6ddb7cc3] Started processing. Expecting 6 chunks.
2025-07-29 19:04:31,529 - INFO - MainProcess - Task 01d12c68-cce3-4cd7-879b-023d6ddb7cc3 has been started in the background.
2025-07-29 19:04:31,531 - INFO - MainProcess - 127.0.0.1 - - [29/Jul/2025 19:04:31] "POST /generate_video HTTP/1.1" 200 -
2025-07-29 19:04:34,085 - INFO - MainProcess - [Task-01d12c68-cce3-4cd7-879b-023d6ddb7cc3] Chunk 0 sent to stream queue.
2025-07-29 19:04:34,281 - INFO - MainProcess - [Task-01d12c68-cce3-4cd7-879b-023d6ddb7cc3] Chunk 1 sent to stream queue.
2025-07-29 19:04:34,501 - INFO - MainProcess - [Task-01d12c68-cce3-4cd7-879b-023d6ddb7cc3] Chunk 2 sent to stream queue.
2025-07-29 19:04:34,705 - INFO - MainProcess - [Task-01d12c68-cce3-4cd7-879b-023d6ddb7cc3] Chunk 3 sent to stream queue.
2025-07-29 19:04:34,875 - INFO - MainProcess - [Task-01d12c68-cce3-4cd7-879b-023d6ddb7cc3] Chunk 4 sent to stream queue.
2025-07-29 19:04:35,080 - INFO - MainProcess - [Task-01d12c68-cce3-4cd7-879b-023d6ddb7cc3] Chunk 5 sent to stream queue.
2025-07-29 19:04:35,080 - INFO - MainProcess - [Task-01d12c68-cce3-4cd7-879b-023d6ddb7cc3] All chunks processed and queued successfully.
2025-07-29 19:04:35,080 - INFO - MainProcess - [Task-01d12c68-cce3-4cd7-879b-023d6ddb7cc3] Processor thread finished and cleaned up.
2025-07-29 19:17:01,357 - ERROR - MainProcess - Audio pipe write error: [Errno 32] Broken pipe
2025-07-29 19:17:01,357 - ERROR - MainProcess - Video pipe write error: [Errno 32] Broken pipe
2025-07-29 19:17:01,357 - INFO - MainProcess - Audio writer thread finished.
2025-07-29 19:17:01,357 - INFO - MainProcess - Video writer thread finished.
2025-07-29 19:17:15,789 - INFO - MainProcess - Starting Flask service...
2025-07-29 19:17:15,789 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-29 19:17:15,789 - INFO - MainProcess - Loading configuration file...
2025-07-29 19:17:15,802 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-29 19:17:15,802 - INFO - MainProcess - Loading model components...
2025-07-29 19:17:26,638 - INFO - MainProcess - All components loaded successfully.
2025-07-29 19:17:26,639 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-29 19:17:26,733 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-29 19:17:26,733 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-29 19:17:49,347 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-29 19:17:49,348 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-29 19:17:49,361 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-29 19:17:49,407 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-29 19:17:49,408 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-29 19:17:49,408 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/19s_girl_0728_00_idle.mp4
2025-07-29 19:17:52,495 - INFO - MainProcess - Processing 490 idle frames to match target resolution 832x1248
2025-07-29 19:17:53,670 - INFO - MainProcess - Idle stream queue populated with 30 chunks.
2025-07-29 19:17:53,671 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-29 19:17:53,671 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-29 19:17:53,671 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-29 19:17:53,827 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-29 19:17:53,827 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-29 19:17:53,831 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-29 19:17:53,831 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-29 19:17:53,857 - INFO - MainProcess - Video pipe opened for writing.
2025-07-29 19:17:53,866 - INFO - MainProcess - Audio pipe opened for writing.
2025-07-29 19:19:06,989 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-29 19:19:07,180 - INFO - MainProcess - [Task-7b3a3232-0e33-4775-979c-f5443cba96f1] Started processing. Expecting 6 chunks.
2025-07-29 19:19:07,180 - INFO - MainProcess - Task 7b3a3232-0e33-4775-979c-f5443cba96f1 has been started in the background.
2025-07-29 19:19:07,181 - INFO - MainProcess - 127.0.0.1 - - [29/Jul/2025 19:19:07] "POST /generate_video HTTP/1.1" 200 -
2025-07-29 19:19:14,186 - INFO - MainProcess - [Task-7b3a3232-0e33-4775-979c-f5443cba96f1] Chunk 0 sent to stream queue.
2025-07-29 19:19:14,187 - INFO - MainProcess - [Task-7b3a3232-0e33-4775-979c-f5443cba96f1] Chunk 1 sent to stream queue.
2025-07-29 19:19:14,971 - INFO - MainProcess - [Task-7b3a3232-0e33-4775-979c-f5443cba96f1] Chunk 2 sent to stream queue.
2025-07-29 19:19:14,971 - INFO - MainProcess - [Task-7b3a3232-0e33-4775-979c-f5443cba96f1] Chunk 3 sent to stream queue.
2025-07-29 19:19:14,971 - INFO - MainProcess - [Task-7b3a3232-0e33-4775-979c-f5443cba96f1] Chunk 4 sent to stream queue.
2025-07-29 19:19:14,972 - INFO - MainProcess - [Task-7b3a3232-0e33-4775-979c-f5443cba96f1] Chunk 5 sent to stream queue.
2025-07-29 19:19:14,972 - INFO - MainProcess - [Task-7b3a3232-0e33-4775-979c-f5443cba96f1] All chunks processed and queued successfully.
2025-07-29 19:19:14,972 - INFO - MainProcess - [Task-7b3a3232-0e33-4775-979c-f5443cba96f1] Processor thread finished and cleaned up.
2025-07-29 19:27:04,847 - INFO - MainProcess - Starting Flask service...
2025-07-29 19:27:04,847 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-29 19:27:04,847 - INFO - MainProcess - Loading configuration file...
2025-07-29 19:27:04,860 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-29 19:27:04,860 - INFO - MainProcess - Loading model components...
2025-07-29 19:27:15,181 - INFO - MainProcess - All components loaded successfully.
2025-07-29 19:27:15,182 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-29 19:27:15,276 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-29 19:27:15,276 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-29 19:27:38,178 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-29 19:27:38,178 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-29 19:27:38,191 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-29 19:27:38,234 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-29 19:27:38,234 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-29 19:27:38,234 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/19s_girl_0728_00_idle.mp4
2025-07-29 19:27:41,305 - INFO - MainProcess - Processing 490 idle frames to match target resolution 832x1248
2025-07-29 19:27:42,280 - INFO - MainProcess - Idle stream queue populated with 30 chunks.
2025-07-29 19:27:42,280 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-29 19:27:42,281 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-29 19:27:42,281 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-29 19:27:42,290 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-29 19:27:42,431 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-29 19:27:42,432 - INFO - MainProcess - Video pipe opened for writing.
2025-07-29 19:27:42,438 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-29 19:27:42,438 - INFO - MainProcess - Audio pipe opened for writing.
2025-07-29 19:27:42,438 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-30 00:06:02,292 - ERROR - MainProcess - 45.142.193.4 - - [30/Jul/2025 00:06:02] code 400, message Bad HTTP/0.9 request type ('\x03\x00\x00/*à\x00\x00\x00\x00\x00Cookie:')
2025-07-30 00:06:02,293 - INFO - MainProcess - 45.142.193.4 - - [30/Jul/2025 00:06:02] "[35m[1m\x03\x00\x00/*à\x00\x00\x00\x00\x00Cookie: mstshash=Administr[0m" HTTPStatus.BAD_REQUEST -
2025-07-30 00:16:04,540 - ERROR - MainProcess - 45.142.193.60 - - [30/Jul/2025 00:16:04] code 400, message Bad HTTP/0.9 request type ('\x03\x00\x00/*à\x00\x00\x00\x00\x00Cookie:')
2025-07-30 00:16:04,540 - INFO - MainProcess - 45.142.193.60 - - [30/Jul/2025 00:16:04] "[35m[1m\x03\x00\x00/*à\x00\x00\x00\x00\x00Cookie: mstshash=Administr[0m" HTTPStatus.BAD_REQUEST -
2025-07-30 08:55:10,075 - ERROR - MainProcess - Audio pipe write error: [Errno 32] Broken pipe
2025-07-30 08:55:10,075 - ERROR - MainProcess - Video pipe write error: [Errno 32] Broken pipe
2025-07-30 08:55:10,076 - INFO - MainProcess - Audio writer thread finished.
2025-07-30 08:55:10,076 - INFO - MainProcess - Video writer thread finished.
2025-07-30 08:55:23,991 - INFO - MainProcess - Starting Flask service...
2025-07-30 08:55:23,991 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-30 08:55:23,991 - INFO - MainProcess - Loading configuration file...
2025-07-30 08:55:24,006 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-30 08:55:24,007 - INFO - MainProcess - Loading model components...
2025-07-30 08:55:34,598 - INFO - MainProcess - All components loaded successfully.
2025-07-30 08:55:34,598 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-30 08:55:34,682 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-30 08:55:34,682 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-30 08:55:57,565 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-30 08:55:57,565 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-30 08:55:57,580 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-30 08:55:57,629 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-30 08:55:57,630 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-30 08:55:57,630 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/19s_girl_0728_00_idle.mp4
2025-07-30 08:56:00,652 - INFO - MainProcess - Processing 490 idle frames to match target resolution 832x1248
2025-07-30 08:56:01,604 - INFO - MainProcess - Idle stream queue populated with 30 chunks.
2025-07-30 08:56:01,604 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-30 08:56:01,605 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-30 08:56:01,605 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-30 08:56:01,737 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-30 08:56:01,747 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-30 08:56:01,753 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-30 08:56:01,754 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-30 08:56:01,790 - INFO - MainProcess - Video pipe opened for writing.
2025-07-30 08:56:01,800 - INFO - MainProcess - Audio pipe opened for writing.
2025-07-30 09:02:35,723 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-30 09:02:35,921 - INFO - MainProcess - [Task-19f192a5-7728-49d7-9a75-fad96d3049b6] Started processing. Expecting 6 chunks.
2025-07-30 09:02:35,921 - INFO - MainProcess - Task 19f192a5-7728-49d7-9a75-fad96d3049b6 has been started in the background.
2025-07-30 09:02:35,922 - INFO - MainProcess - 127.0.0.1 - - [30/Jul/2025 09:02:35] "POST /generate_video HTTP/1.1" 200 -
2025-07-30 09:02:42,105 - INFO - MainProcess - Chunk 0 sent to stream queue.
2025-07-30 09:02:42,523 - INFO - MainProcess - Chunk 1 sent to stream queue.
2025-07-30 09:02:42,726 - INFO - MainProcess - Chunk 2 sent to stream queue.
2025-07-30 09:02:42,942 - INFO - MainProcess - Chunk 3 sent to stream queue.
2025-07-30 09:02:43,121 - INFO - MainProcess - Chunk 4 sent to stream queue.
2025-07-30 09:02:43,310 - INFO - MainProcess - Chunk 5 sent to stream queue.
2025-07-30 09:02:43,310 - INFO - MainProcess - [Task-19f192a5-7728-49d7-9a75-fad96d3049b6] All chunks processed and queued successfully.
2025-07-30 09:02:43,310 - INFO - MainProcess - [Task-19f192a5-7728-49d7-9a75-fad96d3049b6] Processor thread finished and cleaned up.
2025-07-30 09:03:00,612 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-30 09:03:00,747 - INFO - MainProcess - [Task-1c8df4b0-4e13-4d1a-b191-c3488a9e1845] Started processing. Expecting 6 chunks.
2025-07-30 09:03:00,747 - INFO - MainProcess - Task 1c8df4b0-4e13-4d1a-b191-c3488a9e1845 has been started in the background.
2025-07-30 09:03:00,845 - INFO - MainProcess - 127.0.0.1 - - [30/Jul/2025 09:03:00] "POST /generate_video HTTP/1.1" 200 -
2025-07-30 09:03:06,972 - INFO - MainProcess - Chunk 0 sent to stream queue.
2025-07-30 09:03:07,172 - INFO - MainProcess - Chunk 1 sent to stream queue.
2025-07-30 09:03:07,173 - INFO - MainProcess - Chunk 2 sent to stream queue.
2025-07-30 09:03:07,173 - INFO - MainProcess - Chunk 3 sent to stream queue.
2025-07-30 09:03:07,173 - INFO - MainProcess - Chunk 4 sent to stream queue.
2025-07-30 09:03:07,173 - INFO - MainProcess - Chunk 5 sent to stream queue.
2025-07-30 09:03:07,173 - INFO - MainProcess - [Task-1c8df4b0-4e13-4d1a-b191-c3488a9e1845] All chunks processed and queued successfully.
2025-07-30 09:03:07,173 - INFO - MainProcess - [Task-1c8df4b0-4e13-4d1a-b191-c3488a9e1845] Processor thread finished and cleaned up.
2025-07-30 09:04:23,067 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-30 09:04:23,164 - INFO - MainProcess - [Task-09da0a42-d9fb-4585-8b16-bfd9611e30a3] Started processing. Expecting 6 chunks.
2025-07-30 09:04:23,164 - INFO - MainProcess - Task 09da0a42-d9fb-4585-8b16-bfd9611e30a3 has been started in the background.
2025-07-30 09:04:23,165 - INFO - MainProcess - 127.0.0.1 - - [30/Jul/2025 09:04:23] "POST /generate_video HTTP/1.1" 200 -
2025-07-30 09:04:27,321 - INFO - MainProcess - Chunk 0 sent to stream queue.
2025-07-30 09:04:27,575 - INFO - MainProcess - Chunk 1 sent to stream queue.
2025-07-30 09:04:28,224 - INFO - MainProcess - Chunk 2 sent to stream queue.
2025-07-30 09:04:28,225 - INFO - MainProcess - Chunk 3 sent to stream queue.
2025-07-30 09:04:28,443 - INFO - MainProcess - Chunk 4 sent to stream queue.
2025-07-30 09:04:28,656 - INFO - MainProcess - Chunk 5 sent to stream queue.
2025-07-30 09:04:28,656 - INFO - MainProcess - [Task-09da0a42-d9fb-4585-8b16-bfd9611e30a3] All chunks processed and queued successfully.
2025-07-30 09:04:28,656 - INFO - MainProcess - [Task-09da0a42-d9fb-4585-8b16-bfd9611e30a3] Processor thread finished and cleaned up.
2025-07-30 09:05:34,831 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-30 09:05:34,936 - INFO - MainProcess - [Task-bbf0e9ce-62ec-4497-99cb-a9b910a349b3] Started processing. Expecting 6 chunks.
2025-07-30 09:05:34,937 - INFO - MainProcess - Task bbf0e9ce-62ec-4497-99cb-a9b910a349b3 has been started in the background.
2025-07-30 09:05:34,938 - INFO - MainProcess - 127.0.0.1 - - [30/Jul/2025 09:05:34] "POST /generate_video HTTP/1.1" 200 -
2025-07-30 09:05:39,630 - INFO - MainProcess - Chunk 0 sent to stream queue.
2025-07-30 09:05:39,630 - INFO - MainProcess - Chunk 1 sent to stream queue.
2025-07-30 09:05:39,813 - INFO - MainProcess - Chunk 2 sent to stream queue.
2025-07-30 09:05:39,993 - INFO - MainProcess - Chunk 3 sent to stream queue.
2025-07-30 09:05:40,167 - INFO - MainProcess - Chunk 4 sent to stream queue.
2025-07-30 09:05:40,353 - INFO - MainProcess - Chunk 5 sent to stream queue.
2025-07-30 09:05:40,354 - INFO - MainProcess - [Task-bbf0e9ce-62ec-4497-99cb-a9b910a349b3] All chunks processed and queued successfully.
2025-07-30 09:05:40,354 - INFO - MainProcess - [Task-bbf0e9ce-62ec-4497-99cb-a9b910a349b3] Processor thread finished and cleaned up.
2025-07-30 09:07:29,020 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-30 09:07:29,114 - INFO - MainProcess - [Task-9c6a18b9-5d5d-4ed4-8bda-ea75773d4387] Started processing. Expecting 6 chunks.
2025-07-30 09:07:29,115 - INFO - MainProcess - Task 9c6a18b9-5d5d-4ed4-8bda-ea75773d4387 has been started in the background.
2025-07-30 09:07:29,184 - INFO - MainProcess - 127.0.0.1 - - [30/Jul/2025 09:07:29] "POST /generate_video HTTP/1.1" 200 -
2025-07-30 09:07:33,423 - INFO - MainProcess - Chunk 0 sent to stream queue.
2025-07-30 09:07:33,630 - INFO - MainProcess - Chunk 1 sent to stream queue.
2025-07-30 09:07:34,026 - INFO - MainProcess - Chunk 2 sent to stream queue.
2025-07-30 09:07:34,425 - INFO - MainProcess - Chunk 3 sent to stream queue.
2025-07-30 09:07:34,425 - INFO - MainProcess - Chunk 4 sent to stream queue.
2025-07-30 09:07:34,612 - INFO - MainProcess - Chunk 5 sent to stream queue.
2025-07-30 09:07:34,612 - INFO - MainProcess - [Task-9c6a18b9-5d5d-4ed4-8bda-ea75773d4387] All chunks processed and queued successfully.
2025-07-30 09:07:34,612 - INFO - MainProcess - [Task-9c6a18b9-5d5d-4ed4-8bda-ea75773d4387] Processor thread finished and cleaned up.
2025-07-30 09:08:09,918 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-30 09:08:10,043 - INFO - MainProcess - [Task-ee182595-e0b1-402c-8d77-7f1af3daedf5] Started processing. Expecting 6 chunks.
2025-07-30 09:08:10,043 - INFO - MainProcess - Task ee182595-e0b1-402c-8d77-7f1af3daedf5 has been started in the background.
2025-07-30 09:08:10,044 - INFO - MainProcess - 127.0.0.1 - - [30/Jul/2025 09:08:10] "POST /generate_video HTTP/1.1" 200 -
2025-07-30 09:08:14,397 - INFO - MainProcess - Chunk 0 sent to stream queue.
2025-07-30 09:08:14,814 - INFO - MainProcess - Chunk 1 sent to stream queue.
2025-07-30 09:08:15,007 - INFO - MainProcess - Chunk 2 sent to stream queue.
2025-07-30 09:08:15,211 - INFO - MainProcess - Chunk 3 sent to stream queue.
2025-07-30 09:08:15,424 - INFO - MainProcess - Chunk 4 sent to stream queue.
2025-07-30 09:08:15,613 - INFO - MainProcess - Chunk 5 sent to stream queue.
2025-07-30 09:08:15,613 - INFO - MainProcess - [Task-ee182595-e0b1-402c-8d77-7f1af3daedf5] All chunks processed and queued successfully.
2025-07-30 09:08:15,613 - INFO - MainProcess - [Task-ee182595-e0b1-402c-8d77-7f1af3daedf5] Processor thread finished and cleaned up.
2025-07-30 09:12:48,982 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-30 09:12:49,079 - INFO - MainProcess - [Task-505b69fe-229e-4736-ab21-8ebb51319358] Started processing. Expecting 6 chunks.
2025-07-30 09:12:49,079 - INFO - MainProcess - Task 505b69fe-229e-4736-ab21-8ebb51319358 has been started in the background.
2025-07-30 09:12:49,080 - INFO - MainProcess - 127.0.0.1 - - [30/Jul/2025 09:12:49] "POST /generate_video HTTP/1.1" 200 -
2025-07-30 09:12:53,450 - INFO - MainProcess - Chunk 0 sent to stream queue.
2025-07-30 09:12:53,714 - INFO - MainProcess - Chunk 1 sent to stream queue.
2025-07-30 09:12:53,945 - INFO - MainProcess - Chunk 2 sent to stream queue.
2025-07-30 09:12:54,184 - INFO - MainProcess - Chunk 3 sent to stream queue.
2025-07-30 09:12:54,396 - INFO - MainProcess - Chunk 4 sent to stream queue.
2025-07-30 09:12:54,612 - INFO - MainProcess - Chunk 5 sent to stream queue.
2025-07-30 09:12:54,612 - INFO - MainProcess - [Task-505b69fe-229e-4736-ab21-8ebb51319358] All chunks processed and queued successfully.
2025-07-30 09:12:54,612 - INFO - MainProcess - [Task-505b69fe-229e-4736-ab21-8ebb51319358] Processor thread finished and cleaned up.
2025-07-30 09:13:12,117 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-30 09:13:12,219 - INFO - MainProcess - [Task-2ccdf25d-be05-45c6-8157-d1e4a977c43f] Started processing. Expecting 6 chunks.
2025-07-30 09:13:12,219 - INFO - MainProcess - Task 2ccdf25d-be05-45c6-8157-d1e4a977c43f has been started in the background.
2025-07-30 09:13:12,326 - INFO - MainProcess - 127.0.0.1 - - [30/Jul/2025 09:13:12] "POST /generate_video HTTP/1.1" 200 -
2025-07-30 09:13:16,868 - INFO - MainProcess - Chunk 0 sent to stream queue.
2025-07-30 09:13:16,869 - INFO - MainProcess - Chunk 1 sent to stream queue.
2025-07-30 09:13:17,110 - INFO - MainProcess - Chunk 2 sent to stream queue.
2025-07-30 09:13:17,287 - INFO - MainProcess - Chunk 3 sent to stream queue.
2025-07-30 09:13:17,485 - INFO - MainProcess - Chunk 4 sent to stream queue.
2025-07-30 09:13:17,708 - INFO - MainProcess - Chunk 5 sent to stream queue.
2025-07-30 09:13:17,708 - INFO - MainProcess - [Task-2ccdf25d-be05-45c6-8157-d1e4a977c43f] All chunks processed and queued successfully.
2025-07-30 09:13:17,708 - INFO - MainProcess - [Task-2ccdf25d-be05-45c6-8157-d1e4a977c43f] Processor thread finished and cleaned up.
2025-07-30 09:13:37,106 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-30 09:13:37,203 - INFO - MainProcess - [Task-a8775043-9697-4af1-a132-d4efbc783d7a] Started processing. Expecting 6 chunks.
2025-07-30 09:13:37,203 - INFO - MainProcess - Task a8775043-9697-4af1-a132-d4efbc783d7a has been started in the background.
2025-07-30 09:13:37,204 - INFO - MainProcess - 127.0.0.1 - - [30/Jul/2025 09:13:37] "POST /generate_video HTTP/1.1" 200 -
2025-07-30 09:13:41,853 - INFO - MainProcess - Chunk 0 sent to stream queue.
2025-07-30 09:13:41,853 - INFO - MainProcess - Chunk 1 sent to stream queue.
2025-07-30 09:13:42,035 - INFO - MainProcess - Chunk 2 sent to stream queue.
2025-07-30 09:13:42,257 - INFO - MainProcess - Chunk 3 sent to stream queue.
2025-07-30 09:13:42,484 - INFO - MainProcess - Chunk 4 sent to stream queue.
2025-07-30 09:13:42,667 - INFO - MainProcess - Chunk 5 sent to stream queue.
2025-07-30 09:13:42,668 - INFO - MainProcess - [Task-a8775043-9697-4af1-a132-d4efbc783d7a] All chunks processed and queued successfully.
2025-07-30 09:13:42,668 - INFO - MainProcess - [Task-a8775043-9697-4af1-a132-d4efbc783d7a] Processor thread finished and cleaned up.
2025-07-30 09:14:00,921 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-30 09:14:01,018 - INFO - MainProcess - [Task-b69bfbd1-24d9-46b2-ab97-154752d3184c] Started processing. Expecting 6 chunks.
2025-07-30 09:14:01,019 - INFO - MainProcess - Task b69bfbd1-24d9-46b2-ab97-154752d3184c has been started in the background.
2025-07-30 09:14:01,098 - INFO - MainProcess - 127.0.0.1 - - [30/Jul/2025 09:14:01] "POST /generate_video HTTP/1.1" 200 -
2025-07-30 09:14:05,382 - INFO - MainProcess - Chunk 0 sent to stream queue.
2025-07-30 09:14:05,630 - INFO - MainProcess - Chunk 1 sent to stream queue.
2025-07-30 09:14:05,937 - INFO - MainProcess - Chunk 2 sent to stream queue.
2025-07-30 09:14:06,145 - INFO - MainProcess - Chunk 3 sent to stream queue.
2025-07-30 09:14:06,387 - INFO - MainProcess - Chunk 4 sent to stream queue.
2025-07-30 09:14:06,603 - INFO - MainProcess - Chunk 5 sent to stream queue.
2025-07-30 09:14:06,603 - INFO - MainProcess - [Task-b69bfbd1-24d9-46b2-ab97-154752d3184c] All chunks processed and queued successfully.
2025-07-30 09:14:06,603 - INFO - MainProcess - [Task-b69bfbd1-24d9-46b2-ab97-154752d3184c] Processor thread finished and cleaned up.
2025-07-30 09:16:18,499 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-30 09:16:18,604 - INFO - MainProcess - [Task-46a14bc4-336e-4aef-925c-a2084b02c442] Started processing. Expecting 6 chunks.
2025-07-30 09:16:18,604 - INFO - MainProcess - Task 46a14bc4-336e-4aef-925c-a2084b02c442 has been started in the background.
2025-07-30 09:16:18,605 - INFO - MainProcess - 127.0.0.1 - - [30/Jul/2025 09:16:18] "POST /generate_video HTTP/1.1" 200 -
2025-07-30 09:16:23,303 - INFO - MainProcess - Chunk 0 sent to stream queue.
2025-07-30 09:16:23,305 - INFO - MainProcess - Chunk 1 sent to stream queue.
2025-07-30 09:16:23,492 - INFO - MainProcess - Chunk 2 sent to stream queue.
2025-07-30 09:16:24,081 - INFO - MainProcess - Chunk 3 sent to stream queue.
2025-07-30 09:16:24,081 - INFO - MainProcess - Chunk 4 sent to stream queue.
2025-07-30 09:16:24,081 - INFO - MainProcess - Chunk 5 sent to stream queue.
2025-07-30 09:16:24,082 - INFO - MainProcess - [Task-46a14bc4-336e-4aef-925c-a2084b02c442] All chunks processed and queued successfully.
2025-07-30 09:16:24,082 - INFO - MainProcess - [Task-46a14bc4-336e-4aef-925c-a2084b02c442] Processor thread finished and cleaned up.
2025-07-30 09:37:31,513 - ERROR - MainProcess - Audio pipe write error: [Errno 32] Broken pipe
2025-07-30 09:37:31,513 - ERROR - MainProcess - Video pipe write error: [Errno 32] Broken pipe
2025-07-30 09:37:31,514 - INFO - MainProcess - Audio writer thread finished.
2025-07-30 09:37:31,514 - INFO - MainProcess - Video writer thread finished.
2025-07-30 09:37:37,765 - INFO - MainProcess - Starting Flask service...
2025-07-30 09:37:37,765 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-30 09:37:37,765 - INFO - MainProcess - Loading configuration file...
2025-07-30 09:37:37,778 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-30 09:37:37,778 - INFO - MainProcess - Loading model components...
2025-07-30 09:37:48,465 - INFO - MainProcess - All components loaded successfully.
2025-07-30 09:37:48,465 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-30 09:37:48,556 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-30 09:37:48,556 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-30 09:38:11,686 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-30 09:38:11,687 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-30 09:38:11,704 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-30 09:38:11,758 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-30 09:38:11,759 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-30 09:38:11,759 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/1.875s_GirlMuseum_0730.mp4
2025-07-30 09:38:12,666 - INFO - MainProcess - Processing 47 idle frames to match target resolution 832x1248
2025-07-30 09:38:12,730 - INFO - MainProcess - Idle stream queue populated with 2 chunks.
2025-07-30 09:38:12,730 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-30 09:38:12,731 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-30 09:38:12,731 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-30 09:38:12,732 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-30 09:38:12,732 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-30 09:38:12,738 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-30 09:38:12,738 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-30 09:38:12,763 - INFO - MainProcess - Video pipe opened for writing.
2025-07-30 09:38:12,769 - INFO - MainProcess - Audio pipe opened for writing.
2025-07-30 09:45:39,882 - ERROR - MainProcess - Video pipe write error: [Errno 32] Broken pipe
2025-07-30 09:45:39,883 - ERROR - MainProcess - Audio pipe write error: [Errno 32] Broken pipe
2025-07-30 09:45:39,883 - INFO - MainProcess - Video writer thread finished.
2025-07-30 09:45:39,883 - INFO - MainProcess - Audio writer thread finished.
2025-07-30 09:45:46,399 - INFO - MainProcess - Starting Flask service...
2025-07-30 09:45:46,399 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-30 09:45:46,399 - INFO - MainProcess - Loading configuration file...
2025-07-30 09:45:46,414 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-30 09:45:46,414 - INFO - MainProcess - Loading model components...
2025-07-30 09:45:56,644 - INFO - MainProcess - All components loaded successfully.
2025-07-30 09:45:56,644 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-30 09:45:56,726 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-30 09:45:56,726 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-30 09:46:19,566 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-30 09:46:19,566 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-30 09:46:19,582 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-30 09:46:19,673 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-30 09:46:19,674 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-30 09:46:19,674 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/1.875s_GirlMuseum_0730.mp4
2025-07-30 09:46:20,505 - INFO - MainProcess - Processing 40 idle frames to match target resolution 832x1248
2025-07-30 09:46:20,578 - INFO - MainProcess - Idle stream queue populated with 2 chunks.
2025-07-30 09:46:20,578 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-30 09:46:20,579 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-30 09:46:20,579 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-30 09:46:20,588 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-30 09:46:20,588 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-30 09:46:20,594 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-30 09:46:20,594 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-30 09:46:20,618 - INFO - MainProcess - Video pipe opened for writing.
2025-07-30 09:46:20,623 - INFO - MainProcess - Audio pipe opened for writing.
2025-07-30 09:47:11,345 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-30 09:47:11,552 - INFO - MainProcess - [Task-67a52870-f4d1-493f-b19f-83c773558f1b] Started processing. Expecting 6 chunks.
2025-07-30 09:47:11,553 - INFO - MainProcess - Task 67a52870-f4d1-493f-b19f-83c773558f1b has been started in the background.
2025-07-30 09:47:11,556 - INFO - MainProcess - 127.0.0.1 - - [30/Jul/2025 09:47:11] "POST /generate_video HTTP/1.1" 200 -
2025-07-30 09:47:18,197 - INFO - MainProcess - Chunk 0 sent to stream queue.
2025-07-30 09:47:18,376 - INFO - MainProcess - Chunk 1 sent to stream queue.
2025-07-30 09:47:18,617 - INFO - MainProcess - Chunk 2 sent to stream queue.
2025-07-30 09:47:19,012 - INFO - MainProcess - Chunk 3 sent to stream queue.
2025-07-30 09:47:19,012 - INFO - MainProcess - Chunk 4 sent to stream queue.
2025-07-30 09:47:19,542 - INFO - MainProcess - Chunk 5 sent to stream queue.
2025-07-30 09:47:19,543 - INFO - MainProcess - [Task-67a52870-f4d1-493f-b19f-83c773558f1b] All chunks processed and queued successfully.
2025-07-30 09:47:19,543 - INFO - MainProcess - [Task-67a52870-f4d1-493f-b19f-83c773558f1b] Processor thread finished and cleaned up.
2025-07-30 09:47:31,937 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-30 09:47:32,058 - INFO - MainProcess - [Task-bad0e20d-c634-493e-b394-6fa33b8d1b7a] Started processing. Expecting 6 chunks.
2025-07-30 09:47:32,059 - INFO - MainProcess - Task bad0e20d-c634-493e-b394-6fa33b8d1b7a has been started in the background.
2025-07-30 09:47:32,152 - INFO - MainProcess - 127.0.0.1 - - [30/Jul/2025 09:47:32] "POST /generate_video HTTP/1.1" 200 -
2025-07-30 09:47:38,655 - INFO - MainProcess - Chunk 0 sent to stream queue.
2025-07-30 09:47:38,655 - INFO - MainProcess - Chunk 1 sent to stream queue.
2025-07-30 09:47:38,656 - INFO - MainProcess - Chunk 2 sent to stream queue.
2025-07-30 09:47:38,656 - INFO - MainProcess - Chunk 3 sent to stream queue.
2025-07-30 09:47:38,656 - INFO - MainProcess - Chunk 4 sent to stream queue.
2025-07-30 09:47:38,656 - INFO - MainProcess - Chunk 5 sent to stream queue.
2025-07-30 09:47:38,656 - INFO - MainProcess - [Task-bad0e20d-c634-493e-b394-6fa33b8d1b7a] All chunks processed and queued successfully.
2025-07-30 09:47:38,656 - INFO - MainProcess - [Task-bad0e20d-c634-493e-b394-6fa33b8d1b7a] Processor thread finished and cleaned up.
2025-07-30 09:58:52,330 - ERROR - MainProcess - Audio pipe write error: [Errno 32] Broken pipe
2025-07-30 09:58:52,331 - ERROR - MainProcess - Video pipe write error: [Errno 32] Broken pipe
2025-07-30 09:58:52,331 - INFO - MainProcess - Audio writer thread finished.
2025-07-30 09:58:52,332 - INFO - MainProcess - Video writer thread finished.
2025-07-30 09:59:04,704 - INFO - MainProcess - Starting Flask service...
2025-07-30 09:59:04,704 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-30 09:59:04,704 - INFO - MainProcess - Loading configuration file...
2025-07-30 09:59:04,717 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-30 09:59:04,717 - INFO - MainProcess - Loading model components...
2025-07-30 09:59:15,474 - INFO - MainProcess - All components loaded successfully.
2025-07-30 09:59:15,474 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-30 09:59:15,566 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-30 09:59:15,566 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-30 09:59:38,556 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-30 09:59:38,557 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-30 09:59:38,570 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-30 09:59:38,615 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-30 09:59:38,615 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-30 09:59:38,615 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/1.25s_GirlMuseum_0730.mp4
2025-07-30 09:59:39,397 - INFO - MainProcess - Processing 40 idle frames to match target resolution 832x1248
2025-07-30 09:59:39,468 - INFO - MainProcess - Idle stream queue populated with 2 chunks.
2025-07-30 09:59:39,468 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-30 09:59:39,468 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-30 09:59:39,468 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-30 09:59:39,483 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-30 09:59:39,483 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-30 09:59:39,488 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-30 09:59:39,489 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-30 09:59:39,513 - INFO - MainProcess - Video pipe opened for writing.
2025-07-30 09:59:39,519 - INFO - MainProcess - Audio pipe opened for writing.
2025-07-30 10:36:43,811 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-30 10:36:44,005 - INFO - MainProcess - [Task-ac9e883b-837a-43f9-b6d5-e5b18216d9a4] Started processing. Expecting 6 chunks.
2025-07-30 10:36:44,005 - INFO - MainProcess - Task ac9e883b-837a-43f9-b6d5-e5b18216d9a4 has been started in the background.
2025-07-30 10:36:44,007 - INFO - MainProcess - 127.0.0.1 - - [30/Jul/2025 10:36:44] "POST /generate_video HTTP/1.1" 200 -
2025-07-30 10:36:50,241 - INFO - MainProcess - Chunk 0 sent to stream queue.
2025-07-30 10:36:50,455 - INFO - MainProcess - Chunk 1 sent to stream queue.
2025-07-30 10:36:51,010 - INFO - MainProcess - Chunk 2 sent to stream queue.
2025-07-30 10:36:51,159 - INFO - MainProcess - Chunk 3 sent to stream queue.
2025-07-30 10:36:51,543 - INFO - MainProcess - Chunk 4 sent to stream queue.
2025-07-30 10:36:51,543 - INFO - MainProcess - Chunk 5 sent to stream queue.
2025-07-30 10:36:51,543 - INFO - MainProcess - [Task-ac9e883b-837a-43f9-b6d5-e5b18216d9a4] All chunks processed and queued successfully.
2025-07-30 10:36:51,543 - INFO - MainProcess - [Task-ac9e883b-837a-43f9-b6d5-e5b18216d9a4] Processor thread finished and cleaned up.
2025-07-30 10:37:32,336 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-30 10:37:32,440 - INFO - MainProcess - [Task-25327b52-8077-4b1f-9817-abc885f1965b] Started processing. Expecting 6 chunks.
2025-07-30 10:37:32,440 - INFO - MainProcess - Task 25327b52-8077-4b1f-9817-abc885f1965b has been started in the background.
2025-07-30 10:37:32,441 - INFO - MainProcess - 127.0.0.1 - - [30/Jul/2025 10:37:32] "POST /generate_video HTTP/1.1" 200 -
2025-07-30 10:37:38,691 - INFO - MainProcess - Chunk 0 sent to stream queue.
2025-07-30 10:37:39,384 - INFO - MainProcess - Chunk 1 sent to stream queue.
2025-07-30 10:37:39,384 - INFO - MainProcess - Chunk 2 sent to stream queue.
2025-07-30 10:37:39,384 - INFO - MainProcess - Chunk 3 sent to stream queue.
2025-07-30 10:37:39,385 - INFO - MainProcess - Chunk 4 sent to stream queue.
2025-07-30 10:37:39,385 - INFO - MainProcess - Chunk 5 sent to stream queue.
2025-07-30 10:37:39,385 - INFO - MainProcess - [Task-25327b52-8077-4b1f-9817-abc885f1965b] All chunks processed and queued successfully.
2025-07-30 10:37:39,385 - INFO - MainProcess - [Task-25327b52-8077-4b1f-9817-abc885f1965b] Processor thread finished and cleaned up.
2025-07-30 10:39:01,279 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-30 10:39:01,379 - INFO - MainProcess - [Task-4aad13e3-8dd2-4c4a-8e0e-a4392ce171b9] Started processing. Expecting 6 chunks.
2025-07-30 10:39:01,379 - INFO - MainProcess - Task 4aad13e3-8dd2-4c4a-8e0e-a4392ce171b9 has been started in the background.
2025-07-30 10:39:01,381 - INFO - MainProcess - 127.0.0.1 - - [30/Jul/2025 10:39:01] "POST /generate_video HTTP/1.1" 200 -
2025-07-30 10:39:05,865 - INFO - MainProcess - Chunk 0 sent to stream queue.
2025-07-30 10:39:06,053 - INFO - MainProcess - Chunk 1 sent to stream queue.
2025-07-30 10:39:06,245 - INFO - MainProcess - Chunk 2 sent to stream queue.
2025-07-30 10:39:06,437 - INFO - MainProcess - Chunk 3 sent to stream queue.
2025-07-30 10:39:06,623 - INFO - MainProcess - Chunk 4 sent to stream queue.
2025-07-30 10:39:06,844 - INFO - MainProcess - Chunk 5 sent to stream queue.
2025-07-30 10:39:06,844 - INFO - MainProcess - [Task-4aad13e3-8dd2-4c4a-8e0e-a4392ce171b9] All chunks processed and queued successfully.
2025-07-30 10:39:06,844 - INFO - MainProcess - [Task-4aad13e3-8dd2-4c4a-8e0e-a4392ce171b9] Processor thread finished and cleaned up.
2025-07-30 11:17:06,736 - ERROR - MainProcess - Video pipe write error: [Errno 32] Broken pipe
2025-07-30 11:17:06,737 - ERROR - MainProcess - Audio pipe write error: [Errno 32] Broken pipe
2025-07-30 11:17:06,737 - INFO - MainProcess - Video writer thread finished.
2025-07-30 11:17:06,738 - INFO - MainProcess - Audio writer thread finished.
2025-07-30 11:17:17,503 - INFO - MainProcess - Starting Flask service...
2025-07-30 11:17:17,504 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-30 11:17:17,504 - INFO - MainProcess - Loading configuration file...
2025-07-30 11:17:17,516 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-30 11:17:17,516 - INFO - MainProcess - Loading model components...
2025-07-30 11:17:28,227 - INFO - MainProcess - All components loaded successfully.
2025-07-30 11:17:28,228 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-30 11:17:28,397 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-30 11:17:28,398 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-30 11:17:50,452 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-30 11:17:50,452 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-30 11:17:50,467 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-30 11:17:50,513 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-30 11:17:50,513 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-30 11:17:50,513 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/1.25s_GirlMuseum_0730.mp4
2025-07-30 11:17:51,384 - INFO - MainProcess - Trimming idle video to 32 frames for seamless looping.
2025-07-30 11:17:51,399 - INFO - MainProcess - Idle stream queue populated with 2 chunks for seamless loop.
2025-07-30 11:17:51,399 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-30 11:17:51,400 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-30 11:17:51,400 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-30 11:17:51,412 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-30 11:17:51,412 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-30 11:17:51,416 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-30 11:17:51,416 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-30 11:17:51,441 - INFO - MainProcess - Video pipe opened for writing.
2025-07-30 11:17:51,447 - INFO - MainProcess - Audio pipe opened for writing.
2025-07-30 11:22:38,305 - ERROR - MainProcess - Video pipe write error: [Errno 32] Broken pipe
2025-07-30 11:22:38,306 - ERROR - MainProcess - Audio pipe write error: [Errno 32] Broken pipe
2025-07-30 11:22:38,306 - INFO - MainProcess - Video writer thread finished.
2025-07-30 11:22:38,306 - ERROR - MainProcess - Audio writer thread crashed: [Errno 32] Broken pipe
2025-07-30 11:22:38,306 - INFO - MainProcess - Audio writer thread finished.
2025-07-30 11:22:49,020 - INFO - MainProcess - Starting Flask service...
2025-07-30 11:22:49,021 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-30 11:22:49,021 - INFO - MainProcess - Loading configuration file...
2025-07-30 11:22:49,033 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-30 11:22:49,033 - INFO - MainProcess - Loading model components...
2025-07-30 11:22:59,236 - INFO - MainProcess - All components loaded successfully.
2025-07-30 11:22:59,236 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-30 11:22:59,401 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-30 11:22:59,401 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-30 11:23:21,231 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-30 11:23:21,232 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-30 11:23:21,246 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-30 11:23:21,288 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-30 11:23:21,288 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-30 11:23:21,288 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/1.25s_GirlMuseum_0730.mp4
2025-07-30 11:23:22,099 - INFO - MainProcess - Trimming idle video to 32 frames for seamless looping.
2025-07-30 11:23:22,112 - INFO - MainProcess - Idle stream queue populated with 2 chunks for seamless loop.
2025-07-30 11:23:22,113 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-30 11:23:22,113 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-30 11:23:22,113 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-30 11:23:22,114 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-30 11:23:22,114 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-30 11:23:22,120 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-30 11:23:22,120 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-30 11:23:22,144 - INFO - MainProcess - Video pipe opened for writing.
2025-07-30 11:23:22,150 - INFO - MainProcess - Audio pipe opened for writing.
2025-07-30 11:29:38,680 - ERROR - MainProcess - Audio pipe write error: [Errno 32] Broken pipe
2025-07-30 11:29:38,680 - ERROR - MainProcess - Video pipe write error: [Errno 32] Broken pipe
2025-07-30 11:29:38,681 - ERROR - MainProcess - Audio writer thread crashed: [Errno 32] Broken pipe
2025-07-30 11:29:38,681 - INFO - MainProcess - Video writer thread finished.
2025-07-30 11:29:38,681 - INFO - MainProcess - Audio writer thread finished.
2025-07-30 11:29:45,260 - INFO - MainProcess - Starting Flask service...
2025-07-30 11:29:45,260 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-30 11:29:45,260 - INFO - MainProcess - Loading configuration file...
2025-07-30 11:29:45,273 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-30 11:29:45,273 - INFO - MainProcess - Loading model components...
2025-07-30 11:29:55,633 - INFO - MainProcess - All components loaded successfully.
2025-07-30 11:29:55,633 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-30 11:29:55,807 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-30 11:29:55,808 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-30 11:30:17,756 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-30 11:30:17,757 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-30 11:30:17,770 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-30 11:30:17,820 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-30 11:30:17,821 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-30 11:30:17,821 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/1.25s_GirlMuseum_0730.mp4
2025-07-30 11:30:18,613 - INFO - MainProcess - Trimming idle video to 32 frames for seamless looping.
2025-07-30 11:30:18,628 - INFO - MainProcess - Idle stream queue populated with 2 chunks for seamless loop.
2025-07-30 11:30:18,628 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-30 11:30:18,629 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-30 11:30:18,629 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-30 11:30:18,630 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-30 11:30:18,631 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-30 11:30:18,635 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-30 11:30:18,635 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-30 11:30:18,659 - INFO - MainProcess - Video pipe opened for writing.
2025-07-30 11:30:18,665 - INFO - MainProcess - Audio pipe opened for writing.
2025-07-30 11:46:28,455 - ERROR - MainProcess - Audio pipe write error: [Errno 32] Broken pipe
2025-07-30 11:46:28,457 - ERROR - MainProcess - Video pipe write error: [Errno 32] Broken pipe
2025-07-30 11:46:28,457 - INFO - MainProcess - Audio writer thread finished.
2025-07-30 11:46:28,457 - INFO - MainProcess - Video writer thread finished.
2025-07-30 11:46:37,656 - INFO - MainProcess - Starting Flask service...
2025-07-30 11:46:37,656 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-30 11:46:37,656 - INFO - MainProcess - Loading configuration file...
2025-07-30 11:46:37,668 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-30 11:46:37,669 - INFO - MainProcess - Loading model components...
2025-07-30 11:46:48,362 - INFO - MainProcess - All components loaded successfully.
2025-07-30 11:46:48,362 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-30 11:46:48,452 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-30 11:46:48,452 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-30 11:47:11,175 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-30 11:47:11,176 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-30 11:47:11,189 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-30 11:47:11,239 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-30 11:47:11,240 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-30 11:47:11,240 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/1.55s_GirlMuseum_0730.mp4
2025-07-30 11:47:12,048 - INFO - MainProcess - Processing 40 idle frames to match target resolution 832x1248
2025-07-30 11:47:12,106 - INFO - MainProcess - Idle stream queue populated with 2 chunks.
2025-07-30 11:47:12,106 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-30 11:47:12,107 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-30 11:47:12,107 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-30 11:47:12,108 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-30 11:47:12,108 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-30 11:47:12,112 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-30 11:47:12,112 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-30 11:47:12,138 - INFO - MainProcess - Video pipe opened for writing.
2025-07-30 11:47:12,143 - INFO - MainProcess - Audio pipe opened for writing.
2025-07-30 11:49:04,391 - ERROR - MainProcess - Video pipe write error: [Errno 32] Broken pipe
2025-07-30 11:49:04,391 - ERROR - MainProcess - Audio pipe write error: [Errno 32] Broken pipe
2025-07-30 11:49:04,391 - INFO - MainProcess - Video writer thread finished.
2025-07-30 11:49:04,391 - INFO - MainProcess - Audio writer thread finished.
2025-07-30 11:49:11,612 - INFO - MainProcess - Starting Flask service...
2025-07-30 11:49:11,612 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-30 11:49:11,612 - INFO - MainProcess - Loading configuration file...
2025-07-30 11:49:11,624 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-30 11:49:11,624 - INFO - MainProcess - Loading model components...
2025-07-30 11:49:21,804 - INFO - MainProcess - All components loaded successfully.
2025-07-30 11:49:21,804 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-30 11:49:21,894 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-30 11:49:21,894 - INFO - MainProcess - Preprocessing video file: assets/video/25s_girl_0718_00.mp4...
2025-07-30 11:49:22,414 - ERROR - MainProcess - Could not read any frames from video: assets/video/25s_girl_0718_00.mp4. Please check the path and file integrity.
2025-07-30 11:50:37,113 - INFO - MainProcess - Starting Flask service...
2025-07-30 11:50:37,114 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-30 11:50:37,114 - INFO - MainProcess - Loading configuration file...
2025-07-30 11:50:37,126 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-30 11:50:37,126 - INFO - MainProcess - Loading model components...
2025-07-30 11:50:47,770 - INFO - MainProcess - All components loaded successfully.
2025-07-30 11:50:47,770 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-30 11:50:47,852 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-30 11:50:47,852 - INFO - MainProcess - Preprocessing video file: assets/video/25s_girl_0718_00_formal.mp4...
2025-07-30 11:51:24,881 - INFO - MainProcess - Video preprocessed successfully. Found 644 frames/faces.
2025-07-30 11:51:24,881 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-30 11:51:24,899 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-30 11:51:24,950 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-30 11:51:24,950 - INFO - MainProcess - Detected target stream resolution from source video: 720x1080
2025-07-30 11:51:24,950 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/1.55s_GirlMuseum_0730.mp4
2025-07-30 11:51:25,724 - INFO - MainProcess - Processing 40 idle frames to match target resolution 720x1080
2025-07-30 11:51:25,772 - INFO - MainProcess - Idle stream queue populated with 2 chunks.
2025-07-30 11:51:25,772 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-30 11:51:25,772 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-30 11:51:25,772 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-30 11:51:25,780 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-30 11:51:25,780 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-30 11:51:25,783 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-30 11:51:25,783 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-30 11:51:25,807 - INFO - MainProcess - Video pipe opened for writing.
2025-07-30 11:51:25,811 - INFO - MainProcess - Audio pipe opened for writing.
2025-07-30 12:19:16,179 - ERROR - MainProcess - Video pipe write error: [Errno 32] Broken pipe
2025-07-30 12:19:16,180 - ERROR - MainProcess - Audio pipe write error: [Errno 32] Broken pipe
2025-07-30 12:19:16,181 - INFO - MainProcess - Video writer thread finished.
2025-07-30 12:19:16,181 - INFO - MainProcess - Audio writer thread finished.
2025-07-30 12:19:25,024 - INFO - MainProcess - Starting Flask service...
2025-07-30 12:19:25,024 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-30 12:19:25,024 - INFO - MainProcess - Loading configuration file...
2025-07-30 12:19:25,037 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-30 12:19:25,037 - INFO - MainProcess - Loading model components...
2025-07-30 12:19:36,324 - INFO - MainProcess - All components loaded successfully.
2025-07-30 12:19:36,325 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-30 12:19:36,415 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-30 12:19:36,415 - INFO - MainProcess - Preprocessing video file: assets/video/25s_girl_0718_00_formal.mp4...
2025-07-30 12:20:13,071 - INFO - MainProcess - Video preprocessed successfully. Found 644 frames/faces.
2025-07-30 12:20:13,072 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-30 12:20:13,090 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-30 12:20:13,140 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-30 12:20:13,141 - INFO - MainProcess - Detected target stream resolution from source video: 720x1080
2025-07-30 12:20:13,141 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/2s_GirlMuseum_0730.mp4
2025-07-30 12:20:14,036 - INFO - MainProcess - Processing 50 idle frames to match target resolution 720x1080
2025-07-30 12:20:14,121 - INFO - MainProcess - Idle stream queue populated with 2 chunks.
2025-07-30 12:20:14,121 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-30 12:20:14,121 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-30 12:20:14,121 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-30 12:20:14,130 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-30 12:20:14,131 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-30 12:20:14,134 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-30 12:20:14,135 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-30 12:20:14,157 - INFO - MainProcess - Video pipe opened for writing.
2025-07-30 12:20:14,161 - INFO - MainProcess - Audio pipe opened for writing.
2025-07-30 12:21:34,699 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-30 12:21:34,902 - INFO - MainProcess - [Task-847c6306-c96d-4b47-afa4-c56c9824d362] Started processing. Expecting 4 chunks.
2025-07-30 12:21:34,902 - INFO - MainProcess - Task 847c6306-c96d-4b47-afa4-c56c9824d362 has been started in the background.
2025-07-30 12:21:34,903 - INFO - MainProcess - 127.0.0.1 - - [30/Jul/2025 12:21:34] "POST /generate_video HTTP/1.1" 200 -
2025-07-30 12:21:40,579 - INFO - MainProcess - [Task-847c6306-c96d-4b47-afa4-c56c9824d362] Chunk 0 sent to stream queue.
2025-07-30 12:21:41,116 - INFO - MainProcess - [Task-847c6306-c96d-4b47-afa4-c56c9824d362] Chunk 1 sent to stream queue.
2025-07-30 12:21:41,116 - INFO - MainProcess - [Task-847c6306-c96d-4b47-afa4-c56c9824d362] Chunk 2 sent to stream queue.
2025-07-30 12:21:41,279 - INFO - MainProcess - [Task-847c6306-c96d-4b47-afa4-c56c9824d362] Chunk 3 sent to stream queue.
2025-07-30 12:21:41,280 - INFO - MainProcess - [Task-847c6306-c96d-4b47-afa4-c56c9824d362] All chunks processed and queued successfully.
2025-07-30 12:21:41,280 - INFO - MainProcess - [Task-847c6306-c96d-4b47-afa4-c56c9824d362] Processor thread finished and cleaned up.
2025-07-30 12:29:39,213 - ERROR - MainProcess - Audio pipe write error: [Errno 32] Broken pipe
2025-07-30 12:29:39,213 - ERROR - MainProcess - Video pipe write error: [Errno 32] Broken pipe
2025-07-30 12:29:39,214 - INFO - MainProcess - Audio writer thread finished.
2025-07-30 12:29:39,214 - INFO - MainProcess - Video writer thread finished.
2025-07-30 12:29:45,542 - INFO - MainProcess - Starting Flask service...
2025-07-30 12:29:45,543 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-30 12:29:45,543 - INFO - MainProcess - Loading configuration file...
2025-07-30 12:29:45,555 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-30 12:29:45,555 - INFO - MainProcess - Loading model components...
2025-07-30 12:29:56,329 - INFO - MainProcess - All components loaded successfully.
2025-07-30 12:29:56,330 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-30 12:29:56,423 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-30 12:29:56,423 - INFO - MainProcess - Preprocessing video file: assets/video/25s_girl_0718_00_formal.mp4...
2025-07-30 12:30:33,489 - INFO - MainProcess - Video preprocessed successfully. Found 644 frames/faces.
2025-07-30 12:30:33,489 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-30 12:30:33,504 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-30 12:30:33,566 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-30 12:30:33,567 - INFO - MainProcess - Detected target stream resolution from source video: 720x1080
2025-07-30 12:30:33,567 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-30 12:30:36,412 - INFO - MainProcess - Processing 450 idle frames to match target resolution 720x1080
2025-07-30 12:30:36,989 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-30 12:30:36,989 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-30 12:30:36,989 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-30 12:30:36,989 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-30 12:30:36,991 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-30 12:30:37,077 - INFO - MainProcess - Video pipe opened for writing.
2025-07-30 12:30:37,077 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-30 12:30:37,080 - INFO - MainProcess - Audio pipe opened for writing.
2025-07-30 12:30:37,080 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-30 12:30:37,081 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-30 12:31:58,168 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-30 12:31:58,361 - INFO - MainProcess - [Task-c5e5fa55-1fb6-4cac-9b3d-fb6750d1bb21] Started processing. Expecting 4 chunks.
2025-07-30 12:31:58,361 - INFO - MainProcess - Task c5e5fa55-1fb6-4cac-9b3d-fb6750d1bb21 has been started in the background.
2025-07-30 12:31:58,362 - INFO - MainProcess - 127.0.0.1 - - [30/Jul/2025 12:31:58] "POST /generate_video HTTP/1.1" 200 -
2025-07-30 12:32:03,725 - INFO - MainProcess - [Task-c5e5fa55-1fb6-4cac-9b3d-fb6750d1bb21] Chunk 0 sent to stream queue.
2025-07-30 12:32:04,592 - INFO - MainProcess - [Task-c5e5fa55-1fb6-4cac-9b3d-fb6750d1bb21] Chunk 1 sent to stream queue.
2025-07-30 12:32:04,740 - INFO - MainProcess - [Task-c5e5fa55-1fb6-4cac-9b3d-fb6750d1bb21] Chunk 2 sent to stream queue.
2025-07-30 12:32:04,895 - INFO - MainProcess - [Task-c5e5fa55-1fb6-4cac-9b3d-fb6750d1bb21] Chunk 3 sent to stream queue.
2025-07-30 12:32:04,895 - INFO - MainProcess - [Task-c5e5fa55-1fb6-4cac-9b3d-fb6750d1bb21] All chunks processed and queued successfully.
2025-07-30 12:32:04,895 - INFO - MainProcess - [Task-c5e5fa55-1fb6-4cac-9b3d-fb6750d1bb21] Processor thread finished and cleaned up.
2025-07-30 12:32:57,170 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-30 12:32:57,282 - INFO - MainProcess - [Task-dda22774-b63d-4583-9ede-286faf3f0e40] Started processing. Expecting 4 chunks.
2025-07-30 12:32:57,283 - INFO - MainProcess - Task dda22774-b63d-4583-9ede-286faf3f0e40 has been started in the background.
2025-07-30 12:32:57,283 - INFO - MainProcess - 127.0.0.1 - - [30/Jul/2025 12:32:57] "POST /generate_video HTTP/1.1" 200 -
2025-07-30 12:33:02,749 - INFO - MainProcess - [Task-dda22774-b63d-4583-9ede-286faf3f0e40] Chunk 0 sent to stream queue.
2025-07-30 12:33:02,954 - INFO - MainProcess - [Task-dda22774-b63d-4583-9ede-286faf3f0e40] Chunk 1 sent to stream queue.
2025-07-30 12:33:03,470 - INFO - MainProcess - [Task-dda22774-b63d-4583-9ede-286faf3f0e40] Chunk 2 sent to stream queue.
2025-07-30 12:33:03,470 - INFO - MainProcess - [Task-dda22774-b63d-4583-9ede-286faf3f0e40] Chunk 3 sent to stream queue.
2025-07-30 12:33:03,471 - INFO - MainProcess - [Task-dda22774-b63d-4583-9ede-286faf3f0e40] All chunks processed and queued successfully.
2025-07-30 12:33:03,471 - INFO - MainProcess - [Task-dda22774-b63d-4583-9ede-286faf3f0e40] Processor thread finished and cleaned up.
2025-07-30 12:49:40,933 - INFO - MainProcess - Starting Flask service...
2025-07-30 12:49:40,933 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-30 12:49:40,933 - INFO - MainProcess - Loading configuration file...
2025-07-30 12:49:40,947 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-30 12:49:40,947 - INFO - MainProcess - Loading model components...
2025-07-30 12:49:52,549 - INFO - MainProcess - All components loaded successfully.
2025-07-30 12:49:52,549 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-30 12:49:52,642 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-30 12:49:52,642 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-30 12:50:15,542 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-30 12:50:15,542 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-30 12:50:15,558 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-30 12:50:15,608 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-30 12:50:15,608 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-30 12:50:15,608 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-30 12:50:18,540 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-30 12:50:19,412 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-30 12:50:19,413 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-30 12:50:19,413 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-30 12:50:19,413 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-30 12:50:19,527 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-30 12:50:19,531 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-30 12:50:19,541 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-30 12:50:19,541 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-30 12:50:19,587 - INFO - MainProcess - Video pipe opened for writing.
2025-07-30 12:50:19,606 - INFO - MainProcess - Audio pipe opened for writing.
2025-07-30 12:50:40,715 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-30 12:50:40,910 - INFO - MainProcess - [Task-8c5927f7-a885-43df-9d51-4969cc23f4d5] Started processing. Expecting 4 chunks.
2025-07-30 12:50:40,910 - INFO - MainProcess - Task 8c5927f7-a885-43df-9d51-4969cc23f4d5 has been started in the background.
2025-07-30 12:50:40,911 - INFO - MainProcess - 127.0.0.1 - - [30/Jul/2025 12:50:40] "POST /generate_video HTTP/1.1" 200 -
2025-07-30 12:50:47,131 - INFO - MainProcess - [Task-8c5927f7-a885-43df-9d51-4969cc23f4d5] Chunk 0 sent to stream queue.
2025-07-30 12:50:47,436 - INFO - MainProcess - [Task-8c5927f7-a885-43df-9d51-4969cc23f4d5] Chunk 1 sent to stream queue.
2025-07-30 12:50:47,841 - INFO - MainProcess - [Task-8c5927f7-a885-43df-9d51-4969cc23f4d5] Chunk 2 sent to stream queue.
2025-07-30 12:50:47,841 - INFO - MainProcess - [Task-8c5927f7-a885-43df-9d51-4969cc23f4d5] Chunk 3 sent to stream queue.
2025-07-30 12:50:47,841 - INFO - MainProcess - [Task-8c5927f7-a885-43df-9d51-4969cc23f4d5] All chunks processed and queued successfully.
2025-07-30 12:50:47,841 - INFO - MainProcess - [Task-8c5927f7-a885-43df-9d51-4969cc23f4d5] Processor thread finished and cleaned up.
2025-07-30 13:04:21,078 - ERROR - MainProcess - Audio pipe write error: [Errno 32] Broken pipe
2025-07-30 13:04:21,078 - ERROR - MainProcess - Video pipe write error: [Errno 32] Broken pipe
2025-07-30 13:04:21,079 - INFO - MainProcess - Audio writer thread finished.
2025-07-30 13:04:21,079 - INFO - MainProcess - Video writer thread finished.
2025-07-30 13:04:26,365 - INFO - MainProcess - Starting Flask service...
2025-07-30 13:04:26,366 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-30 13:04:26,366 - INFO - MainProcess - Loading configuration file...
2025-07-30 13:04:26,378 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-30 13:04:26,378 - INFO - MainProcess - Loading model components...
2025-07-30 13:04:37,453 - INFO - MainProcess - All components loaded successfully.
2025-07-30 13:04:37,453 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-30 13:04:37,540 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-30 13:04:37,540 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-30 13:05:00,028 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-30 13:05:00,029 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-30 13:05:00,043 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-30 13:05:00,079 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-30 13:05:00,079 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-30 13:05:00,079 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-30 13:05:03,171 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-30 13:05:04,143 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-30 13:05:04,143 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-30 13:05:04,144 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-30 13:05:04,144 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-30 13:05:04,300 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-30 13:05:04,301 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-30 13:05:04,308 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-30 13:05:04,309 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-30 13:05:04,332 - INFO - MainProcess - Video pipe opened for writing.
2025-07-30 13:05:04,339 - INFO - MainProcess - Audio pipe opened for writing.
2025-07-30 13:29:27,171 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-30 13:29:27,367 - INFO - MainProcess - [Task-ce9c322f-ddc8-459d-849b-4879e412ff73] Started processing. Expecting 4 chunks.
2025-07-30 13:29:27,367 - INFO - MainProcess - Task ce9c322f-ddc8-459d-849b-4879e412ff73 has been started in the background.
2025-07-30 13:29:27,368 - INFO - MainProcess - 127.0.0.1 - - [30/Jul/2025 13:29:27] "POST /generate_video HTTP/1.1" 200 -
2025-07-30 13:29:27,835 - WARNING - MainProcess - [Task-ce9c322f-ddc8-459d-849b-4879e412ff73] Received a failed chunk (None) for index 0. Skipping.
2025-07-30 13:29:28,155 - WARNING - MainProcess - [Task-ce9c322f-ddc8-459d-849b-4879e412ff73] Received a failed chunk (None) for index 1. Skipping.
2025-07-30 13:29:28,350 - WARNING - MainProcess - [Task-ce9c322f-ddc8-459d-849b-4879e412ff73] Received a failed chunk (None) for index 2. Skipping.
2025-07-30 13:29:28,529 - WARNING - MainProcess - [Task-ce9c322f-ddc8-459d-849b-4879e412ff73] Received a failed chunk (None) for index 3. Skipping.
2025-07-30 13:29:28,530 - INFO - MainProcess - [Task-ce9c322f-ddc8-459d-849b-4879e412ff73] All chunks processed and queued successfully.
2025-07-30 13:29:28,530 - INFO - MainProcess - [Task-ce9c322f-ddc8-459d-849b-4879e412ff73] Processor thread finished and cleaned up.
2025-07-30 13:32:52,329 - ERROR - MainProcess - Audio pipe write error: [Errno 32] Broken pipe
2025-07-30 13:32:52,330 - ERROR - MainProcess - Video pipe write error: [Errno 32] Broken pipe
2025-07-30 13:32:52,330 - INFO - MainProcess - Audio writer thread finished.
2025-07-30 13:32:52,330 - INFO - MainProcess - Video writer thread finished.
2025-07-30 13:32:58,880 - INFO - MainProcess - Starting Flask service...
2025-07-30 13:32:58,880 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-30 13:32:58,880 - INFO - MainProcess - Loading configuration file...
2025-07-30 13:32:58,892 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-30 13:32:58,892 - INFO - MainProcess - Loading model components...
2025-07-30 13:33:09,933 - INFO - MainProcess - All components loaded successfully.
2025-07-30 13:33:09,933 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-30 13:33:10,011 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-30 13:33:10,011 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-30 13:33:32,943 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-30 13:33:32,944 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-30 13:33:32,959 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-30 13:33:33,004 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-30 13:33:33,004 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-30 13:33:33,004 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-30 13:33:35,739 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-30 13:33:36,599 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-30 13:33:36,599 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-30 13:33:36,600 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-30 13:33:36,600 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-30 13:33:36,691 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-30 13:33:36,692 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-30 13:33:36,697 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-30 13:33:36,697 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-30 13:33:36,720 - INFO - MainProcess - Video pipe opened for writing.
2025-07-30 13:33:36,726 - INFO - MainProcess - Audio pipe opened for writing.
2025-07-30 13:35:10,762 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-30 13:35:10,961 - INFO - MainProcess - [Task-d39a0ebd-d98d-4a70-b73b-da892fd684df] Started processing. Expecting 4 chunks.
2025-07-30 13:35:10,961 - INFO - MainProcess - Task d39a0ebd-d98d-4a70-b73b-da892fd684df has been started in the background.
2025-07-30 13:35:10,962 - INFO - MainProcess - 127.0.0.1 - - [30/Jul/2025 13:35:10] "POST /generate_video HTTP/1.1" 200 -
2025-07-30 13:35:17,111 - INFO - MainProcess - [Task-d39a0ebd-d98d-4a70-b73b-da892fd684df] Chunk 0 sent to stream queue.
2025-07-30 13:35:17,344 - INFO - MainProcess - [Task-d39a0ebd-d98d-4a70-b73b-da892fd684df] Chunk 1 sent to stream queue.
2025-07-30 13:35:17,812 - INFO - MainProcess - [Task-d39a0ebd-d98d-4a70-b73b-da892fd684df] Chunk 2 sent to stream queue.
2025-07-30 13:35:17,812 - INFO - MainProcess - [Task-d39a0ebd-d98d-4a70-b73b-da892fd684df] Chunk 3 sent to stream queue.
2025-07-30 13:35:17,812 - INFO - MainProcess - [Task-d39a0ebd-d98d-4a70-b73b-da892fd684df] All chunks processed and queued successfully.
2025-07-30 13:35:17,812 - INFO - MainProcess - [Task-d39a0ebd-d98d-4a70-b73b-da892fd684df] Processor thread finished and cleaned up.
2025-07-30 13:38:58,024 - ERROR - MainProcess - Audio pipe write error: [Errno 32] Broken pipe
2025-07-30 13:38:58,024 - ERROR - MainProcess - Video pipe write error: [Errno 32] Broken pipe
2025-07-30 13:38:58,025 - INFO - MainProcess - Audio writer thread finished.
2025-07-30 13:38:58,025 - INFO - MainProcess - Video writer thread finished.
2025-07-30 13:39:04,397 - INFO - MainProcess - Starting Flask service...
2025-07-30 13:39:04,397 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-30 13:39:04,397 - INFO - MainProcess - Loading configuration file...
2025-07-30 13:39:04,409 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-30 13:39:04,409 - INFO - MainProcess - Loading model components...
2025-07-30 13:39:15,054 - INFO - MainProcess - All components loaded successfully.
2025-07-30 13:39:15,055 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-30 13:39:15,131 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-30 13:39:15,131 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-30 13:39:38,032 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-30 13:39:38,032 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-30 13:39:38,048 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-30 13:39:38,099 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-30 13:39:38,100 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-30 13:39:38,100 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-30 13:39:40,829 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-30 13:39:41,768 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-30 13:39:41,769 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-30 13:39:41,769 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-30 13:39:41,770 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-30 13:39:41,904 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-30 13:39:41,913 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-30 13:39:41,922 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-30 13:39:41,922 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-30 13:39:41,939 - INFO - MainProcess - Video pipe opened for writing.
2025-07-30 13:39:41,945 - INFO - MainProcess - Audio pipe opened for writing.
2025-07-30 13:40:21,431 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-30 13:40:21,695 - INFO - MainProcess - [Task-1b07f552-05a8-46c5-a9f3-0ce3bc10b2e6] Started processing. Expecting 4 chunks.
2025-07-30 13:40:21,696 - INFO - MainProcess - Task 1b07f552-05a8-46c5-a9f3-0ce3bc10b2e6 has been started in the background.
2025-07-30 13:40:21,700 - INFO - MainProcess - 127.0.0.1 - - [30/Jul/2025 13:40:21] "POST /generate_video HTTP/1.1" 200 -
2025-07-30 13:40:28,550 - INFO - MainProcess - [Task-1b07f552-05a8-46c5-a9f3-0ce3bc10b2e6] Chunk 0 sent to stream queue.
2025-07-30 13:40:28,550 - INFO - MainProcess - [Task-1b07f552-05a8-46c5-a9f3-0ce3bc10b2e6] Chunk 1 sent to stream queue.
2025-07-30 13:40:28,971 - INFO - MainProcess - [Task-1b07f552-05a8-46c5-a9f3-0ce3bc10b2e6] Chunk 2 sent to stream queue.
2025-07-30 13:40:28,972 - INFO - MainProcess - [Task-1b07f552-05a8-46c5-a9f3-0ce3bc10b2e6] Chunk 3 sent to stream queue.
2025-07-30 13:40:28,972 - INFO - MainProcess - [Task-1b07f552-05a8-46c5-a9f3-0ce3bc10b2e6] All chunks processed and queued successfully.
2025-07-30 13:40:28,972 - INFO - MainProcess - [Task-1b07f552-05a8-46c5-a9f3-0ce3bc10b2e6] Processor thread finished and cleaned up.
2025-07-30 13:40:50,868 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-30 13:40:50,979 - INFO - MainProcess - [Task-5d23dd5e-7df1-44c0-a96d-46df26d1549e] Started processing. Expecting 4 chunks.
2025-07-30 13:40:50,980 - INFO - MainProcess - Task 5d23dd5e-7df1-44c0-a96d-46df26d1549e has been started in the background.
2025-07-30 13:40:51,178 - INFO - MainProcess - 127.0.0.1 - - [30/Jul/2025 13:40:51] "POST /generate_video HTTP/1.1" 200 -
2025-07-30 13:40:57,080 - INFO - MainProcess - [Task-5d23dd5e-7df1-44c0-a96d-46df26d1549e] Chunk 0 sent to stream queue.
2025-07-30 13:40:57,399 - INFO - MainProcess - [Task-5d23dd5e-7df1-44c0-a96d-46df26d1549e] Chunk 1 sent to stream queue.
2025-07-30 13:40:57,874 - INFO - MainProcess - [Task-5d23dd5e-7df1-44c0-a96d-46df26d1549e] Chunk 2 sent to stream queue.
2025-07-30 13:40:57,875 - INFO - MainProcess - [Task-5d23dd5e-7df1-44c0-a96d-46df26d1549e] Chunk 3 sent to stream queue.
2025-07-30 13:40:57,875 - INFO - MainProcess - [Task-5d23dd5e-7df1-44c0-a96d-46df26d1549e] All chunks processed and queued successfully.
2025-07-30 13:40:57,875 - INFO - MainProcess - [Task-5d23dd5e-7df1-44c0-a96d-46df26d1549e] Processor thread finished and cleaned up.
2025-07-30 13:45:17,733 - ERROR - MainProcess - Audio pipe write error: [Errno 32] Broken pipe
2025-07-30 13:45:17,734 - ERROR - MainProcess - Video pipe write error: [Errno 32] Broken pipe
2025-07-30 13:45:17,734 - INFO - MainProcess - Audio writer thread finished.
2025-07-30 13:45:17,735 - INFO - MainProcess - Video writer thread finished.
2025-07-30 13:48:55,461 - INFO - MainProcess - Starting Flask service...
2025-07-30 13:48:55,461 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-30 13:48:55,461 - INFO - MainProcess - Loading configuration file...
2025-07-30 13:48:55,474 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-30 13:48:55,474 - INFO - MainProcess - Loading model components...
2025-07-30 13:49:06,197 - INFO - MainProcess - All components loaded successfully.
2025-07-30 13:49:06,197 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-30 13:49:06,281 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-30 13:49:06,281 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-30 13:49:28,899 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-30 13:49:28,900 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-30 13:49:28,914 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-30 13:49:28,963 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-30 13:49:28,964 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-30 13:49:28,964 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-30 13:49:31,792 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-30 13:49:32,652 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-30 13:49:32,652 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-30 13:49:32,653 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-30 13:49:32,653 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-30 13:49:32,746 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-30 13:49:32,747 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-30 13:49:32,752 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-30 13:49:32,752 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-30 13:49:32,776 - INFO - MainProcess - Video pipe opened for writing.
2025-07-30 13:49:32,781 - INFO - MainProcess - Audio pipe opened for writing.
2025-07-30 13:50:25,438 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-30 13:50:25,640 - INFO - MainProcess - [Task-a60fac2c-8a18-4a05-87f0-4225c655954d] Started processing. Expecting 4 chunks.
2025-07-30 13:50:25,640 - INFO - MainProcess - Task a60fac2c-8a18-4a05-87f0-4225c655954d has been started in the background.
2025-07-30 13:50:25,641 - INFO - MainProcess - 127.0.0.1 - - [30/Jul/2025 13:50:25] "POST /generate_video HTTP/1.1" 200 -
2025-07-30 13:50:31,845 - INFO - MainProcess - [Task-a60fac2c-8a18-4a05-87f0-4225c655954d] Chunk 0 sent to stream queue.
2025-07-30 13:50:32,591 - INFO - MainProcess - [Task-a60fac2c-8a18-4a05-87f0-4225c655954d] Chunk 1 sent to stream queue.
2025-07-30 13:50:32,828 - INFO - MainProcess - [Task-a60fac2c-8a18-4a05-87f0-4225c655954d] Chunk 2 sent to stream queue.
2025-07-30 13:50:33,200 - INFO - MainProcess - [Task-a60fac2c-8a18-4a05-87f0-4225c655954d] Chunk 3 sent to stream queue.
2025-07-30 13:50:33,200 - INFO - MainProcess - [Task-a60fac2c-8a18-4a05-87f0-4225c655954d] All chunks processed and queued successfully.
2025-07-30 13:50:33,200 - INFO - MainProcess - [Task-a60fac2c-8a18-4a05-87f0-4225c655954d] Processor thread finished and cleaned up.
2025-07-30 13:50:49,620 - ERROR - MainProcess - Video pipe write error: [Errno 32] Broken pipe
2025-07-30 13:50:49,620 - ERROR - MainProcess - Audio pipe write error: [Errno 32] Broken pipe
2025-07-30 13:50:49,621 - INFO - MainProcess - Video writer thread finished.
2025-07-30 13:50:49,621 - INFO - MainProcess - Audio writer thread finished.
2025-07-30 13:50:56,501 - INFO - MainProcess - Starting Flask service...
2025-07-30 13:50:56,501 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-30 13:50:56,502 - INFO - MainProcess - Loading configuration file...
2025-07-30 13:50:56,514 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-30 13:50:56,514 - INFO - MainProcess - Loading model components...
2025-07-30 13:51:06,795 - INFO - MainProcess - All components loaded successfully.
2025-07-30 13:51:06,795 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-30 13:51:06,873 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-30 13:51:06,873 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-30 13:51:29,440 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-30 13:51:29,440 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-30 13:51:29,454 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-30 13:51:29,498 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-30 13:51:29,499 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-30 13:51:29,499 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-30 13:51:32,260 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-30 13:51:33,088 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-30 13:51:33,089 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-30 13:51:33,089 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-30 13:51:33,089 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-30 13:51:33,094 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-30 13:51:33,206 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-30 13:51:33,207 - INFO - MainProcess - Video pipe opened for writing.
2025-07-30 13:51:33,212 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-30 13:51:33,212 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-30 13:51:33,212 - INFO - MainProcess - Audio pipe opened for writing.
2025-07-30 13:52:16,674 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-30 13:52:16,872 - INFO - MainProcess - [Task-80539deb-f95a-473a-a3d3-b59fa25df233] Started processing. Expecting 4 chunks.
2025-07-30 13:52:16,873 - INFO - MainProcess - Task 80539deb-f95a-473a-a3d3-b59fa25df233 has been started in the background.
2025-07-30 13:52:16,874 - INFO - MainProcess - 127.0.0.1 - - [30/Jul/2025 13:52:16] "POST /generate_video HTTP/1.1" 200 -
2025-07-30 13:52:25,422 - INFO - MainProcess - [Task-80539deb-f95a-473a-a3d3-b59fa25df233] Chunk 0 sent to stream queue.
2025-07-30 13:52:25,423 - INFO - MainProcess - [Task-80539deb-f95a-473a-a3d3-b59fa25df233] Chunk 1 sent to stream queue.
2025-07-30 13:52:26,178 - INFO - MainProcess - [Task-80539deb-f95a-473a-a3d3-b59fa25df233] Chunk 2 sent to stream queue.
2025-07-30 13:52:26,382 - INFO - MainProcess - [Task-80539deb-f95a-473a-a3d3-b59fa25df233] Chunk 3 sent to stream queue.
2025-07-30 13:52:26,382 - INFO - MainProcess - [Task-80539deb-f95a-473a-a3d3-b59fa25df233] All chunks processed and queued successfully.
2025-07-30 13:52:26,382 - INFO - MainProcess - [Task-80539deb-f95a-473a-a3d3-b59fa25df233] Processor thread finished and cleaned up.
2025-07-30 13:52:55,265 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-30 13:52:55,373 - INFO - MainProcess - [Task-dd56e624-a73e-4f5c-9de8-d19e67198915] Started processing. Expecting 4 chunks.
2025-07-30 13:52:55,373 - INFO - MainProcess - Task dd56e624-a73e-4f5c-9de8-d19e67198915 has been started in the background.
2025-07-30 13:52:55,562 - INFO - MainProcess - 127.0.0.1 - - [30/Jul/2025 13:52:55] "POST /generate_video HTTP/1.1" 200 -
2025-07-30 13:53:03,226 - INFO - MainProcess - [Task-dd56e624-a73e-4f5c-9de8-d19e67198915] Chunk 0 sent to stream queue.
2025-07-30 13:53:03,991 - INFO - MainProcess - [Task-dd56e624-a73e-4f5c-9de8-d19e67198915] Chunk 1 sent to stream queue.
2025-07-30 13:53:04,246 - INFO - MainProcess - [Task-dd56e624-a73e-4f5c-9de8-d19e67198915] Chunk 2 sent to stream queue.
2025-07-30 13:53:04,508 - INFO - MainProcess - [Task-dd56e624-a73e-4f5c-9de8-d19e67198915] Chunk 3 sent to stream queue.
2025-07-30 13:53:04,509 - INFO - MainProcess - [Task-dd56e624-a73e-4f5c-9de8-d19e67198915] All chunks processed and queued successfully.
2025-07-30 13:53:04,509 - INFO - MainProcess - [Task-dd56e624-a73e-4f5c-9de8-d19e67198915] Processor thread finished and cleaned up.
2025-07-30 13:54:39,496 - ERROR - MainProcess - Audio pipe write error: [Errno 32] Broken pipe
2025-07-30 13:54:39,496 - ERROR - MainProcess - Video pipe write error: [Errno 32] Broken pipe
2025-07-30 13:54:39,497 - INFO - MainProcess - Audio writer thread finished.
2025-07-30 13:54:39,497 - INFO - MainProcess - Video writer thread finished.
2025-07-30 13:54:45,958 - INFO - MainProcess - Starting Flask service...
2025-07-30 13:54:45,958 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-30 13:54:45,958 - INFO - MainProcess - Loading configuration file...
2025-07-30 13:54:45,971 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-30 13:54:45,971 - INFO - MainProcess - Loading model components...
2025-07-30 13:54:56,671 - INFO - MainProcess - All components loaded successfully.
2025-07-30 13:54:56,671 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-30 13:54:56,748 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-30 13:54:56,748 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-30 13:55:19,611 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-30 13:55:19,611 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-30 13:55:19,625 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-30 13:55:19,656 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-30 13:55:19,656 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-30 13:55:19,656 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-30 13:55:22,485 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-30 13:55:23,302 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-30 13:55:23,302 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-30 13:55:23,303 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-30 13:55:23,303 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-30 13:55:23,398 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-30 13:55:23,399 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-30 13:55:23,403 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-30 13:55:23,403 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-30 13:55:23,431 - INFO - MainProcess - Video pipe opened for writing.
2025-07-30 13:55:23,437 - INFO - MainProcess - Audio pipe opened for writing.
2025-07-30 13:56:24,100 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-30 13:56:24,367 - INFO - MainProcess - [Task-651e33e7-2f5a-4315-892e-74d871d9ca28] Started processing. Expecting 4 chunks.
2025-07-30 13:56:24,367 - INFO - MainProcess - Task 651e33e7-2f5a-4315-892e-74d871d9ca28 has been started in the background.
2025-07-30 13:56:24,368 - INFO - MainProcess - 127.0.0.1 - - [30/Jul/2025 13:56:24] "POST /generate_video HTTP/1.1" 200 -
2025-07-30 13:56:33,134 - INFO - MainProcess - [Task-651e33e7-2f5a-4315-892e-74d871d9ca28] Chunk 0 sent to stream queue.
2025-07-30 13:56:33,474 - INFO - MainProcess - [Task-651e33e7-2f5a-4315-892e-74d871d9ca28] Chunk 1 sent to stream queue.
2025-07-30 13:56:35,230 - INFO - MainProcess - [Task-651e33e7-2f5a-4315-892e-74d871d9ca28] Chunk 2 sent to stream queue.
2025-07-30 13:56:35,230 - INFO - MainProcess - [Task-651e33e7-2f5a-4315-892e-74d871d9ca28] Chunk 3 sent to stream queue.
2025-07-30 13:56:35,230 - INFO - MainProcess - [Task-651e33e7-2f5a-4315-892e-74d871d9ca28] All chunks processed and queued successfully.
2025-07-30 13:56:35,231 - INFO - MainProcess - [Task-651e33e7-2f5a-4315-892e-74d871d9ca28] Processor thread finished and cleaned up.
2025-07-30 13:57:11,582 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-30 13:57:11,690 - INFO - MainProcess - [Task-bff9c0cf-2f3f-493b-bffb-3e4b4e8716ad] Started processing. Expecting 4 chunks.
2025-07-30 13:57:11,691 - INFO - MainProcess - Task bff9c0cf-2f3f-493b-bffb-3e4b4e8716ad has been started in the background.
2025-07-30 13:57:11,864 - INFO - MainProcess - 127.0.0.1 - - [30/Jul/2025 13:57:11] "POST /generate_video HTTP/1.1" 200 -
2025-07-30 13:57:20,062 - INFO - MainProcess - [Task-bff9c0cf-2f3f-493b-bffb-3e4b4e8716ad] Chunk 0 sent to stream queue.
2025-07-30 13:57:20,592 - INFO - MainProcess - [Task-bff9c0cf-2f3f-493b-bffb-3e4b4e8716ad] Chunk 1 sent to stream queue.
2025-07-30 13:57:20,793 - INFO - MainProcess - [Task-bff9c0cf-2f3f-493b-bffb-3e4b4e8716ad] Chunk 2 sent to stream queue.
2025-07-30 13:57:21,167 - INFO - MainProcess - [Task-bff9c0cf-2f3f-493b-bffb-3e4b4e8716ad] Chunk 3 sent to stream queue.
2025-07-30 13:57:21,168 - INFO - MainProcess - [Task-bff9c0cf-2f3f-493b-bffb-3e4b4e8716ad] All chunks processed and queued successfully.
2025-07-30 13:57:21,168 - INFO - MainProcess - [Task-bff9c0cf-2f3f-493b-bffb-3e4b4e8716ad] Processor thread finished and cleaned up.
2025-07-30 13:57:42,606 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-30 13:57:42,708 - INFO - MainProcess - [Task-66bc227c-6e48-46bb-af2d-805ccfd1bc5a] Started processing. Expecting 4 chunks.
2025-07-30 13:57:42,709 - INFO - MainProcess - Task 66bc227c-6e48-46bb-af2d-805ccfd1bc5a has been started in the background.
2025-07-30 13:57:42,890 - INFO - MainProcess - 127.0.0.1 - - [30/Jul/2025 13:57:42] "POST /generate_video HTTP/1.1" 200 -
2025-07-30 13:57:48,976 - INFO - MainProcess - [Task-66bc227c-6e48-46bb-af2d-805ccfd1bc5a] Chunk 0 sent to stream queue.
2025-07-30 13:57:49,609 - INFO - MainProcess - [Task-66bc227c-6e48-46bb-af2d-805ccfd1bc5a] Chunk 1 sent to stream queue.
2025-07-30 13:57:49,610 - INFO - MainProcess - [Task-66bc227c-6e48-46bb-af2d-805ccfd1bc5a] Chunk 2 sent to stream queue.
2025-07-30 13:57:49,828 - INFO - MainProcess - [Task-66bc227c-6e48-46bb-af2d-805ccfd1bc5a] Chunk 3 sent to stream queue.
2025-07-30 13:57:49,828 - INFO - MainProcess - [Task-66bc227c-6e48-46bb-af2d-805ccfd1bc5a] All chunks processed and queued successfully.
2025-07-30 13:57:49,828 - INFO - MainProcess - [Task-66bc227c-6e48-46bb-af2d-805ccfd1bc5a] Processor thread finished and cleaned up.
2025-07-30 13:58:34,803 - ERROR - MainProcess - Video pipe write error: [Errno 32] Broken pipe
2025-07-30 13:58:34,803 - ERROR - MainProcess - Audio pipe write error: [Errno 32] Broken pipe
2025-07-30 13:58:34,803 - INFO - MainProcess - Video writer thread finished.
2025-07-30 13:58:34,803 - INFO - MainProcess - Audio writer thread finished.
2025-07-30 13:58:41,425 - INFO - MainProcess - Starting Flask service...
2025-07-30 13:58:41,425 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-30 13:58:41,425 - INFO - MainProcess - Loading configuration file...
2025-07-30 13:58:41,438 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-30 13:58:41,438 - INFO - MainProcess - Loading model components...
2025-07-30 13:58:51,889 - INFO - MainProcess - All components loaded successfully.
2025-07-30 13:58:51,889 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-30 13:58:51,979 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-30 13:58:51,979 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-30 13:59:14,850 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-30 13:59:14,850 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-30 13:59:14,863 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-30 13:59:14,905 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-30 13:59:14,905 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-30 13:59:14,905 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-30 13:59:18,135 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-30 13:59:19,280 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-30 13:59:19,280 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-30 13:59:19,281 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-30 13:59:19,281 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-30 13:59:19,406 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-30 13:59:19,407 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-30 13:59:19,414 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-30 13:59:19,414 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-30 13:59:19,445 - INFO - MainProcess - Video pipe opened for writing.
2025-07-30 13:59:19,455 - INFO - MainProcess - Audio pipe opened for writing.
2025-07-30 14:01:10,250 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-30 14:01:10,471 - INFO - MainProcess - [Task-bdc0376e-2ce4-427a-a4b1-114998b8beac] Started processing. Expecting 4 chunks.
2025-07-30 14:01:10,471 - INFO - MainProcess - Task bdc0376e-2ce4-427a-a4b1-114998b8beac has been started in the background.
2025-07-30 14:01:10,473 - INFO - MainProcess - 127.0.0.1 - - [30/Jul/2025 14:01:10] "POST /generate_video HTTP/1.1" 200 -
2025-07-30 14:01:17,109 - INFO - MainProcess - [Task-bdc0376e-2ce4-427a-a4b1-114998b8beac] Chunk 0 sent to stream queue.
2025-07-30 14:01:17,629 - INFO - MainProcess - [Task-bdc0376e-2ce4-427a-a4b1-114998b8beac] Chunk 1 sent to stream queue.
2025-07-30 14:01:17,859 - INFO - MainProcess - [Task-bdc0376e-2ce4-427a-a4b1-114998b8beac] Chunk 2 sent to stream queue.
2025-07-30 14:01:18,350 - INFO - MainProcess - [Task-bdc0376e-2ce4-427a-a4b1-114998b8beac] Chunk 3 sent to stream queue.
2025-07-30 14:01:18,350 - INFO - MainProcess - [Task-bdc0376e-2ce4-427a-a4b1-114998b8beac] All chunks processed and queued successfully.
2025-07-30 14:01:18,350 - INFO - MainProcess - [Task-bdc0376e-2ce4-427a-a4b1-114998b8beac] Processor thread finished and cleaned up.
2025-07-30 14:01:49,787 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-30 14:01:49,908 - INFO - MainProcess - [Task-a128b6fa-74f7-4913-845f-d8898d192cce] Started processing. Expecting 4 chunks.
2025-07-30 14:01:49,909 - INFO - MainProcess - Task a128b6fa-74f7-4913-845f-d8898d192cce has been started in the background.
2025-07-30 14:01:50,102 - INFO - MainProcess - 127.0.0.1 - - [30/Jul/2025 14:01:50] "POST /generate_video HTTP/1.1" 200 -
2025-07-30 14:01:56,596 - INFO - MainProcess - [Task-a128b6fa-74f7-4913-845f-d8898d192cce] Chunk 0 sent to stream queue.
2025-07-30 14:01:56,945 - INFO - MainProcess - [Task-a128b6fa-74f7-4913-845f-d8898d192cce] Chunk 1 sent to stream queue.
2025-07-30 14:01:57,224 - INFO - MainProcess - [Task-a128b6fa-74f7-4913-845f-d8898d192cce] Chunk 2 sent to stream queue.
2025-07-30 14:01:57,477 - INFO - MainProcess - [Task-a128b6fa-74f7-4913-845f-d8898d192cce] Chunk 3 sent to stream queue.
2025-07-30 14:01:57,477 - INFO - MainProcess - [Task-a128b6fa-74f7-4913-845f-d8898d192cce] All chunks processed and queued successfully.
2025-07-30 14:01:57,477 - INFO - MainProcess - [Task-a128b6fa-74f7-4913-845f-d8898d192cce] Processor thread finished and cleaned up.
2025-07-30 14:04:10,014 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-30 14:04:10,139 - INFO - MainProcess - [Task-bb1db88a-db2a-45e0-a428-806846bfbe82] Started processing. Expecting 4 chunks.
2025-07-30 14:04:10,139 - INFO - MainProcess - Task bb1db88a-db2a-45e0-a428-806846bfbe82 has been started in the background.
2025-07-30 14:04:10,345 - INFO - MainProcess - 127.0.0.1 - - [30/Jul/2025 14:04:10] "POST /generate_video HTTP/1.1" 200 -
2025-07-30 14:04:14,546 - INFO - MainProcess - [Task-bb1db88a-db2a-45e0-a428-806846bfbe82] Chunk 0 sent to stream queue.
2025-07-30 14:04:14,944 - INFO - MainProcess - [Task-bb1db88a-db2a-45e0-a428-806846bfbe82] Chunk 1 sent to stream queue.
2025-07-30 14:04:15,133 - INFO - MainProcess - [Task-bb1db88a-db2a-45e0-a428-806846bfbe82] Chunk 2 sent to stream queue.
2025-07-30 14:04:15,364 - INFO - MainProcess - [Task-bb1db88a-db2a-45e0-a428-806846bfbe82] Chunk 3 sent to stream queue.
2025-07-30 14:04:15,365 - INFO - MainProcess - [Task-bb1db88a-db2a-45e0-a428-806846bfbe82] All chunks processed and queued successfully.
2025-07-30 14:04:15,365 - INFO - MainProcess - [Task-bb1db88a-db2a-45e0-a428-806846bfbe82] Processor thread finished and cleaned up.
2025-07-30 14:44:53,524 - ERROR - MainProcess - Audio pipe write error: [Errno 32] Broken pipe
2025-07-30 14:44:53,524 - ERROR - MainProcess - Video pipe write error: [Errno 32] Broken pipe
2025-07-30 14:44:53,525 - INFO - MainProcess - Audio writer thread finished.
2025-07-30 14:44:53,526 - INFO - MainProcess - Video writer thread finished.
2025-07-30 14:44:59,671 - INFO - MainProcess - Starting Flask service...
2025-07-30 14:44:59,672 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-30 14:44:59,672 - INFO - MainProcess - Loading configuration file...
2025-07-30 14:44:59,684 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-30 14:44:59,684 - INFO - MainProcess - Loading model components...
2025-07-30 14:45:11,082 - INFO - MainProcess - All components loaded successfully.
2025-07-30 14:45:11,082 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-30 14:45:11,169 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-30 14:45:11,169 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-30 14:45:33,573 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-30 14:45:33,574 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-30 14:45:33,591 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-30 14:45:33,697 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-30 14:45:33,697 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-30 14:45:33,697 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-30 14:45:36,701 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-30 14:45:37,778 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-30 14:45:37,778 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-30 14:45:37,779 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-30 14:45:37,779 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-30 14:45:37,929 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-30 14:45:37,930 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-30 14:45:37,935 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-30 14:45:37,935 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-30 14:45:37,961 - INFO - MainProcess - Video pipe opened for writing.
2025-07-30 14:45:37,967 - INFO - MainProcess - Audio pipe opened for writing.
2025-07-30 14:46:12,385 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-30 14:46:12,613 - INFO - MainProcess - [Task-021b7ad3-d26e-45e0-b5a1-03ea0ebc5d61] Started processing. Expecting 4 chunks.
2025-07-30 14:46:12,613 - INFO - MainProcess - Task 021b7ad3-d26e-45e0-b5a1-03ea0ebc5d61 has been started in the background.
2025-07-30 14:46:12,615 - INFO - MainProcess - 127.0.0.1 - - [30/Jul/2025 14:46:12] "POST /generate_video HTTP/1.1" 200 -
2025-07-30 14:46:19,466 - INFO - MainProcess - [Task-021b7ad3-d26e-45e0-b5a1-03ea0ebc5d61] Preparing to flush. Current FORMAL_QUEUE size: 0.
2025-07-30 14:46:19,467 - INFO - MainProcess - [Task-021b7ad3-d26e-45e0-b5a1-03ea0ebc5d61] First chunk is ready. Flushing idle frames...
2025-07-30 14:46:19,467 - INFO - MainProcess - Flushing internal stream queues to prepare for formal stream...
2025-07-30 14:46:19,467 - INFO - MainProcess - Video writer queue flushed. Size before: 10, after: 0.
2025-07-30 14:46:19,467 - INFO - MainProcess - Audio writer queue flushed. Size before: 7, after: 0.
2025-07-30 14:46:19,667 - INFO - MainProcess - [Task-021b7ad3-d26e-45e0-b5a1-03ea0ebc5d61] Chunk 0 sent to stream queue.
2025-07-30 14:46:19,755 - INFO - MainProcess - [Task-021b7ad3-d26e-45e0-b5a1-03ea0ebc5d61] Chunk 1 sent to stream queue.
2025-07-30 14:46:21,110 - INFO - MainProcess - [Task-021b7ad3-d26e-45e0-b5a1-03ea0ebc5d61] Chunk 2 sent to stream queue.
2025-07-30 14:46:21,111 - INFO - MainProcess - [Task-021b7ad3-d26e-45e0-b5a1-03ea0ebc5d61] Chunk 3 sent to stream queue.
2025-07-30 14:46:21,111 - INFO - MainProcess - [Task-021b7ad3-d26e-45e0-b5a1-03ea0ebc5d61] All chunks processed and queued successfully.
2025-07-30 14:46:21,111 - INFO - MainProcess - [Task-021b7ad3-d26e-45e0-b5a1-03ea0ebc5d61] Processor thread finished and cleaned up.
2025-07-30 14:54:52,706 - INFO - MainProcess - Starting Flask service...
2025-07-30 14:54:52,707 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-30 14:54:52,707 - INFO - MainProcess - Loading configuration file...
2025-07-30 14:54:52,719 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-30 14:54:52,719 - INFO - MainProcess - Loading model components...
2025-07-30 14:55:03,267 - INFO - MainProcess - All components loaded successfully.
2025-07-30 14:55:03,268 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-30 14:55:03,344 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-30 14:55:03,344 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-30 14:55:26,091 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-30 14:55:26,092 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-30 14:55:26,107 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-30 14:55:26,157 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-30 14:55:26,158 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-30 14:55:26,158 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-30 14:55:28,963 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-30 14:55:29,875 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-30 14:55:29,875 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-30 14:55:29,876 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-30 14:55:29,876 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-30 14:55:29,973 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-30 14:55:29,973 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-30 14:55:29,979 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-30 14:55:29,980 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-30 14:55:30,008 - INFO - MainProcess - Video pipe opened for writing.
2025-07-30 14:55:30,013 - INFO - MainProcess - Audio pipe opened for writing.
2025-07-30 14:56:13,921 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-30 14:56:14,116 - INFO - MainProcess - [Task-326cc74c-7706-442e-8906-992e81577181] Started processing. Expecting 4 chunks.
2025-07-30 14:56:14,116 - INFO - MainProcess - Task 326cc74c-7706-442e-8906-992e81577181 has been started in the background.
2025-07-30 14:56:14,118 - INFO - MainProcess - 127.0.0.1 - - [30/Jul/2025 14:56:14] "POST /generate_video HTTP/1.1" 200 -
2025-07-30 14:56:20,980 - INFO - MainProcess - [Task-326cc74c-7706-442e-8906-992e81577181] Preparing to flush. Current FORMAL_QUEUE size: 0.
2025-07-30 14:56:20,980 - INFO - MainProcess - [Task-326cc74c-7706-442e-8906-992e81577181] First chunk is ready. Flushing idle frames...
2025-07-30 14:56:20,980 - INFO - MainProcess - Gently flushing internal stream queues...
2025-07-30 14:56:20,980 - INFO - MainProcess - Video writer queue flushed. Size before: 5, after: 0.
2025-07-30 14:56:20,981 - INFO - MainProcess - Audio writer queue flushed. Size before: 5, after: 0.
2025-07-30 14:56:21,181 - INFO - MainProcess - [Task-326cc74c-7706-442e-8906-992e81577181] Chunk 0 sent to stream queue.
2025-07-30 14:56:21,731 - INFO - MainProcess - [Task-326cc74c-7706-442e-8906-992e81577181] Chunk 1 sent to stream queue.
2025-07-30 14:56:23,231 - INFO - MainProcess - [Task-326cc74c-7706-442e-8906-992e81577181] Chunk 2 sent to stream queue.
2025-07-30 14:56:23,231 - INFO - MainProcess - [Task-326cc74c-7706-442e-8906-992e81577181] Chunk 3 sent to stream queue.
2025-07-30 14:56:23,231 - INFO - MainProcess - [Task-326cc74c-7706-442e-8906-992e81577181] All chunks processed and queued successfully.
2025-07-30 14:56:23,231 - INFO - MainProcess - [Task-326cc74c-7706-442e-8906-992e81577181] Processor thread finished and cleaned up.
2025-07-30 15:02:02,247 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-30 15:02:02,359 - INFO - MainProcess - [Task-881e3817-8fa0-4d27-bc36-0fbfd1b5eed3] Started processing. Expecting 4 chunks.
2025-07-30 15:02:02,359 - INFO - MainProcess - Task 881e3817-8fa0-4d27-bc36-0fbfd1b5eed3 has been started in the background.
2025-07-30 15:02:02,360 - INFO - MainProcess - 127.0.0.1 - - [30/Jul/2025 15:02:02] "POST /generate_video HTTP/1.1" 200 -
2025-07-30 15:02:09,508 - INFO - MainProcess - [Task-881e3817-8fa0-4d27-bc36-0fbfd1b5eed3] Preparing to flush. Current FORMAL_QUEUE size: 0.
2025-07-30 15:02:09,508 - INFO - MainProcess - [Task-881e3817-8fa0-4d27-bc36-0fbfd1b5eed3] First chunk is ready. Flushing idle frames...
2025-07-30 15:02:09,508 - INFO - MainProcess - Gently flushing internal stream queues...
2025-07-30 15:02:09,509 - INFO - MainProcess - Video writer queue flushed. Size before: 5, after: 0.
2025-07-30 15:02:09,509 - INFO - MainProcess - Audio writer queue flushed. Size before: 4, after: 0.
2025-07-30 15:02:09,710 - INFO - MainProcess - [Task-881e3817-8fa0-4d27-bc36-0fbfd1b5eed3] Chunk 0 sent to stream queue.
2025-07-30 15:02:09,762 - INFO - MainProcess - [Task-881e3817-8fa0-4d27-bc36-0fbfd1b5eed3] Chunk 1 sent to stream queue.
2025-07-30 15:02:10,016 - INFO - MainProcess - [Task-881e3817-8fa0-4d27-bc36-0fbfd1b5eed3] Chunk 2 sent to stream queue.
2025-07-30 15:02:10,267 - INFO - MainProcess - [Task-881e3817-8fa0-4d27-bc36-0fbfd1b5eed3] Chunk 3 sent to stream queue.
2025-07-30 15:02:10,268 - INFO - MainProcess - [Task-881e3817-8fa0-4d27-bc36-0fbfd1b5eed3] All chunks processed and queued successfully.
2025-07-30 15:02:10,268 - INFO - MainProcess - [Task-881e3817-8fa0-4d27-bc36-0fbfd1b5eed3] Processor thread finished and cleaned up.
2025-07-30 15:02:28,165 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-30 15:02:28,265 - INFO - MainProcess - [Task-3a144b2c-bf71-4d3d-9a29-d386be5efabd] Started processing. Expecting 4 chunks.
2025-07-30 15:02:28,265 - INFO - MainProcess - Task 3a144b2c-bf71-4d3d-9a29-d386be5efabd has been started in the background.
2025-07-30 15:02:28,266 - INFO - MainProcess - 127.0.0.1 - - [30/Jul/2025 15:02:28] "POST /generate_video HTTP/1.1" 200 -
2025-07-30 15:02:32,703 - INFO - MainProcess - [Task-3a144b2c-bf71-4d3d-9a29-d386be5efabd] Preparing to flush. Current FORMAL_QUEUE size: 0.
2025-07-30 15:02:32,704 - INFO - MainProcess - [Task-3a144b2c-bf71-4d3d-9a29-d386be5efabd] First chunk is ready. Flushing idle frames...
2025-07-30 15:02:32,704 - INFO - MainProcess - Gently flushing internal stream queues...
2025-07-30 15:02:32,705 - INFO - MainProcess - Video writer queue flushed. Size before: 5, after: 0.
2025-07-30 15:02:32,705 - INFO - MainProcess - Audio writer queue flushed. Size before: 5, after: 0.
2025-07-30 15:02:32,920 - INFO - MainProcess - [Task-3a144b2c-bf71-4d3d-9a29-d386be5efabd] Chunk 0 sent to stream queue.
2025-07-30 15:02:32,925 - INFO - MainProcess - [Task-3a144b2c-bf71-4d3d-9a29-d386be5efabd] Chunk 1 sent to stream queue.
2025-07-30 15:02:33,416 - INFO - MainProcess - [Task-3a144b2c-bf71-4d3d-9a29-d386be5efabd] Chunk 2 sent to stream queue.
2025-07-30 15:02:34,260 - INFO - MainProcess - [Task-3a144b2c-bf71-4d3d-9a29-d386be5efabd] Chunk 3 sent to stream queue.
2025-07-30 15:02:34,260 - INFO - MainProcess - [Task-3a144b2c-bf71-4d3d-9a29-d386be5efabd] All chunks processed and queued successfully.
2025-07-30 15:02:34,260 - INFO - MainProcess - [Task-3a144b2c-bf71-4d3d-9a29-d386be5efabd] Processor thread finished and cleaned up.
2025-07-30 15:10:03,192 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-30 15:10:03,290 - INFO - MainProcess - [Task-004e7468-3bef-4566-8e6a-a523fc902269] Started processing. Expecting 4 chunks.
2025-07-30 15:10:03,290 - INFO - MainProcess - Task 004e7468-3bef-4566-8e6a-a523fc902269 has been started in the background.
2025-07-30 15:10:03,291 - INFO - MainProcess - 127.0.0.1 - - [30/Jul/2025 15:10:03] "POST /generate_video HTTP/1.1" 200 -
2025-07-30 15:10:07,599 - INFO - MainProcess - [Task-004e7468-3bef-4566-8e6a-a523fc902269] Preparing to flush. Current FORMAL_QUEUE size: 0.
2025-07-30 15:10:07,600 - INFO - MainProcess - [Task-004e7468-3bef-4566-8e6a-a523fc902269] First chunk is ready. Flushing idle frames...
2025-07-30 15:10:07,600 - INFO - MainProcess - Gently flushing internal stream queues...
2025-07-30 15:10:07,600 - INFO - MainProcess - Video writer queue flushed. Size before: 5, after: 0.
2025-07-30 15:10:07,600 - INFO - MainProcess - Audio writer queue flushed. Size before: 3, after: 0.
2025-07-30 15:10:07,801 - INFO - MainProcess - [Task-004e7468-3bef-4566-8e6a-a523fc902269] Chunk 0 sent to stream queue.
2025-07-30 15:10:08,102 - INFO - MainProcess - [Task-004e7468-3bef-4566-8e6a-a523fc902269] Chunk 1 sent to stream queue.
2025-07-30 15:10:08,359 - INFO - MainProcess - [Task-004e7468-3bef-4566-8e6a-a523fc902269] Chunk 2 sent to stream queue.
2025-07-30 15:10:08,615 - INFO - MainProcess - [Task-004e7468-3bef-4566-8e6a-a523fc902269] Chunk 3 sent to stream queue.
2025-07-30 15:10:08,615 - INFO - MainProcess - [Task-004e7468-3bef-4566-8e6a-a523fc902269] All chunks processed and queued successfully.
2025-07-30 15:10:08,615 - INFO - MainProcess - [Task-004e7468-3bef-4566-8e6a-a523fc902269] Processor thread finished and cleaned up.
2025-07-30 15:13:00,589 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-30 15:13:00,687 - INFO - MainProcess - [Task-eb3ae7b9-ff68-47e4-9f48-39ccc908366b] Started processing. Expecting 4 chunks.
2025-07-30 15:13:00,688 - INFO - MainProcess - Task eb3ae7b9-ff68-47e4-9f48-39ccc908366b has been started in the background.
2025-07-30 15:13:00,688 - INFO - MainProcess - 127.0.0.1 - - [30/Jul/2025 15:13:00] "POST /generate_video HTTP/1.1" 200 -
2025-07-30 15:13:05,089 - INFO - MainProcess - [Task-eb3ae7b9-ff68-47e4-9f48-39ccc908366b] Preparing to flush. Current FORMAL_QUEUE size: 0.
2025-07-30 15:13:05,090 - INFO - MainProcess - [Task-eb3ae7b9-ff68-47e4-9f48-39ccc908366b] First chunk is ready. Flushing idle frames...
2025-07-30 15:13:05,090 - INFO - MainProcess - Gently flushing internal stream queues...
2025-07-30 15:13:05,090 - INFO - MainProcess - Video writer queue flushed. Size before: 5, after: 0.
2025-07-30 15:13:05,090 - INFO - MainProcess - Audio writer queue flushed. Size before: 5, after: 0.
2025-07-30 15:13:05,291 - INFO - MainProcess - [Task-eb3ae7b9-ff68-47e4-9f48-39ccc908366b] Chunk 0 sent to stream queue.
2025-07-30 15:13:05,292 - INFO - MainProcess - [Task-eb3ae7b9-ff68-47e4-9f48-39ccc908366b] Chunk 1 sent to stream queue.
2025-07-30 15:13:05,489 - INFO - MainProcess - [Task-eb3ae7b9-ff68-47e4-9f48-39ccc908366b] Chunk 2 sent to stream queue.
2025-07-30 15:13:05,867 - INFO - MainProcess - [Task-eb3ae7b9-ff68-47e4-9f48-39ccc908366b] Chunk 3 sent to stream queue.
2025-07-30 15:13:05,868 - INFO - MainProcess - [Task-eb3ae7b9-ff68-47e4-9f48-39ccc908366b] All chunks processed and queued successfully.
2025-07-30 15:13:05,868 - INFO - MainProcess - [Task-eb3ae7b9-ff68-47e4-9f48-39ccc908366b] Processor thread finished and cleaned up.
2025-07-30 15:14:09,663 - ERROR - MainProcess - Audio pipe write error: [Errno 32] Broken pipe
2025-07-30 15:14:09,663 - ERROR - MainProcess - Video pipe write error: [Errno 32] Broken pipe
2025-07-30 15:14:09,663 - INFO - MainProcess - Audio writer thread finished.
2025-07-30 15:14:09,664 - INFO - MainProcess - Video writer thread finished.
2025-07-30 15:14:15,686 - INFO - MainProcess - Starting Flask service...
2025-07-30 15:14:15,686 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-30 15:14:15,686 - INFO - MainProcess - Loading configuration file...
2025-07-30 15:14:15,698 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-30 15:14:15,698 - INFO - MainProcess - Loading model components...
2025-07-30 15:14:26,705 - INFO - MainProcess - All components loaded successfully.
2025-07-30 15:14:26,705 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-30 15:14:26,783 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-30 15:14:26,783 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-30 15:14:49,366 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-30 15:14:49,367 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-30 15:14:49,381 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-30 15:14:49,436 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-30 15:14:49,436 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-30 15:14:49,436 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-30 15:14:52,246 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-30 15:14:53,080 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-30 15:14:53,080 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-30 15:14:53,081 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-30 15:14:53,081 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-30 15:14:53,179 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-30 15:14:53,189 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-30 15:14:53,195 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-30 15:14:53,195 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-30 15:14:53,262 - INFO - MainProcess - Video pipe opened for writing.
2025-07-30 15:14:53,283 - INFO - MainProcess - Audio pipe opened for writing.
2025-07-30 15:26:43,174 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-30 15:26:43,396 - INFO - MainProcess - [Task-34a63bb8-fb4d-40fc-a8b0-1e5f8875b26a] Started processing. Expecting 4 chunks.
2025-07-30 15:26:43,396 - INFO - MainProcess - Task 34a63bb8-fb4d-40fc-a8b0-1e5f8875b26a has been started in the background.
2025-07-30 15:26:43,398 - INFO - MainProcess - 127.0.0.1 - - [30/Jul/2025 15:26:43] "POST /generate_video HTTP/1.1" 200 -
2025-07-30 15:26:49,993 - INFO - MainProcess - [Task-34a63bb8-fb4d-40fc-a8b0-1e5f8875b26a] Preparing to flush. Current FORMAL_QUEUE size: 0.
2025-07-30 15:26:49,994 - INFO - MainProcess - [Task-34a63bb8-fb4d-40fc-a8b0-1e5f8875b26a] First chunk is ready. Flushing idle frames...
2025-07-30 15:26:49,994 - INFO - MainProcess - Gently flushing internal stream queues...
2025-07-30 15:26:49,994 - INFO - MainProcess - Video writer queue flushed. Size before: 5, after: 0.
2025-07-30 15:26:49,994 - INFO - MainProcess - Audio writer queue flushed. Size before: 3, after: 0.
2025-07-30 15:26:50,195 - INFO - MainProcess - [Task-34a63bb8-fb4d-40fc-a8b0-1e5f8875b26a] Chunk 0 sent to stream queue.
2025-07-30 15:26:50,952 - INFO - MainProcess - [Task-34a63bb8-fb4d-40fc-a8b0-1e5f8875b26a] Chunk 1 sent to stream queue.
2025-07-30 15:26:51,178 - INFO - MainProcess - [Task-34a63bb8-fb4d-40fc-a8b0-1e5f8875b26a] Chunk 2 sent to stream queue.
2025-07-30 15:26:51,602 - INFO - MainProcess - [Task-34a63bb8-fb4d-40fc-a8b0-1e5f8875b26a] Chunk 3 sent to stream queue.
2025-07-30 15:26:51,602 - INFO - MainProcess - [Task-34a63bb8-fb4d-40fc-a8b0-1e5f8875b26a] All chunks processed and queued successfully.
2025-07-30 15:26:51,602 - INFO - MainProcess - [Task-34a63bb8-fb4d-40fc-a8b0-1e5f8875b26a] Processor thread finished and cleaned up.
2025-07-30 15:38:37,148 - ERROR - MainProcess - Audio pipe write error: [Errno 32] Broken pipe
2025-07-30 15:38:37,149 - ERROR - MainProcess - Video pipe write error: [Errno 32] Broken pipe
2025-07-30 15:38:37,150 - INFO - MainProcess - Audio writer thread finished.
2025-07-30 15:38:37,150 - INFO - MainProcess - Video writer thread finished.
2025-07-30 15:38:44,502 - INFO - MainProcess - Starting Flask service...
2025-07-30 15:38:44,502 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-30 15:38:44,502 - INFO - MainProcess - Loading configuration file...
2025-07-30 15:38:44,515 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-30 15:38:44,515 - INFO - MainProcess - Loading model components...
2025-07-30 15:38:55,543 - INFO - MainProcess - All components loaded successfully.
2025-07-30 15:38:55,543 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-30 15:38:55,621 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-30 15:38:55,621 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-30 15:39:18,503 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-30 15:39:18,503 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-30 15:39:18,519 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-30 15:39:18,579 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-30 15:39:18,580 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-30 15:39:18,580 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-30 15:39:21,503 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-30 15:39:22,387 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-30 15:39:22,387 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-30 15:39:22,389 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-30 15:39:22,390 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-30 15:39:22,390 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-30 15:39:22,599 - INFO - MainProcess - Video pipe opened for writing.
2025-07-30 15:39:22,600 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-30 15:39:22,617 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-30 15:39:22,617 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-30 15:39:22,627 - INFO - MainProcess - Audio pipe opened for writing.
2025-07-30 15:40:12,478 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-30 15:40:12,685 - INFO - MainProcess - [Task-d5c22eca-dc93-4937-8cbb-0e5135044674] Started processing. Expecting 4 chunks.
2025-07-30 15:40:12,685 - INFO - MainProcess - Task d5c22eca-dc93-4937-8cbb-0e5135044674 has been started in the background.
2025-07-30 15:40:12,687 - INFO - MainProcess - 127.0.0.1 - - [30/Jul/2025 15:40:12] "POST /generate_video HTTP/1.1" 200 -
2025-07-30 15:40:19,701 - INFO - MainProcess - [Task-d5c22eca-dc93-4937-8cbb-0e5135044674] Preparing to flush. Current FORMAL_QUEUE size: 0.
2025-07-30 15:40:19,702 - INFO - MainProcess - [Task-d5c22eca-dc93-4937-8cbb-0e5135044674] First chunk is ready. Flushing idle frames...
2025-07-30 15:40:19,702 - INFO - MainProcess - Synchronized flushing of internal stream queues...
2025-07-30 15:40:19,702 - INFO - MainProcess - Flushing 3 paired chunks from video (size=5) and audio (size=3) queues.
2025-07-30 15:40:19,703 - INFO - MainProcess - Queues fully cleared. Final sizes: Video=0, Audio=0.
2025-07-30 15:40:19,924 - INFO - MainProcess - [Task-d5c22eca-dc93-4937-8cbb-0e5135044674] Chunk 0 sent to stream queue.
2025-07-30 15:40:19,929 - INFO - MainProcess - [Task-d5c22eca-dc93-4937-8cbb-0e5135044674] Chunk 1 sent to stream queue.
2025-07-30 15:40:20,643 - INFO - MainProcess - [Task-d5c22eca-dc93-4937-8cbb-0e5135044674] Chunk 2 sent to stream queue.
2025-07-30 15:40:20,948 - INFO - MainProcess - [Task-d5c22eca-dc93-4937-8cbb-0e5135044674] Chunk 3 sent to stream queue.
2025-07-30 15:40:20,949 - INFO - MainProcess - [Task-d5c22eca-dc93-4937-8cbb-0e5135044674] All chunks processed and queued successfully.
2025-07-30 15:40:20,949 - INFO - MainProcess - [Task-d5c22eca-dc93-4937-8cbb-0e5135044674] Processor thread finished and cleaned up.
2025-07-30 15:41:01,142 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-30 15:41:01,254 - INFO - MainProcess - [Task-9bf08731-a1ee-46c2-a328-c215b3ac86e4] Started processing. Expecting 4 chunks.
2025-07-30 15:41:01,255 - INFO - MainProcess - Task 9bf08731-a1ee-46c2-a328-c215b3ac86e4 has been started in the background.
2025-07-30 15:41:01,446 - INFO - MainProcess - 127.0.0.1 - - [30/Jul/2025 15:41:01] "POST /generate_video HTTP/1.1" 200 -
2025-07-30 15:41:07,833 - INFO - MainProcess - [Task-9bf08731-a1ee-46c2-a328-c215b3ac86e4] Preparing to flush. Current FORMAL_QUEUE size: 0.
2025-07-30 15:41:07,833 - INFO - MainProcess - [Task-9bf08731-a1ee-46c2-a328-c215b3ac86e4] First chunk is ready. Flushing idle frames...
2025-07-30 15:41:07,833 - INFO - MainProcess - Synchronized flushing of internal stream queues...
2025-07-30 15:41:07,833 - INFO - MainProcess - Flushing 4 paired chunks from video (size=5) and audio (size=4) queues.
2025-07-30 15:41:07,833 - INFO - MainProcess - Queues fully cleared. Final sizes: Video=0, Audio=0.
2025-07-30 15:41:08,034 - INFO - MainProcess - [Task-9bf08731-a1ee-46c2-a328-c215b3ac86e4] Chunk 0 sent to stream queue.
2025-07-30 15:41:08,335 - INFO - MainProcess - [Task-9bf08731-a1ee-46c2-a328-c215b3ac86e4] Chunk 1 sent to stream queue.
2025-07-30 15:41:08,567 - INFO - MainProcess - [Task-9bf08731-a1ee-46c2-a328-c215b3ac86e4] Chunk 2 sent to stream queue.
2025-07-30 15:41:08,832 - INFO - MainProcess - [Task-9bf08731-a1ee-46c2-a328-c215b3ac86e4] Chunk 3 sent to stream queue.
2025-07-30 15:41:08,833 - INFO - MainProcess - [Task-9bf08731-a1ee-46c2-a328-c215b3ac86e4] All chunks processed and queued successfully.
2025-07-30 15:41:08,833 - INFO - MainProcess - [Task-9bf08731-a1ee-46c2-a328-c215b3ac86e4] Processor thread finished and cleaned up.
2025-07-30 16:12:17,118 - ERROR - MainProcess - Audio pipe write error: [Errno 32] Broken pipe
2025-07-30 16:12:17,119 - ERROR - MainProcess - Video pipe write error: [Errno 32] Broken pipe
2025-07-30 16:12:17,120 - INFO - MainProcess - Audio writer thread finished.
2025-07-30 16:12:17,120 - INFO - MainProcess - Video writer thread finished.
2025-07-30 16:12:23,461 - INFO - MainProcess - Starting Flask service...
2025-07-30 16:12:23,461 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-30 16:12:23,462 - INFO - MainProcess - Loading configuration file...
2025-07-30 16:12:23,474 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-30 16:12:23,474 - INFO - MainProcess - Loading model components...
2025-07-30 16:12:34,706 - INFO - MainProcess - All components loaded successfully.
2025-07-30 16:12:34,706 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-30 16:12:34,802 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-30 16:12:34,802 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-30 16:12:57,636 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-30 16:12:57,637 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-30 16:12:57,652 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-30 16:12:57,709 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-30 16:12:57,709 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-30 16:12:57,710 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-30 16:13:00,582 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-30 16:13:01,460 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-30 16:13:01,460 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-30 16:13:01,460 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-30 16:13:01,461 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-30 16:13:01,570 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-30 16:13:01,573 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-30 16:13:01,581 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-30 16:13:01,582 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-30 16:18:34,459 - INFO - MainProcess - Starting Flask service...
2025-07-30 16:18:34,459 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-30 16:18:34,459 - INFO - MainProcess - Loading configuration file...
2025-07-30 16:18:34,471 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-30 16:18:34,471 - INFO - MainProcess - Loading model components...
2025-07-30 16:18:44,460 - INFO - MainProcess - All components loaded successfully.
2025-07-30 16:18:44,460 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-30 16:18:44,546 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-30 16:18:44,546 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-30 16:19:07,164 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-30 16:19:07,165 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-30 16:19:07,180 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-30 16:19:07,227 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-30 16:19:07,228 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-30 16:19:07,228 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-30 16:19:10,000 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-30 16:19:10,854 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-30 16:19:10,854 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-30 16:19:10,855 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-30 16:19:10,855 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-30 16:19:10,973 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-30 16:19:10,973 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-30 16:19:10,979 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-30 16:19:10,979 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-30 16:29:13,770 - INFO - MainProcess - Starting Flask service...
2025-07-30 16:29:13,770 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-30 16:29:13,770 - INFO - MainProcess - Loading configuration file...
2025-07-30 16:29:13,782 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-30 16:29:13,782 - INFO - MainProcess - Loading model components...
2025-07-30 16:29:24,805 - INFO - MainProcess - All components loaded successfully.
2025-07-30 16:29:24,805 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-30 16:29:24,881 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-30 16:29:24,881 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-30 16:29:47,321 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-30 16:29:47,322 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-30 16:29:47,334 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-30 16:29:47,377 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-30 16:29:47,377 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-30 16:29:47,377 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-30 16:29:50,428 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-30 16:29:51,522 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-30 16:29:51,522 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-30 16:29:51,522 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-30 16:29:51,523 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-30 16:29:51,723 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-30 16:29:51,723 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-30 16:29:51,728 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-30 16:29:51,728 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-30 16:33:52,572 - INFO - MainProcess - Starting Flask service...
2025-07-30 16:33:52,572 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-30 16:33:52,572 - INFO - MainProcess - Loading configuration file...
2025-07-30 16:33:52,585 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-30 16:33:52,585 - INFO - MainProcess - Loading model components...
2025-07-30 16:34:02,770 - INFO - MainProcess - All components loaded successfully.
2025-07-30 16:34:02,770 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-30 16:34:02,861 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-30 16:34:02,862 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-30 16:34:25,473 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-30 16:34:25,473 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-30 16:34:25,486 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-30 16:34:25,534 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-30 16:34:25,535 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-30 16:34:25,535 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-30 16:34:28,318 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-30 16:34:29,223 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-30 16:34:29,223 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-30 16:34:29,224 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-30 16:34:29,224 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-30 16:34:29,368 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-30 16:34:29,369 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-30 16:34:29,373 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-30 16:34:29,373 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-30 17:15:02,238 - INFO - MainProcess - Starting Flask service...
2025-07-30 17:15:02,239 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-30 17:15:02,239 - INFO - MainProcess - Loading configuration file...
2025-07-30 17:15:02,251 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-30 17:15:02,251 - INFO - MainProcess - Loading model components...
2025-07-30 17:15:13,549 - INFO - MainProcess - All components loaded successfully.
2025-07-30 17:15:13,550 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-30 17:15:13,642 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-30 17:15:13,642 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-30 17:15:35,826 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-30 17:15:35,826 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-30 17:15:35,840 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-30 17:15:35,884 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-30 17:15:35,885 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-30 17:15:35,885 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-30 17:15:38,749 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-30 17:15:39,657 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-30 17:15:39,657 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-30 17:15:39,657 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-30 17:15:39,658 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-30 17:15:39,662 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-30 17:15:39,823 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-30 17:15:39,832 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-30 17:15:39,832 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-30 17:41:10,066 - INFO - MainProcess - Starting Flask service...
2025-07-30 17:41:10,066 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-30 17:41:10,066 - INFO - MainProcess - Loading configuration file...
2025-07-30 17:41:10,079 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-30 17:41:10,079 - INFO - MainProcess - Loading model components...
2025-07-30 17:41:23,323 - INFO - MainProcess - All components loaded successfully.
2025-07-30 17:41:23,324 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-30 17:41:23,402 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-30 17:41:23,402 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-30 17:41:46,045 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-30 17:41:46,046 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-30 17:41:46,059 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-30 17:41:46,106 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-30 17:41:46,106 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-30 17:41:46,106 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-30 17:41:49,085 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-30 17:41:50,030 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-30 17:41:50,031 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-30 17:41:50,034 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-30 17:41:50,034 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-30 17:41:50,048 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-30 17:41:50,216 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-30 17:41:50,219 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-30 17:41:50,219 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-30 17:42:40,356 - INFO - MainProcess - Starting Flask service...
2025-07-30 17:42:40,356 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-30 17:42:40,356 - INFO - MainProcess - Loading configuration file...
2025-07-30 17:42:40,369 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-30 17:42:40,369 - INFO - MainProcess - Loading model components...
2025-07-30 17:42:50,366 - INFO - MainProcess - All components loaded successfully.
2025-07-30 17:42:50,366 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-30 17:42:50,445 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-30 17:42:50,445 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-30 17:43:12,942 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-30 17:43:12,942 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-30 17:43:12,955 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-30 17:43:13,007 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-30 17:43:13,007 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-30 17:43:13,007 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-30 17:43:15,832 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-30 17:43:16,773 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-30 17:43:16,774 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-30 17:43:16,774 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-30 17:43:16,774 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-30 17:43:16,972 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-30 17:43:16,975 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-30 17:43:16,991 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-30 17:43:16,991 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-30 17:43:17,017 - INFO - MainProcess - Video pipe opened for writing.
2025-07-30 17:43:17,023 - INFO - MainProcess - Audio pipe opened for writing.
2025-07-30 17:53:59,985 - ERROR - MainProcess - Audio pipe write error: [Errno 32] Broken pipe
2025-07-30 17:53:59,986 - ERROR - MainProcess - Video pipe write error: [Errno 32] Broken pipe
2025-07-30 17:53:59,986 - INFO - MainProcess - Audio writer thread finished.
2025-07-30 17:53:59,986 - INFO - MainProcess - Video writer thread finished.
2025-07-30 17:54:09,040 - INFO - MainProcess - Starting Flask service...
2025-07-30 17:54:09,040 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-30 17:54:09,040 - INFO - MainProcess - Loading configuration file...
2025-07-30 17:54:09,053 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-30 17:54:09,053 - INFO - MainProcess - Loading model components...
2025-07-30 17:54:20,528 - INFO - MainProcess - All components loaded successfully.
2025-07-30 17:54:20,528 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-30 17:54:20,621 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-30 17:54:20,622 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-30 17:54:43,100 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-30 17:54:43,100 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-30 17:54:43,114 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-30 17:54:43,165 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-30 17:54:43,166 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-30 17:54:43,166 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-30 17:54:45,962 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-30 17:54:46,823 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-30 17:54:46,824 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-30 17:54:46,825 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-30 17:54:46,825 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-30 17:54:46,944 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-30 17:54:46,945 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-30 17:54:46,965 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-30 17:54:46,965 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-30 18:08:36,412 - INFO - MainProcess - Starting Flask service...
2025-07-30 18:08:36,413 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-30 18:08:36,413 - INFO - MainProcess - Loading configuration file...
2025-07-30 18:08:36,425 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-30 18:08:36,425 - INFO - MainProcess - Loading model components...
2025-07-30 18:08:49,718 - INFO - MainProcess - All components loaded successfully.
2025-07-30 18:08:49,718 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-30 18:08:49,801 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-30 18:08:49,801 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-30 18:09:12,616 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-30 18:09:12,616 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-30 18:09:12,633 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-30 18:09:12,687 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-30 18:09:12,687 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-30 18:09:12,687 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-30 18:09:15,570 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-30 18:09:16,455 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-30 18:09:16,456 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-30 18:09:16,456 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-30 18:09:16,456 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-30 18:09:16,617 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-30 18:09:16,620 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-30 18:09:16,624 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-30 18:09:16,624 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-30 18:09:16,658 - INFO - MainProcess - Video pipe opened for writing.
2025-07-30 18:09:16,664 - INFO - MainProcess - Audio pipe opened for writing.
2025-07-30 18:10:58,189 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-30 18:10:58,389 - INFO - MainProcess - [Task-22ddebcf-7a61-420e-b6f3-0c73712d9265] Started processing. Expecting 4 chunks.
2025-07-30 18:10:58,389 - INFO - MainProcess - Task 22ddebcf-7a61-420e-b6f3-0c73712d9265 has been started in the background.
2025-07-30 18:10:58,390 - INFO - MainProcess - 127.0.0.1 - - [30/Jul/2025 18:10:58] "POST /generate_video HTTP/1.1" 200 -
2025-07-30 18:11:05,151 - INFO - MainProcess - [Task-22ddebcf-7a61-420e-b6f3-0c73712d9265] Preparing to flush. Current FORMAL_QUEUE size: 0.
2025-07-30 18:11:05,152 - INFO - MainProcess - [Task-22ddebcf-7a61-420e-b6f3-0c73712d9265] First chunk is ready. Flushing idle frames...
2025-07-30 18:11:05,152 - INFO - MainProcess - Flushing internal stream queues to prepare for formal stream...
2025-07-30 18:11:05,152 - INFO - MainProcess - Video writer queue flushed. Size before: 5, after: 0.
2025-07-30 18:11:05,152 - INFO - MainProcess - Audio writer queue flushed. Size before: 3, after: 0.
2025-07-30 18:11:05,360 - INFO - MainProcess - [Task-22ddebcf-7a61-420e-b6f3-0c73712d9265] Chunk 0 sent to stream queue.
2025-07-30 18:11:05,517 - INFO - MainProcess - [Task-22ddebcf-7a61-420e-b6f3-0c73712d9265] Chunk 1 sent to stream queue.
2025-07-30 18:11:05,972 - INFO - MainProcess - [Task-22ddebcf-7a61-420e-b6f3-0c73712d9265] Chunk 2 sent to stream queue.
2025-07-30 18:11:05,972 - INFO - MainProcess - [Task-22ddebcf-7a61-420e-b6f3-0c73712d9265] Chunk 3 sent to stream queue.
2025-07-30 18:11:05,972 - INFO - MainProcess - [Task-22ddebcf-7a61-420e-b6f3-0c73712d9265] All chunks processed and queued successfully.
2025-07-30 18:11:05,972 - INFO - MainProcess - [Task-22ddebcf-7a61-420e-b6f3-0c73712d9265] Processor thread finished and cleaned up.
2025-07-30 18:13:50,004 - INFO - MainProcess - Starting Flask service...
2025-07-30 18:13:50,005 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-30 18:13:50,005 - INFO - MainProcess - Loading configuration file...
2025-07-30 18:13:50,017 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-30 18:13:50,017 - INFO - MainProcess - Loading model components...
2025-07-30 18:14:00,617 - INFO - MainProcess - All components loaded successfully.
2025-07-30 18:14:00,617 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-30 18:14:00,701 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-30 18:14:00,701 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-30 18:14:23,485 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-30 18:14:23,485 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-30 18:14:23,498 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-30 18:14:23,542 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-30 18:14:23,542 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-30 18:14:23,542 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-30 18:14:26,422 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-30 18:14:27,291 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-30 18:14:27,291 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-30 18:14:27,291 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-30 18:14:27,291 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-30 18:14:27,421 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-30 18:14:27,433 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-30 18:14:27,443 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-30 18:14:27,443 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-30 18:14:27,480 - INFO - MainProcess - Video pipe opened for writing.
2025-07-30 18:14:27,516 - INFO - MainProcess - Audio pipe opened for writing.
2025-07-30 18:15:06,746 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-30 18:15:06,948 - INFO - MainProcess - [Task-1645c188-dc48-4907-8d41-954488787641] Started processing. Expecting 4 chunks.
2025-07-30 18:15:06,948 - INFO - MainProcess - Task 1645c188-dc48-4907-8d41-954488787641 has been started in the background.
2025-07-30 18:15:06,949 - INFO - MainProcess - 127.0.0.1 - - [30/Jul/2025 18:15:06] "POST /generate_video HTTP/1.1" 200 -
2025-07-30 18:15:14,158 - INFO - MainProcess - [Task-1645c188-dc48-4907-8d41-954488787641] Preparing to flush. Current FORMAL_QUEUE size: 0.
2025-07-30 18:15:14,159 - INFO - MainProcess - [Task-1645c188-dc48-4907-8d41-954488787641] First chunk is ready. Flushing idle frames...
2025-07-30 18:15:14,160 - INFO - MainProcess - Flushing internal stream queues to prepare for formal stream...
2025-07-30 18:15:14,160 - INFO - MainProcess - Video writer queue flushed. Size before: 5, after: 0.
2025-07-30 18:15:14,161 - INFO - MainProcess - Audio writer queue flushed. Size before: 3, after: 0.
2025-07-30 18:15:14,372 - INFO - MainProcess - [Task-1645c188-dc48-4907-8d41-954488787641] Chunk 0 sent to stream queue.
2025-07-30 18:15:14,378 - INFO - MainProcess - [Task-1645c188-dc48-4907-8d41-954488787641] Chunk 1 sent to stream queue.
2025-07-30 18:15:14,378 - INFO - MainProcess - [Task-1645c188-dc48-4907-8d41-954488787641] Chunk 2 sent to stream queue.
2025-07-30 18:15:14,635 - INFO - MainProcess - [Task-1645c188-dc48-4907-8d41-954488787641] Chunk 3 sent to stream queue.
2025-07-30 18:15:14,636 - INFO - MainProcess - [Task-1645c188-dc48-4907-8d41-954488787641] All chunks processed and queued successfully.
2025-07-30 18:15:14,636 - INFO - MainProcess - [Task-1645c188-dc48-4907-8d41-954488787641] Processor thread finished and cleaned up.
2025-07-30 18:22:23,355 - INFO - MainProcess - Starting Flask service...
2025-07-30 18:22:23,355 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-30 18:22:23,355 - INFO - MainProcess - Loading configuration file...
2025-07-30 18:22:23,368 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-30 18:22:23,368 - INFO - MainProcess - Loading model components...
2025-07-30 18:22:34,288 - INFO - MainProcess - All components loaded successfully.
2025-07-30 18:22:34,288 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-30 18:22:34,377 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-30 18:22:34,377 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-30 18:22:57,016 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-30 18:22:57,016 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-30 18:22:57,037 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-30 18:22:57,152 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-30 18:22:57,154 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-30 18:22:57,154 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-30 18:23:00,157 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-30 18:23:01,347 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-30 18:23:01,347 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-30 18:23:01,348 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-30 18:23:01,348 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-30 18:23:01,488 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-30 18:23:01,489 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-30 18:23:01,495 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-30 18:23:01,495 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-30 18:23:01,517 - INFO - MainProcess - Video pipe opened for writing.
2025-07-30 18:23:01,524 - INFO - MainProcess - Audio pipe opened for writing.
2025-07-30 18:23:47,306 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-30 18:23:47,526 - INFO - MainProcess - [Task-536889e7-75e4-4dcc-b2c4-eb95297d891c] Started processing. Expecting 4 chunks.
2025-07-30 18:23:47,526 - INFO - MainProcess - Task 536889e7-75e4-4dcc-b2c4-eb95297d891c has been started in the background.
2025-07-30 18:23:47,528 - INFO - MainProcess - 127.0.0.1 - - [30/Jul/2025 18:23:47] "POST /generate_video HTTP/1.1" 200 -
2025-07-30 18:23:54,502 - INFO - MainProcess - [Task-536889e7-75e4-4dcc-b2c4-eb95297d891c] First chunk is ready. Flushing idle frames...
2025-07-30 18:23:54,503 - INFO - MainProcess - Gently flushing internal stream queues...
2025-07-30 18:23:54,503 - INFO - MainProcess - Video writer queue flushed. Size before: 10, after: 0.
2025-07-30 18:23:54,503 - INFO - MainProcess - Audio writer queue flushed. Size before: 8, after: 0.
2025-07-30 18:23:54,704 - INFO - MainProcess - [Task-536889e7-75e4-4dcc-b2c4-eb95297d891c] Chunk 0 sent to stream queue.
2025-07-30 18:23:55,139 - INFO - MainProcess - [Task-536889e7-75e4-4dcc-b2c4-eb95297d891c] Chunk 1 sent to stream queue.
2025-07-30 18:23:55,140 - INFO - MainProcess - [Task-536889e7-75e4-4dcc-b2c4-eb95297d891c] Chunk 2 sent to stream queue.
2025-07-30 18:23:55,392 - INFO - MainProcess - [Task-536889e7-75e4-4dcc-b2c4-eb95297d891c] Chunk 3 sent to stream queue.
2025-07-30 18:23:55,393 - INFO - MainProcess - [Task-536889e7-75e4-4dcc-b2c4-eb95297d891c] All chunks processed and queued successfully.
2025-07-30 18:23:55,393 - INFO - MainProcess - [Task-536889e7-75e4-4dcc-b2c4-eb95297d891c] Processor thread finished and cleaned up.
2025-07-30 18:26:55,425 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-30 18:26:55,538 - INFO - MainProcess - [Task-81b213bd-f02e-4f93-849a-b9fac16e9c77] Started processing. Expecting 4 chunks.
2025-07-30 18:26:55,538 - INFO - MainProcess - Task 81b213bd-f02e-4f93-849a-b9fac16e9c77 has been started in the background.
2025-07-30 18:26:55,539 - INFO - MainProcess - 127.0.0.1 - - [30/Jul/2025 18:26:55] "POST /generate_video HTTP/1.1" 200 -
2025-07-30 18:27:02,134 - INFO - MainProcess - [Task-81b213bd-f02e-4f93-849a-b9fac16e9c77] First chunk is ready. Flushing idle frames...
2025-07-30 18:27:02,135 - INFO - MainProcess - Gently flushing internal stream queues...
2025-07-30 18:27:02,135 - INFO - MainProcess - Video writer queue flushed. Size before: 10, after: 0.
2025-07-30 18:27:02,135 - INFO - MainProcess - Audio writer queue flushed. Size before: 10, after: 0.
2025-07-30 18:27:02,336 - INFO - MainProcess - [Task-81b213bd-f02e-4f93-849a-b9fac16e9c77] Chunk 0 sent to stream queue.
2025-07-30 18:27:03,289 - INFO - MainProcess - [Task-81b213bd-f02e-4f93-849a-b9fac16e9c77] Chunk 1 sent to stream queue.
2025-07-30 18:27:03,289 - INFO - MainProcess - [Task-81b213bd-f02e-4f93-849a-b9fac16e9c77] Chunk 2 sent to stream queue.
2025-07-30 18:27:03,289 - INFO - MainProcess - [Task-81b213bd-f02e-4f93-849a-b9fac16e9c77] Chunk 3 sent to stream queue.
2025-07-30 18:27:03,290 - INFO - MainProcess - [Task-81b213bd-f02e-4f93-849a-b9fac16e9c77] All chunks processed and queued successfully.
2025-07-30 18:27:03,290 - INFO - MainProcess - [Task-81b213bd-f02e-4f93-849a-b9fac16e9c77] Processor thread finished and cleaned up.
2025-07-30 18:34:21,244 - INFO - MainProcess - Starting Flask service...
2025-07-30 18:34:21,244 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-30 18:34:21,244 - INFO - MainProcess - Loading configuration file...
2025-07-30 18:34:21,256 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-30 18:34:21,256 - INFO - MainProcess - Loading model components...
2025-07-30 18:34:32,555 - INFO - MainProcess - All components loaded successfully.
2025-07-30 18:34:32,556 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-30 18:34:32,645 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-30 18:34:32,645 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-30 18:34:55,429 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-30 18:34:55,429 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-30 18:34:55,442 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-30 18:34:55,494 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-30 18:34:55,494 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-30 18:34:55,494 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-30 18:34:58,488 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-30 18:34:59,457 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-30 18:34:59,457 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-30 18:34:59,458 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-30 18:34:59,459 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-30 18:34:59,621 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-30 18:34:59,622 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-30 18:34:59,630 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-30 18:34:59,630 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-30 18:34:59,655 - INFO - MainProcess - Video pipe opened for writing.
2025-07-30 18:34:59,663 - INFO - MainProcess - Audio pipe opened for writing.
2025-07-30 18:39:40,421 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-07-30 18:39:40,624 - INFO - MainProcess - [Task-25c41758-a787-4af7-9380-064f4131e108] Started processing. Expecting 4 chunks.
2025-07-30 18:39:40,624 - INFO - MainProcess - Task 25c41758-a787-4af7-9380-064f4131e108 has been started in the background.
2025-07-30 18:39:40,625 - INFO - MainProcess - 127.0.0.1 - - [30/Jul/2025 18:39:40] "POST /generate_video HTTP/1.1" 200 -
2025-07-30 18:39:47,093 - INFO - MainProcess - [Task-25c41758-a787-4af7-9380-064f4131e108] Chunk 0 sent to stream queue.
2025-07-30 18:39:47,757 - INFO - MainProcess - [Task-25c41758-a787-4af7-9380-064f4131e108] Chunk 1 sent to stream queue.
2025-07-30 18:39:47,925 - INFO - MainProcess - [Task-25c41758-a787-4af7-9380-064f4131e108] Chunk 2 sent to stream queue.
2025-07-30 18:39:48,100 - INFO - MainProcess - [Task-25c41758-a787-4af7-9380-064f4131e108] Chunk 3 sent to stream queue.
2025-07-30 18:39:48,100 - INFO - MainProcess - [Task-25c41758-a787-4af7-9380-064f4131e108] All chunks processed and queued successfully.
2025-07-30 18:39:48,100 - INFO - MainProcess - [Task-25c41758-a787-4af7-9380-064f4131e108] Processor thread finished and cleaned up.
2025-07-30 18:50:42,627 - ERROR - MainProcess - Audio pipe write error: [Errno 32] Broken pipe
2025-07-30 18:50:42,628 - ERROR - MainProcess - Video pipe write error: [Errno 32] Broken pipe
2025-07-30 18:50:42,629 - INFO - MainProcess - Audio writer thread finished.
2025-07-30 18:50:42,629 - INFO - MainProcess - Video writer thread finished.
2025-07-30 18:50:51,619 - INFO - MainProcess - Starting Flask service...
2025-07-30 18:50:51,619 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-30 18:50:51,619 - INFO - MainProcess - Loading configuration file...
2025-07-30 18:50:51,632 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-30 18:50:51,632 - INFO - MainProcess - Loading model components...
2025-07-30 18:51:03,865 - INFO - MainProcess - All components loaded successfully.
2025-07-30 18:51:03,865 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-30 18:51:03,953 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-30 18:51:03,953 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-30 18:51:26,701 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-30 18:51:26,701 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-30 18:51:26,716 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-30 18:51:26,759 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-30 18:51:26,760 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-30 18:51:26,760 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-30 18:51:29,672 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-30 18:51:30,540 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-30 18:51:30,540 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-30 18:51:30,540 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-30 18:51:30,541 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-30 18:51:30,652 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-30 18:51:30,660 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-30 18:51:30,663 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-30 18:51:30,663 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-31 08:14:08,560 - INFO - MainProcess - Starting Flask service...
2025-07-31 08:14:08,560 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-31 08:14:08,560 - INFO - MainProcess - Loading configuration file...
2025-07-31 08:14:08,573 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-31 08:14:08,573 - INFO - MainProcess - Loading model components...
2025-07-31 08:14:19,592 - INFO - MainProcess - All components loaded successfully.
2025-07-31 08:14:19,592 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-31 08:14:19,685 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-31 08:14:19,685 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-31 08:14:42,206 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-31 08:14:42,206 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-31 08:14:42,221 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-31 08:14:42,277 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-31 08:14:42,277 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-31 08:14:42,277 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-31 08:14:45,268 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-31 08:14:46,293 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-31 08:14:46,294 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-31 08:14:46,294 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-31 08:14:46,295 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-31 08:14:46,295 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-31 08:14:46,468 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-31 08:14:46,472 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-31 08:14:46,472 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-31 08:34:27,144 - INFO - MainProcess - Starting Flask service...
2025-07-31 08:34:27,144 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-31 08:34:27,144 - INFO - MainProcess - Loading configuration file...
2025-07-31 08:34:27,156 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-31 08:34:27,156 - INFO - MainProcess - Loading model components...
2025-07-31 08:34:37,992 - INFO - MainProcess - All components loaded successfully.
2025-07-31 08:34:37,992 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-31 08:34:38,081 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-31 08:34:38,081 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-31 08:35:00,926 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-31 08:35:00,927 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-31 08:35:00,941 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-31 08:35:00,989 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-31 08:35:00,990 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-31 08:35:00,990 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-31 08:35:03,764 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-31 08:35:04,607 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-31 08:35:04,607 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-31 08:35:04,607 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-31 08:35:04,607 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-31 08:35:04,707 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-31 08:35:04,708 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-31 08:35:04,713 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-31 08:35:04,713 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-31 08:39:07,100 - INFO - MainProcess - Starting Flask service...
2025-07-31 08:39:07,100 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-31 08:39:07,100 - INFO - MainProcess - Loading configuration file...
2025-07-31 08:39:07,112 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-31 08:39:07,112 - INFO - MainProcess - Loading model components...
2025-07-31 08:39:17,241 - INFO - MainProcess - All components loaded successfully.
2025-07-31 08:39:17,242 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-31 08:39:17,332 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-31 08:39:17,333 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-31 08:39:39,907 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-31 08:39:39,908 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-31 08:39:39,921 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-31 08:39:39,966 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-31 08:39:39,967 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-31 08:39:39,967 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-31 08:39:42,771 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-31 08:39:43,625 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-31 08:39:43,625 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-31 08:39:43,626 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-31 08:39:43,626 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-31 08:39:43,728 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-31 08:39:43,728 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-31 08:39:43,733 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-31 08:39:43,733 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-31 08:39:43,779 - INFO - MainProcess - Video pipe opened for writing.
2025-07-31 08:39:43,791 - INFO - MainProcess - Audio pipe opened for writing.
2025-07-31 08:51:04,539 - ERROR - MainProcess - Video pipe write error: [Errno 32] Broken pipe
2025-07-31 08:51:04,540 - ERROR - MainProcess - Audio pipe write error: [Errno 32] Broken pipe
2025-07-31 08:51:04,540 - INFO - MainProcess - Video writer thread finished.
2025-07-31 08:51:04,540 - INFO - MainProcess - Audio writer thread finished.
2025-07-31 08:51:15,968 - INFO - MainProcess - Starting Flask service...
2025-07-31 08:51:15,968 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-31 08:51:15,968 - INFO - MainProcess - Loading configuration file...
2025-07-31 08:51:15,981 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-31 08:51:15,981 - INFO - MainProcess - Loading model components...
2025-07-31 08:51:26,859 - INFO - MainProcess - All components loaded successfully.
2025-07-31 08:51:26,859 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-31 08:51:26,946 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-31 08:51:26,946 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-31 08:51:49,568 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-31 08:51:49,568 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-31 08:51:49,582 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-31 08:51:49,620 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-31 08:51:49,621 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-31 08:51:49,621 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-31 08:51:52,696 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-31 08:51:53,600 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-31 08:51:53,600 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-31 08:51:53,601 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-31 08:51:53,601 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-31 08:51:53,733 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-31 08:51:53,735 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-31 08:51:53,738 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-31 08:51:53,746 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-31 08:59:49,184 - INFO - MainProcess - Starting Flask service...
2025-07-31 08:59:49,184 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-31 08:59:49,184 - INFO - MainProcess - Loading configuration file...
2025-07-31 08:59:49,196 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-31 08:59:49,196 - INFO - MainProcess - Loading model components...
2025-07-31 08:59:59,619 - INFO - MainProcess - All components loaded successfully.
2025-07-31 08:59:59,619 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-31 08:59:59,717 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-31 08:59:59,718 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-31 09:00:22,415 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-31 09:00:22,416 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-31 09:00:22,430 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-31 09:00:22,477 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-31 09:00:22,478 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-31 09:00:22,478 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-31 09:00:25,283 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-31 09:00:26,248 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-31 09:00:26,249 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-31 09:00:26,251 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-31 09:00:26,252 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-31 09:00:26,270 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-31 09:00:26,405 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-31 09:00:26,410 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-31 09:00:26,410 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-31 09:04:59,113 - INFO - MainProcess - Starting Flask service...
2025-07-31 09:04:59,113 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-31 09:04:59,113 - INFO - MainProcess - Loading configuration file...
2025-07-31 09:04:59,125 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-31 09:04:59,126 - INFO - MainProcess - Loading model components...
2025-07-31 09:05:08,964 - INFO - MainProcess - All components loaded successfully.
2025-07-31 09:05:08,965 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-31 09:05:09,052 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-31 09:05:09,052 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-31 09:05:31,592 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-31 09:05:31,593 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-31 09:05:31,608 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-31 09:05:31,660 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-31 09:05:31,660 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-31 09:05:31,660 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-31 09:05:34,467 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-31 09:05:35,237 - INFO - MainProcess - First idle chunk - Video shape: (25, 1248, 832, 3), dtype: uint8
2025-07-31 09:05:35,237 - INFO - MainProcess - First idle chunk - Audio shape: (16000,), dtype: int16
2025-07-31 09:05:35,428 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-31 09:05:35,429 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-31 09:05:35,429 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-31 09:05:35,429 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-31 09:05:35,564 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-31 09:05:35,564 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-31 09:05:35,577 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-31 09:05:35,577 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-31 09:19:55,728 - INFO - MainProcess - Starting Flask service...
2025-07-31 09:19:55,728 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-31 09:19:55,728 - INFO - MainProcess - Loading configuration file...
2025-07-31 09:19:55,741 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-31 09:19:55,741 - INFO - MainProcess - Loading model components...
2025-07-31 09:20:06,869 - INFO - MainProcess - All components loaded successfully.
2025-07-31 09:20:06,869 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-31 09:20:06,960 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-31 09:20:06,961 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-31 09:20:29,292 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-31 09:20:29,292 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-31 09:20:29,305 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-31 09:20:29,355 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-31 09:20:29,356 - INFO - MainProcess - Detected target stream resolution (WxH): 832x1248
2025-07-31 09:20:29,356 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-31 09:20:32,111 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-31 09:20:32,112 - ERROR - MainProcess - Could not process idle video: name 'rgb_frame' is not defined
Traceback (most recent call last):
  File "/data/home/klai/project/LatentSync10/infer_serv.py", line 330, in load_models_and_prepare_idle_stream
    processed_idle_frames.append(rgb_frame)
NameError: name 'rgb_frame' is not defined
2025-07-31 09:21:16,954 - INFO - MainProcess - Starting Flask service...
2025-07-31 09:21:16,954 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-31 09:21:16,954 - INFO - MainProcess - Loading configuration file...
2025-07-31 09:21:16,968 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-31 09:21:16,969 - INFO - MainProcess - Loading model components...
2025-07-31 09:21:26,827 - INFO - MainProcess - All components loaded successfully.
2025-07-31 09:21:26,828 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-31 09:21:26,909 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-31 09:21:26,909 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-31 09:21:49,797 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-31 09:21:49,798 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-31 09:21:49,813 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-31 09:21:49,876 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-31 09:21:49,877 - INFO - MainProcess - Detected target stream resolution (WxH): 832x1248
2025-07-31 09:21:49,877 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-31 09:21:52,605 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-31 09:21:53,283 - INFO - MainProcess - First idle chunk - Video shape: (25, 1248, 832, 3), dtype: uint8
2025-07-31 09:21:53,283 - INFO - MainProcess - First idle chunk - Audio shape: (16000,), dtype: int16
2025-07-31 09:21:53,452 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-31 09:21:53,452 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-31 09:21:53,453 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-31 09:21:53,453 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-31 09:21:53,568 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-31 09:21:53,575 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-31 09:21:53,587 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-31 09:21:53,588 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-31 09:26:49,516 - INFO - MainProcess - Starting Flask service...
2025-07-31 09:26:49,516 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-31 09:26:49,516 - INFO - MainProcess - Loading configuration file...
2025-07-31 09:26:49,529 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-31 09:26:49,529 - INFO - MainProcess - Loading model components...
2025-07-31 09:26:59,740 - INFO - MainProcess - All components loaded successfully.
2025-07-31 09:26:59,740 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-31 09:26:59,830 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-31 09:26:59,830 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-31 09:27:22,481 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-31 09:27:22,481 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-31 09:27:22,495 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-31 09:27:22,543 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-31 09:27:22,543 - INFO - MainProcess - Detected target stream resolution (WxH): 832x1248
2025-07-31 09:27:22,543 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-31 09:27:25,606 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-31 09:27:26,494 - INFO - MainProcess - First idle chunk - Video shape: (25, 1248, 832, 3), dtype: uint8
2025-07-31 09:27:26,494 - INFO - MainProcess - First idle chunk - Audio shape: (16000,), dtype: int16
2025-07-31 09:27:26,739 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-31 09:27:26,740 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-31 09:27:26,740 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-31 09:27:26,740 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-31 09:27:26,848 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-31 09:27:26,848 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-31 09:27:26,853 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-31 09:27:26,853 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-31 09:28:29,600 - INFO - MainProcess - Starting Flask service...
2025-07-31 09:28:29,600 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-31 09:28:29,600 - INFO - MainProcess - Loading configuration file...
2025-07-31 09:28:29,612 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-31 09:28:29,612 - INFO - MainProcess - Loading model components...
2025-07-31 09:28:39,538 - INFO - MainProcess - All components loaded successfully.
2025-07-31 09:28:39,538 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-31 09:28:39,624 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-31 09:28:39,625 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-31 09:29:02,186 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-31 09:29:02,186 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-31 09:29:02,201 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-31 09:29:02,262 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-31 09:29:02,263 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-31 09:29:02,263 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-31 09:29:05,086 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-31 09:29:05,979 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-31 09:29:05,979 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-31 09:29:05,980 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-31 09:29:05,980 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-31 09:29:06,098 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-31 09:29:06,098 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-31 09:29:06,111 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-31 09:29:06,111 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-31 09:29:06,165 - INFO - MainProcess - Video pipe opened for writing.
2025-07-31 09:29:06,178 - INFO - MainProcess - Audio pipe opened for writing.
2025-07-31 09:53:53,612 - ERROR - MainProcess - Audio pipe write error: [Errno 32] Broken pipe
2025-07-31 09:53:53,612 - ERROR - MainProcess - Video pipe write error: [Errno 32] Broken pipe
2025-07-31 09:53:53,612 - INFO - MainProcess - Audio writer thread finished.
2025-07-31 09:53:53,613 - INFO - MainProcess - Video writer thread finished.
2025-07-31 09:54:00,093 - INFO - MainProcess - Starting Flask service...
2025-07-31 09:54:00,093 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-31 09:54:00,093 - INFO - MainProcess - Loading configuration file...
2025-07-31 09:54:00,106 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-31 09:54:00,106 - INFO - MainProcess - Loading model components...
2025-07-31 09:54:11,185 - INFO - MainProcess - All components loaded successfully.
2025-07-31 09:54:11,185 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-31 09:54:11,264 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-31 09:54:11,264 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-31 09:54:34,135 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-31 09:54:34,136 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-31 09:54:34,150 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-31 09:54:34,193 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-31 09:54:34,193 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-31 09:54:34,193 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-31 09:54:37,081 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-31 09:54:37,946 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-31 09:54:37,946 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-31 09:54:37,947 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-31 09:54:37,947 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-31 09:54:38,055 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-31 09:54:38,060 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-31 09:54:38,075 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-31 09:54:38,075 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-31 09:54:38,093 - INFO - MainProcess - Video pipe opened for writing.
2025-07-31 09:54:38,101 - INFO - MainProcess - Audio pipe opened for writing.
2025-07-31 10:12:50,625 - ERROR - MainProcess - Audio pipe write error: [Errno 32] Broken pipe
2025-07-31 10:12:50,626 - ERROR - MainProcess - Video pipe write error: [Errno 32] Broken pipe
2025-07-31 10:12:50,626 - INFO - MainProcess - Audio writer thread finished.
2025-07-31 10:12:50,626 - INFO - MainProcess - Video writer thread finished.
2025-07-31 10:13:04,237 - INFO - MainProcess - Starting Flask service...
2025-07-31 10:13:04,237 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-31 10:13:04,237 - INFO - MainProcess - Loading configuration file...
2025-07-31 10:13:04,251 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-31 10:13:04,251 - INFO - MainProcess - Loading model components...
2025-07-31 10:13:15,547 - INFO - MainProcess - All components loaded successfully.
2025-07-31 10:13:15,548 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-31 10:13:15,635 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-31 10:13:15,635 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-31 10:13:38,287 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-31 10:13:38,288 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-31 10:13:38,310 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-31 10:13:38,416 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-31 10:13:38,417 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-31 10:13:38,417 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-31 10:13:41,698 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-31 10:13:42,782 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-31 10:13:42,783 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-31 10:13:42,784 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-31 10:13:42,784 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-31 10:13:42,912 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-31 10:13:42,914 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-31 10:13:42,920 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-31 10:13:42,920 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-31 10:17:40,354 - INFO - MainProcess - Starting Flask service...
2025-07-31 10:17:40,354 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-31 10:17:40,354 - INFO - MainProcess - Loading configuration file...
2025-07-31 10:17:40,366 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-31 10:17:40,367 - INFO - MainProcess - Loading model components...
2025-07-31 10:17:50,631 - INFO - MainProcess - All components loaded successfully.
2025-07-31 10:17:50,631 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-31 10:17:50,720 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-31 10:17:50,720 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-31 10:18:13,432 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-31 10:18:13,433 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-31 10:18:13,448 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-31 10:18:13,490 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-31 10:18:13,490 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-31 10:18:13,490 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-31 10:18:16,290 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-31 10:18:17,146 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-31 10:18:17,146 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-31 10:18:17,147 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-31 10:18:17,147 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-31 10:18:17,248 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-31 10:18:17,248 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-31 10:18:17,253 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-31 10:18:17,253 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-31 10:20:13,546 - INFO - MainProcess - Starting Flask service...
2025-07-31 10:20:13,546 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-31 10:20:13,546 - INFO - MainProcess - Loading configuration file...
2025-07-31 10:20:13,559 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-31 10:20:13,559 - INFO - MainProcess - Loading model components...
2025-07-31 10:20:23,587 - INFO - MainProcess - All components loaded successfully.
2025-07-31 10:20:23,587 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-31 10:20:23,674 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-31 10:20:23,674 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-31 10:20:46,519 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-31 10:20:46,519 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-31 10:20:46,533 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-31 10:20:46,587 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-31 10:20:46,588 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-31 10:20:46,588 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-31 10:20:49,700 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-31 10:20:50,723 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-31 10:20:50,724 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-31 10:20:50,725 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-31 10:20:50,725 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-31 10:20:50,874 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-31 10:20:50,875 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-31 10:20:50,885 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-31 10:20:50,885 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-31 10:22:11,496 - INFO - MainProcess - Starting Flask service...
2025-07-31 10:22:11,496 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-31 10:22:11,496 - INFO - MainProcess - Loading configuration file...
2025-07-31 10:22:11,508 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-31 10:22:11,508 - INFO - MainProcess - Loading model components...
2025-07-31 10:22:21,947 - INFO - MainProcess - All components loaded successfully.
2025-07-31 10:22:21,947 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-31 10:22:22,029 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-31 10:22:22,029 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-31 10:22:44,759 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-31 10:22:44,759 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-31 10:22:44,775 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-31 10:22:44,819 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-31 10:22:44,819 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-31 10:22:44,819 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-31 10:22:47,636 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-31 10:22:48,483 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-31 10:22:48,484 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-31 10:22:48,484 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-31 10:22:48,484 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-31 10:22:48,580 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-31 10:22:48,581 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-31 10:22:48,586 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-31 10:22:48,586 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-31 10:22:48,612 - INFO - MainProcess - Video pipe opened for writing.
2025-07-31 10:22:48,617 - INFO - MainProcess - Audio pipe opened for writing.
2025-07-31 10:22:48,617 - ERROR - MainProcess - Audio writer thread crashed: 'dict' object has no attribute 'tobytes'
2025-07-31 10:22:48,617 - INFO - MainProcess - Audio writer thread finished.
2025-07-31 10:24:45,552 - INFO - MainProcess - Starting Flask service...
2025-07-31 10:24:45,552 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-31 10:24:45,552 - INFO - MainProcess - Loading configuration file...
2025-07-31 10:24:45,565 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-31 10:24:45,565 - INFO - MainProcess - Loading model components...
2025-07-31 10:24:56,161 - INFO - MainProcess - All components loaded successfully.
2025-07-31 10:24:56,162 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-31 10:24:56,255 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-31 10:24:56,255 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-31 10:25:19,146 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-31 10:25:19,146 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-31 10:25:19,161 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-31 10:25:19,202 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-31 10:25:19,202 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-31 10:25:19,202 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-31 10:25:21,894 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-31 10:25:22,739 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-31 10:25:22,739 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-31 10:25:22,740 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-31 10:25:22,740 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-31 10:25:22,867 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-31 10:25:22,867 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-31 10:25:22,871 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-31 10:25:22,871 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-31 10:25:22,921 - INFO - MainProcess - Video pipe opened for writing.
2025-07-31 10:25:22,931 - INFO - MainProcess - Audio pipe opened for writing.
2025-07-31 10:25:22,931 - ERROR - MainProcess - Audio writer thread crashed: 'dict' object has no attribute 'tobytes'
2025-07-31 10:25:22,931 - INFO - MainProcess - Audio writer thread finished.
2025-07-31 10:29:11,771 - INFO - MainProcess - Starting Flask service...
2025-07-31 10:29:11,771 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-31 10:29:11,771 - INFO - MainProcess - Loading configuration file...
2025-07-31 10:29:11,783 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-31 10:29:11,783 - INFO - MainProcess - Loading model components...
2025-07-31 10:29:21,760 - INFO - MainProcess - All components loaded successfully.
2025-07-31 10:29:21,760 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-31 10:29:21,847 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-31 10:29:21,847 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-31 10:29:44,574 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-31 10:29:44,575 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-31 10:29:44,596 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-31 10:29:44,653 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-31 10:29:44,654 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-31 10:29:44,654 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-31 10:29:47,543 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-31 10:29:48,417 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-31 10:29:48,417 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-31 10:29:48,418 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-31 10:29:48,418 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-31 10:29:48,529 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-31 10:29:48,531 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-31 10:29:48,538 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-31 10:29:48,542 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-31 10:29:48,567 - INFO - MainProcess - Video pipe opened for writing.
2025-07-31 10:29:48,567 - ERROR - MainProcess - Video writer thread crashed: 'str' object has no attribute 'tobytes'
2025-07-31 10:29:48,567 - INFO - MainProcess - Video writer thread finished.
2025-07-31 10:29:48,571 - INFO - MainProcess - Audio pipe opened for writing.
2025-07-31 11:37:02,362 - INFO - MainProcess - Starting Flask service...
2025-07-31 11:37:02,362 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-31 11:37:02,362 - INFO - MainProcess - Loading configuration file...
2025-07-31 11:37:02,375 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-31 11:37:02,375 - INFO - MainProcess - Loading model components...
2025-07-31 11:37:13,162 - INFO - MainProcess - All components loaded successfully.
2025-07-31 11:37:13,162 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-31 11:37:13,246 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-31 11:37:13,246 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-31 11:37:36,129 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-31 11:37:36,130 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-31 11:37:36,145 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-31 11:37:36,199 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-31 11:37:36,200 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-31 11:37:36,200 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-31 11:37:38,980 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-31 11:37:39,822 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-31 11:37:39,822 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-31 11:37:39,823 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-31 11:37:39,823 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-31 11:37:39,823 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-31 11:37:39,929 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-31 11:37:39,929 - INFO - MainProcess - Video pipe opened for writing.
2025-07-31 11:37:39,930 - ERROR - MainProcess - Video writer thread crashed: 'str' object has no attribute 'tobytes'
2025-07-31 11:37:39,930 - INFO - MainProcess - Video writer thread finished.
2025-07-31 11:37:39,931 - INFO - MainProcess - Audio pipe opened for writing.
2025-07-31 11:37:39,933 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-31 11:37:39,933 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-31 12:19:59,156 - INFO - MainProcess - Starting Flask service...
2025-07-31 12:19:59,156 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-31 12:19:59,156 - INFO - MainProcess - Loading configuration file...
2025-07-31 12:19:59,169 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-31 12:19:59,169 - INFO - MainProcess - Loading model components...
2025-07-31 12:20:10,360 - INFO - MainProcess - All components loaded successfully.
2025-07-31 12:20:10,360 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-31 12:20:10,438 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-31 12:20:10,438 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-31 12:20:33,109 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-31 12:20:33,110 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-31 12:20:33,124 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-31 12:20:33,175 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-31 12:20:33,175 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-31 12:20:33,175 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-31 12:20:36,077 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-31 12:20:36,971 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-31 12:20:36,972 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-31 12:20:36,973 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-31 12:20:36,974 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-31 12:20:36,979 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-31 12:20:37,127 - INFO - MainProcess - Video pipe opened for writing.
2025-07-31 12:20:37,131 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-31 12:20:37,138 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-31 12:20:37,144 - INFO - MainProcess - Audio pipe opened for writing.
2025-07-31 12:20:37,144 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-31 12:31:43,304 - ERROR - MainProcess - Audio pipe write error: [Errno 32] Broken pipe
2025-07-31 12:31:43,305 - ERROR - MainProcess - Video pipe write error: [Errno 32] Broken pipe
2025-07-31 12:31:43,305 - INFO - MainProcess - Audio writer thread finished.
2025-07-31 12:31:43,306 - INFO - MainProcess - Video writer thread finished.
2025-07-31 12:31:54,811 - INFO - MainProcess - Starting Flask service...
2025-07-31 12:31:54,811 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-31 12:31:54,811 - INFO - MainProcess - Loading configuration file...
2025-07-31 12:31:54,824 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-31 12:31:54,824 - INFO - MainProcess - Loading model components...
2025-07-31 12:32:05,889 - INFO - MainProcess - All components loaded successfully.
2025-07-31 12:32:05,889 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-31 12:32:05,977 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-31 12:32:05,977 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-31 12:32:28,808 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-31 12:32:28,808 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-31 12:32:28,822 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-31 12:32:28,867 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-31 12:32:28,868 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-31 12:32:28,868 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-31 12:32:31,663 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-31 12:32:32,497 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-31 12:32:32,497 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-31 12:32:32,497 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-31 12:32:32,497 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-31 12:32:32,619 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-31 12:32:32,621 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-31 12:32:32,625 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-31 12:32:32,626 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-31 12:36:38,501 - INFO - MainProcess - Starting Flask service...
2025-07-31 12:36:38,502 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-31 12:36:38,502 - INFO - MainProcess - Loading configuration file...
2025-07-31 12:36:38,514 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-31 12:36:38,514 - INFO - MainProcess - Loading model components...
2025-07-31 12:36:48,861 - INFO - MainProcess - All components loaded successfully.
2025-07-31 12:36:48,861 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-31 12:36:48,947 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-31 12:36:48,947 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-31 12:37:11,731 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-31 12:37:11,731 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-31 12:37:11,746 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-31 12:37:11,794 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-31 12:37:11,795 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-31 12:37:11,795 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-31 12:37:14,640 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-31 12:37:15,526 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-31 12:37:15,527 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-31 12:37:15,527 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-31 12:37:15,527 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-31 12:37:15,682 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-31 12:37:15,688 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-31 12:37:15,694 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-31 12:37:15,694 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-31 12:43:01,825 - INFO - MainProcess - Starting Flask service...
2025-07-31 12:43:01,825 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-31 12:43:01,825 - INFO - MainProcess - Loading configuration file...
2025-07-31 12:43:01,837 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-31 12:43:01,838 - INFO - MainProcess - Loading model components...
2025-07-31 12:43:13,018 - INFO - MainProcess - All components loaded successfully.
2025-07-31 12:43:13,018 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-31 12:43:13,114 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-31 12:43:13,114 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-31 12:43:35,834 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-31 12:43:35,835 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-31 12:43:35,851 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-31 12:43:35,889 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-31 12:43:35,889 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-31 12:43:35,889 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-31 12:43:39,034 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-31 12:43:40,006 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-31 12:43:40,006 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-31 12:43:40,007 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-31 12:43:40,007 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-31 12:43:40,123 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-31 12:43:40,123 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-31 12:43:40,126 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-31 12:43:40,126 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-31 12:48:49,650 - INFO - MainProcess - Starting Flask service...
2025-07-31 12:48:49,650 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-31 12:48:49,650 - INFO - MainProcess - Loading configuration file...
2025-07-31 12:48:49,663 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-31 12:48:49,663 - INFO - MainProcess - Loading model components...
2025-07-31 12:49:00,159 - INFO - MainProcess - All components loaded successfully.
2025-07-31 12:49:00,159 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-31 12:49:00,236 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-31 12:49:00,236 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-31 12:49:22,772 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-31 12:49:22,772 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-31 12:49:22,786 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-31 12:49:22,840 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-31 12:49:22,841 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-31 12:49:22,841 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-31 12:49:25,684 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-31 12:49:26,552 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-31 12:49:26,553 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-31 12:49:26,555 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-31 12:49:26,555 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-31 12:49:26,661 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-31 12:49:26,662 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-31 12:49:26,667 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-31 12:49:26,667 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-31 12:54:39,693 - INFO - MainProcess - Starting Flask service...
2025-07-31 12:54:39,693 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-31 12:54:39,693 - INFO - MainProcess - Loading configuration file...
2025-07-31 12:54:39,706 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-31 12:54:39,706 - INFO - MainProcess - Loading model components...
2025-07-31 12:54:49,685 - INFO - MainProcess - All components loaded successfully.
2025-07-31 12:54:49,686 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-31 12:54:49,763 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-31 12:54:49,763 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-31 12:55:12,271 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-31 12:55:12,271 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-31 12:55:12,285 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-31 12:55:12,336 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-31 12:55:12,337 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-31 12:55:12,337 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-31 12:55:15,164 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-31 12:55:16,008 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-31 12:55:16,008 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-31 12:55:16,010 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-31 12:55:16,010 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-31 12:55:16,015 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-31 12:55:16,141 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-31 12:55:16,146 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-31 12:55:16,146 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-31 13:07:03,160 - INFO - MainProcess - Starting Flask service...
2025-07-31 13:07:03,160 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-31 13:07:03,160 - INFO - MainProcess - Loading configuration file...
2025-07-31 13:07:03,172 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-31 13:07:03,173 - INFO - MainProcess - Loading model components...
2025-07-31 13:07:13,997 - INFO - MainProcess - All components loaded successfully.
2025-07-31 13:07:13,997 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-31 13:07:14,074 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-31 13:07:14,074 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-31 13:07:36,855 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-31 13:07:36,855 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-31 13:07:36,870 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-31 13:07:36,924 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-31 13:07:36,925 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-31 13:07:36,925 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-31 13:07:39,804 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-31 13:07:40,666 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-31 13:07:40,666 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-31 13:07:40,666 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-31 13:07:40,667 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-31 13:07:40,765 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-31 13:07:40,765 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-31 13:07:40,775 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-31 13:07:40,775 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-31 17:14:58,149 - ERROR - MainProcess - 45.142.193.60 - - [31/Jul/2025 17:14:58] code 400, message Bad HTTP/0.9 request type ('\x03\x00\x00/*à\x00\x00\x00\x00\x00Cookie:')
2025-07-31 17:14:58,150 - INFO - MainProcess - 45.142.193.60 - - [31/Jul/2025 17:14:58] "[35m[1m\x03\x00\x00/*à\x00\x00\x00\x00\x00Cookie: mstshash=Administr[0m" HTTPStatus.BAD_REQUEST -
2025-07-31 19:15:52,601 - INFO - MainProcess - Starting Flask service...
2025-07-31 19:15:52,601 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-31 19:15:52,601 - INFO - MainProcess - Loading configuration file...
2025-07-31 19:15:52,614 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-31 19:15:52,614 - INFO - MainProcess - Loading model components...
2025-07-31 19:16:04,221 - INFO - MainProcess - All components loaded successfully.
2025-07-31 19:16:04,221 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-31 19:16:04,299 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-31 19:16:04,299 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-31 19:16:27,072 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-31 19:16:27,072 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-31 19:16:27,095 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-31 19:16:27,211 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-31 19:16:27,212 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-31 19:16:27,212 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-31 19:16:30,302 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-31 19:16:31,289 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-31 19:16:31,289 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-31 19:16:31,290 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-31 19:16:31,290 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-31 19:16:31,391 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-31 19:16:31,392 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-31 19:16:31,396 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-31 19:16:31,396 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-31 19:16:31,420 - INFO - MainProcess - Video pipe opened for writing.
2025-07-31 19:16:31,426 - INFO - MainProcess - Audio pipe opened for writing.
2025-07-31 19:23:04,881 - ERROR - MainProcess - Audio pipe write error: [Errno 32] Broken pipe
2025-07-31 19:23:04,882 - ERROR - MainProcess - Video pipe write error: [Errno 32] Broken pipe
2025-07-31 19:23:04,882 - INFO - MainProcess - Audio writer thread finished.
2025-07-31 19:23:04,882 - INFO - MainProcess - Video writer thread finished.
2025-07-31 19:23:12,907 - INFO - MainProcess - Starting Flask service...
2025-07-31 19:23:12,907 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-31 19:23:12,907 - INFO - MainProcess - Loading configuration file...
2025-07-31 19:23:12,919 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-31 19:23:12,919 - INFO - MainProcess - Loading model components...
2025-07-31 19:23:24,201 - INFO - MainProcess - All components loaded successfully.
2025-07-31 19:23:24,202 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-31 19:23:24,281 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-31 19:23:24,281 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-31 19:23:47,209 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-31 19:23:47,209 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-31 19:23:47,223 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-31 19:23:47,267 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-31 19:23:47,267 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-31 19:23:47,268 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-31 19:23:50,054 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-31 19:23:50,940 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-31 19:23:50,941 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-31 19:23:50,943 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-31 19:23:50,943 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-31 19:23:51,044 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-31 19:23:51,045 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-31 19:23:51,051 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-31 19:23:51,051 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-31 19:25:41,271 - INFO - MainProcess - Starting Flask service...
2025-07-31 19:25:41,271 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-31 19:25:41,271 - INFO - MainProcess - Loading configuration file...
2025-07-31 19:25:41,285 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-31 19:25:41,286 - INFO - MainProcess - Loading model components...
2025-07-31 19:25:52,153 - INFO - MainProcess - All components loaded successfully.
2025-07-31 19:25:52,154 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-31 19:25:52,234 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-31 19:25:52,235 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-31 19:26:14,778 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-31 19:26:14,778 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-31 19:26:14,792 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-31 19:26:14,828 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-31 19:26:14,828 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-31 19:26:14,828 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-31 19:26:17,599 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-31 19:26:18,454 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-31 19:26:18,454 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-31 19:26:18,455 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-31 19:26:18,455 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-31 19:26:18,579 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-31 19:26:18,580 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-31 19:26:18,582 - INFO - MainProcess - Audio writer thread finished.
2025-07-31 19:26:18,584 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-31 19:26:18,584 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-31 19:38:53,656 - INFO - MainProcess - Starting Flask service...
2025-07-31 19:38:53,656 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-31 19:38:53,656 - INFO - MainProcess - Loading configuration file...
2025-07-31 19:38:53,668 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-31 19:38:53,669 - INFO - MainProcess - Loading model components...
2025-07-31 19:39:05,185 - INFO - MainProcess - All components loaded successfully.
2025-07-31 19:39:05,185 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-31 19:39:05,268 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-31 19:39:05,268 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-31 19:39:27,855 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-31 19:39:27,855 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-31 19:39:27,871 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-31 19:39:27,969 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-31 19:39:27,970 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-31 19:39:27,970 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-31 19:39:31,022 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-31 19:39:32,001 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-31 19:39:32,002 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-31 19:39:32,002 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-31 19:39:32,003 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-31 19:39:32,003 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-31 19:39:32,149 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-31 19:39:32,149 - INFO - MainProcess - Video pipe opened for writing.
2025-07-31 19:39:32,155 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-31 19:39:32,156 - INFO - MainProcess - Audio pipe opened for writing.
2025-07-31 19:39:32,156 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-31 19:41:42,079 - ERROR - MainProcess - Video item_dict write error: [Errno 32] Broken pipe
2025-07-31 19:41:42,079 - ERROR - MainProcess - Audio pipe write error: [Errno 32] Broken pipe
2025-07-31 19:41:42,080 - INFO - MainProcess - Video writer thread finished.
2025-07-31 19:41:42,080 - INFO - MainProcess - Audio writer thread finished.
2025-07-31 19:41:48,824 - INFO - MainProcess - Starting Flask service...
2025-07-31 19:41:48,824 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-31 19:41:48,825 - INFO - MainProcess - Loading configuration file...
2025-07-31 19:41:48,837 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-31 19:41:48,837 - INFO - MainProcess - Loading model components...
2025-07-31 19:42:00,081 - INFO - MainProcess - All components loaded successfully.
2025-07-31 19:42:00,081 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-31 19:42:00,158 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-31 19:42:00,158 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-31 19:42:22,714 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-31 19:42:22,715 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-31 19:42:22,729 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-31 19:42:22,773 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-31 19:42:22,774 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-31 19:42:22,774 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-31 19:42:25,646 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-31 19:42:26,490 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-31 19:42:26,491 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-31 19:42:26,491 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-31 19:42:26,491 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-31 19:42:26,587 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-31 19:42:26,588 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-31 19:42:26,592 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-31 19:42:26,592 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-31 19:42:26,626 - INFO - MainProcess - Video pipe opened for writing.
2025-07-31 19:42:26,632 - INFO - MainProcess - Audio pipe opened for writing.
2025-07-31 19:42:26,632 - INFO - MainProcess - Audio writer thread finished.
2025-07-31 19:45:41,640 - INFO - MainProcess - Starting Flask service...
2025-07-31 19:45:41,640 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-31 19:45:41,641 - INFO - MainProcess - Loading configuration file...
2025-07-31 19:45:41,653 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-31 19:45:41,653 - INFO - MainProcess - Loading model components...
2025-07-31 19:45:52,151 - INFO - MainProcess - All components loaded successfully.
2025-07-31 19:45:52,152 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-31 19:45:52,237 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-31 19:45:52,237 - INFO - MainProcess - Preprocessing video file: 2s_GirlMuseum_0730.mp4...
2025-07-31 19:45:52,768 - ERROR - MainProcess - Could not read any frames from video: 2s_GirlMuseum_0730.mp4. Please check the path and file integrity.
2025-07-31 19:46:31,279 - INFO - MainProcess - Starting Flask service...
2025-07-31 19:46:31,280 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-31 19:46:31,280 - INFO - MainProcess - Loading configuration file...
2025-07-31 19:46:31,292 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-31 19:46:31,292 - INFO - MainProcess - Loading model components...
2025-07-31 19:46:42,067 - INFO - MainProcess - All components loaded successfully.
2025-07-31 19:46:42,067 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-31 19:46:42,159 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-31 19:46:42,159 - INFO - MainProcess - Preprocessing video file: assets/video/2s_GirlMuseum_0730.mp4...
2025-07-31 19:46:56,565 - INFO - MainProcess - Video preprocessed successfully. Found 50 frames/faces.
2025-07-31 19:46:56,565 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-31 19:46:56,582 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-31 19:46:56,641 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-31 19:46:56,641 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-31 19:46:56,642 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-31 19:46:59,398 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-31 19:47:00,234 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-31 19:47:00,234 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-31 19:47:00,235 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-31 19:47:00,236 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-31 19:47:00,341 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-31 19:47:00,342 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-31 19:47:00,348 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-31 19:47:00,348 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-31 20:13:49,856 - INFO - MainProcess - Starting Flask service...
2025-07-31 20:13:49,856 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-31 20:13:49,857 - INFO - MainProcess - Loading configuration file...
2025-07-31 20:13:49,869 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-31 20:13:49,869 - INFO - MainProcess - Loading model components...
2025-07-31 20:14:00,664 - INFO - MainProcess - All components loaded successfully.
2025-07-31 20:14:00,664 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-31 20:14:00,745 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-31 20:14:00,745 - INFO - MainProcess - Preprocessing video file: assets/video/2s_GirlMuseum_0730.mp4...
2025-07-31 20:14:14,981 - INFO - MainProcess - Video preprocessed successfully. Found 50 frames/faces.
2025-07-31 20:14:14,982 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-31 20:14:14,994 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-31 20:14:15,043 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-31 20:14:15,044 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-31 20:14:15,044 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-31 20:14:17,876 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-31 20:14:18,708 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-31 20:14:18,708 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-31 20:14:18,709 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-31 20:14:18,709 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-31 20:14:18,817 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-31 20:14:18,820 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-31 20:14:18,835 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-31 20:14:18,835 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-31 20:18:42,404 - INFO - MainProcess - Starting Flask service...
2025-07-31 20:18:42,404 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-31 20:18:42,404 - INFO - MainProcess - Loading configuration file...
2025-07-31 20:18:42,416 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-31 20:18:42,417 - INFO - MainProcess - Loading model components...
2025-07-31 20:18:52,828 - INFO - MainProcess - All components loaded successfully.
2025-07-31 20:18:52,828 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-31 20:18:52,908 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-31 20:18:52,908 - INFO - MainProcess - Preprocessing video file: assets/video/2s_GirlMuseum_0730.mp4...
2025-07-31 20:19:07,211 - INFO - MainProcess - Video preprocessed successfully. Found 50 frames/faces.
2025-07-31 20:19:07,211 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-31 20:19:07,225 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-31 20:19:07,280 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-31 20:19:07,281 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-31 20:19:07,281 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-31 20:19:10,196 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-31 20:19:11,089 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-31 20:19:11,091 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-31 20:19:11,092 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-31 20:19:11,092 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-31 20:19:11,247 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-31 20:19:11,249 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-31 20:19:11,254 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-31 20:19:11,254 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-31 20:21:48,709 - INFO - MainProcess - Starting Flask service...
2025-07-31 20:21:48,710 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-31 20:21:48,710 - INFO - MainProcess - Loading configuration file...
2025-07-31 20:21:48,722 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-31 20:21:48,723 - INFO - MainProcess - Loading model components...
2025-07-31 20:21:59,909 - INFO - MainProcess - All components loaded successfully.
2025-07-31 20:21:59,909 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-31 20:22:00,012 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-31 20:22:00,012 - INFO - MainProcess - Preprocessing video file: assets/video/2s_GirlMuseum_0730.mp4...
2025-07-31 20:22:14,248 - INFO - MainProcess - Video preprocessed successfully. Found 50 frames/faces.
2025-07-31 20:22:14,249 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-31 20:22:14,264 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-31 20:22:14,311 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-31 20:22:14,311 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-31 20:22:14,311 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-31 20:22:17,265 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-31 20:22:18,169 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-31 20:22:18,169 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-31 20:22:18,169 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-31 20:22:18,169 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-31 20:22:18,304 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-31 20:22:18,305 - INFO - MainProcess - ---------- 准备加载 _media_writer_loop  ----------
2025-07-31 20:22:18,306 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-31 20:22:18,323 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-31 20:22:18,323 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-31 21:17:47,290 - INFO - MainProcess - Starting Flask service...
2025-07-31 21:17:47,290 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-31 21:17:47,290 - INFO - MainProcess - Loading configuration file...
2025-07-31 21:17:47,302 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-31 21:17:47,303 - INFO - MainProcess - Loading model components...
2025-07-31 21:17:58,520 - INFO - MainProcess - All components loaded successfully.
2025-07-31 21:17:58,520 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-31 21:17:58,612 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-31 21:17:58,612 - INFO - MainProcess - Preprocessing video file: assets/video/2s_GirlMuseum_0730.mp4...
2025-07-31 21:18:12,872 - INFO - MainProcess - Video preprocessed successfully. Found 50 frames/faces.
2025-07-31 21:18:12,872 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-31 21:18:12,885 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-31 21:18:12,935 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-31 21:18:12,936 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-31 21:18:12,936 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-31 21:18:15,782 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-31 21:18:16,656 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-31 21:18:16,656 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-31 21:18:16,656 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-31 21:18:16,657 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-31 21:18:16,784 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-31 21:18:16,785 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-31 21:18:16,786 - INFO - MainProcess - ---------- 准备加载 _media_writer_loop  ----------
2025-07-31 21:18:16,812 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-31 21:18:16,813 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-31 21:18:16,829 - INFO - MainProcess - Pipe for 'video' opened successfully.
2025-07-31 21:18:26,830 - ERROR - MainProcess - Unified media writer thread crashed: 
Traceback (most recent call last):
  File "/data/home/klai/project/LatentSync10/infer_serv.py", line 142, in _media_writer_loop
    result = pipe_opener_queue.get(timeout=10) # 设置10秒超时
  File "/data/home/klai/anaconda3/envs/latentsync10/lib/python3.10/queue.py", line 179, in get
    raise Empty
_queue.Empty
2025-07-31 21:18:26,831 - INFO - MainProcess - Unified media writer thread finished. Closing pipes.
2025-07-31 21:18:26,831 - INFO - MainProcess - Pipe for 'audio' opened successfully.
2025-07-31 21:33:56,417 - INFO - MainProcess - Starting Flask service...
2025-07-31 21:33:56,417 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-31 21:33:56,418 - INFO - MainProcess - Loading configuration file...
2025-07-31 21:33:56,430 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-31 21:33:56,430 - INFO - MainProcess - Loading model components...
2025-07-31 21:34:08,956 - INFO - MainProcess - All components loaded successfully.
2025-07-31 21:34:08,956 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-31 21:34:09,049 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-31 21:34:09,049 - INFO - MainProcess - Preprocessing video file: assets/video/2s_GirlMuseum_0730.mp4...
2025-07-31 21:34:23,402 - INFO - MainProcess - Video preprocessed successfully. Found 50 frames/faces.
2025-07-31 21:34:23,403 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-31 21:34:23,418 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-31 21:34:23,476 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-31 21:34:23,476 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-31 21:34:23,476 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-31 21:34:26,305 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-31 21:34:27,168 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-31 21:34:27,169 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-31 21:34:27,169 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-31 21:34:27,169 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-31 21:34:27,282 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-31 21:34:27,283 - INFO - MainProcess - FFmpeg stderr logger started.
2025-07-31 21:34:27,283 - INFO - MainProcess - ---------- 准备加载 _media_writer_loop  ----------
2025-07-31 21:34:27,285 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-31 21:34:27,289 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-31 21:34:27,289 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-31 21:34:27,325 - INFO - MainProcess - [FFMPEG]: ffmpeg version 7.1.1 Copyright (c) 2000-2025 the FFmpeg developers
2025-07-31 21:34:27,326 - INFO - MainProcess - [FFMPEG]: built with gcc 14.3.0 (conda-forge gcc 14.3.0-3)
2025-07-31 21:34:27,326 - INFO - MainProcess - [FFMPEG]: configuration: --prefix=/data/home/klai/anaconda3/envs/latentsync10 --cc=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/x86_64-conda-linux-gnu-cc --cxx=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/x86_64-conda-linux-gnu-c++ --nm=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/x86_64-conda-linux-gnu-nm --ar=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/x86_64-conda-linux-gnu-ar --disable-doc --enable-openssl --enable-demuxer=dash --enable-hardcoded-tables --enable-libfreetype --enable-libharfbuzz --enable-libfontconfig --enable-libopenh264 --enable-libdav1d --disable-gnutls --enable-libvpx --enable-libass --enable-pthreads --enable-alsa --enable-libpulse --enable-vaapi --enable-libopenvino --enable-gpl --enable-libx264 --enable-libx265 --enable-libmp3lame --enable-libaom --enable-libsvtav1 --enable-libxml2 --enable-pic --enable-shared --disable-static --enable-version3 --enable-zlib --enable-libvorbis --enable-libopus --enable-librsvg --enable-ffplay --pkg-config=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/pkg-config
2025-07-31 21:34:27,326 - INFO - MainProcess - [FFMPEG]: libavutil      59. 39.100 / 59. 39.100
2025-07-31 21:34:27,326 - INFO - MainProcess - Pipe for 'video' opened successfully.
2025-07-31 21:34:27,327 - INFO - MainProcess - [FFMPEG]: libavcodec     61. 19.101 / 61. 19.101
2025-07-31 21:34:27,327 - INFO - MainProcess - [FFMPEG]: libavformat    61.  7.100 / 61.  7.100
2025-07-31 21:34:27,327 - INFO - MainProcess - [FFMPEG]: libavdevice    61.  3.100 / 61.  3.100
2025-07-31 21:34:27,329 - INFO - MainProcess - [FFMPEG]: libavfilter    10.  4.100 / 10.  4.100
2025-07-31 21:34:27,329 - INFO - MainProcess - [FFMPEG]: libswscale      8.  3.100 /  8.  3.100
2025-07-31 21:34:27,329 - INFO - MainProcess - [FFMPEG]: libswresample   5.  3.100 /  5.  3.100
2025-07-31 21:34:27,329 - INFO - MainProcess - [FFMPEG]: libpostproc    58.  3.100 / 58.  3.100
2025-07-31 21:34:37,327 - ERROR - MainProcess - Unified media writer thread crashed: 
Traceback (most recent call last):
  File "/data/home/klai/project/LatentSync10/infer_serv.py", line 142, in _media_writer_loop
    result = pipe_opener_queue.get(timeout=10) # 设置10秒超时
  File "/data/home/klai/anaconda3/envs/latentsync10/lib/python3.10/queue.py", line 179, in get
    raise Empty
_queue.Empty
2025-07-31 21:34:37,328 - INFO - MainProcess - Unified media writer thread finished. Closing pipes.
2025-07-31 21:34:37,328 - INFO - MainProcess - [FFMPEG]: Input #0, rawvideo, from '/tmp/latentsync_video_fifo':
2025-07-31 21:34:37,328 - INFO - MainProcess - Pipe for 'audio' opened successfully.
2025-07-31 21:34:37,329 - INFO - MainProcess - [FFMPEG]: Duration: N/A, bitrate: 623001 kb/s
2025-07-31 21:34:37,329 - INFO - MainProcess - [FFMPEG]: Stream #0:0: Video: rawvideo (RGB[24] / 0x18424752), rgb24, 832x1248, 623001 kb/s, 25 tbr, 25 tbn
2025-07-31 21:34:37,329 - INFO - MainProcess - [FFMPEG]: [aist#1:0/pcm_s16le @ 0x5574663698c0] Guessed Channel Layout: mono
2025-07-31 21:34:37,329 - INFO - MainProcess - [FFMPEG]: Input #1, s16le, from '/tmp/latentsync_audio_fifo':
2025-07-31 21:34:37,329 - INFO - MainProcess - [FFMPEG]: Duration: N/A, bitrate: 256 kb/s
2025-07-31 21:34:37,329 - INFO - MainProcess - [FFMPEG]: Stream #1:0: Audio: pcm_s16le, 16000 Hz, mono, s16, 256 kb/s
2025-07-31 21:34:38,128 - INFO - MainProcess - [FFMPEG]: Stream mapping:
2025-07-31 21:34:38,128 - INFO - MainProcess - [FFMPEG]: Stream #0:0 -> #0:0 (rawvideo (native) -> h264 (libx264))
2025-07-31 21:34:38,128 - INFO - MainProcess - [FFMPEG]: Stream #1:0 -> #0:1 (pcm_s16le (native) -> aac (native))
2025-07-31 21:34:38,129 - INFO - MainProcess - [FFMPEG]: Press [q] to stop, [?] for help
2025-07-31 21:34:38,130 - INFO - MainProcess - [FFMPEG]: [af#0:1 @ 0x5574663f9dc0] No filtered frames for output stream, trying to initialize anyway.
2025-07-31 21:34:38,131 - INFO - MainProcess - [FFMPEG]: [aac @ 0x55746636e0c0] Too many bits 8192.000000 > 6144 per frame requested, clamping to max
2025-07-31 21:34:38,136 - INFO - MainProcess - [FFMPEG]: [vf#0:0 @ 0x55746636bbc0] No filtered frames for output stream, trying to initialize anyway.
2025-07-31 21:34:38,137 - INFO - MainProcess - [FFMPEG]: [libx264 @ 0x557466357480] using cpu capabilities: MMX2 SSE2Fast SSSE3 SSE4.2 AVX FMA3 BMI2 AVX2
2025-07-31 21:34:38,143 - INFO - MainProcess - [FFMPEG]: [libx264 @ 0x557466357480] profile High, level 3.2, 4:2:0, 8-bit
2025-07-31 21:34:38,143 - INFO - MainProcess - [FFMPEG]: [libx264 @ 0x557466357480] 264 - core 164 r3095 baee400 - H.264/MPEG-4 AVC codec - Copyleft 2003-2022 - http://www.videolan.org/x264.html - options: cabac=1 ref=1 deblock=1:0:0 analyse=0x3:0x113 me=hex subme=2 psy=1 psy_rd=1.00:0.00 mixed_ref=0 me_range=16 chroma_me=1 trellis=0 8x8dct=1 cqm=0 deadzone=21,11 fast_pskip=1 chroma_qp_offset=0 threads=39 lookahead_threads=9 sliced_threads=0 nr=0 decimate=1 interlaced=0 bluray_compat=0 constrained_intra=0 bframes=3 b_pyramid=2 b_adapt=1 b_bias=0 direct=1 weightb=1 open_gop=0 weightp=1 keyint=250 keyint_min=25 scenecut=40 intra_refresh=0 rc_lookahead=10 rc=crf mbtree=1 crf=22.0 qcomp=0.60 qpmin=0 qpmax=69 qpstep=4 ip_ratio=1.40 aq=1:1.00
2025-07-31 21:34:38,143 - INFO - MainProcess - [FFMPEG]: Output #0, flv, to 'rtmp://117.74.66.188:1935/dash/latentsync_video':
2025-07-31 21:34:38,143 - INFO - MainProcess - [FFMPEG]: Metadata:
2025-07-31 21:34:38,143 - INFO - MainProcess - [FFMPEG]: encoder         : Lavf61.7.100
2025-07-31 21:34:38,143 - INFO - MainProcess - [FFMPEG]: Stream #0:0: Video: h264 ([7][0][0][0] / 0x0007), yuv420p(progressive), 832x1248, q=2-31, 25 fps, 1k tbn
2025-07-31 21:34:38,143 - INFO - MainProcess - [FFMPEG]: Metadata:
2025-07-31 21:34:38,143 - INFO - MainProcess - [FFMPEG]: encoder         : Lavc61.19.101 libx264
2025-07-31 21:34:38,143 - INFO - MainProcess - [FFMPEG]: Side data:
2025-07-31 21:34:38,143 - INFO - MainProcess - [FFMPEG]: cpb: bitrate max/min/avg: 0/0/0 buffer size: 0 vbv_delay: N/A
2025-07-31 21:34:38,143 - INFO - MainProcess - [FFMPEG]: Stream #0:1: Audio: aac (LC) ([10][0][0][0] / 0x000A), 16000 Hz, mono, fltp, 96 kb/s
2025-07-31 21:34:38,143 - INFO - MainProcess - [FFMPEG]: Metadata:
2025-07-31 21:34:38,143 - INFO - MainProcess - [FFMPEG]: encoder         : Lavc61.19.101 aac
2025-07-31 21:34:38,144 - INFO - MainProcess - [FFMPEG]: [flv @ 0x557466369c00] Failed to update header with correct duration.
2025-07-31 21:34:38,144 - INFO - MainProcess - [FFMPEG]: [flv @ 0x557466369c00] Failed to update header with correct filesize.
2025-07-31 21:34:38,144 - INFO - MainProcess - [FFMPEG]: [out#0/flv @ 0x557466369b00] video:0KiB audio:0KiB subtitle:0KiB other streams:0KiB global headers:0KiB muxing overhead: unknown
2025-07-31 21:34:38,144 - INFO - MainProcess - [FFMPEG]: [out#0/flv @ 0x557466369b00] Output file is empty, nothing was encoded(check -ss / -t / -frames parameters if used)
2025-07-31 21:34:38,144 - INFO - MainProcess - [FFMPEG]: frame=    0 fps=0.0 q=0.0 Lsize=       0KiB time=N/A bitrate=N/A speed=N/A
2025-07-31 21:34:38,146 - INFO - MainProcess - [FFMPEG]: [aac @ 0x55746636e0c0] Qavg: nan
2025-07-31 21:34:38,151 - INFO - MainProcess - FFmpeg stderr logger finished.
2025-07-31 21:45:26,524 - INFO - MainProcess - Starting Flask service...
2025-07-31 21:45:26,525 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-31 21:45:26,525 - INFO - MainProcess - Loading configuration file...
2025-07-31 21:45:26,537 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-31 21:45:26,537 - INFO - MainProcess - Loading model components...
2025-07-31 21:45:38,707 - INFO - MainProcess - All components loaded successfully.
2025-07-31 21:45:38,707 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-31 21:45:38,791 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-31 21:45:38,791 - INFO - MainProcess - Preprocessing video file: assets/video/2s_GirlMuseum_0730.mp4...
2025-07-31 21:45:53,182 - INFO - MainProcess - Video preprocessed successfully. Found 50 frames/faces.
2025-07-31 21:45:53,183 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-31 21:45:53,203 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-31 21:45:53,299 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-31 21:45:53,300 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-31 21:45:53,300 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-31 21:45:56,439 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-31 21:45:58,022 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-31 21:45:58,022 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-31 21:45:58,023 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-31 21:45:58,023 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-31 21:45:58,135 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-31 21:45:58,136 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-31 21:45:58,138 - INFO - MainProcess - FFmpeg stderr logger started.
2025-07-31 21:45:58,139 - INFO - MainProcess - Waiting for FFmpeg to open video pipe...
2025-07-31 21:45:58,142 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-31 21:45:58,142 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-31 21:45:58,164 - INFO - MainProcess - [FFMPEG]: ffmpeg version 7.1.1 Copyright (c) 2000-2025 the FFmpeg developers
2025-07-31 21:45:58,164 - INFO - MainProcess - [FFMPEG]: built with gcc 14.3.0 (conda-forge gcc 14.3.0-3)
2025-07-31 21:45:58,164 - INFO - MainProcess - [FFMPEG]: configuration: --prefix=/data/home/klai/anaconda3/envs/latentsync10 --cc=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/x86_64-conda-linux-gnu-cc --cxx=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/x86_64-conda-linux-gnu-c++ --nm=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/x86_64-conda-linux-gnu-nm --ar=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/x86_64-conda-linux-gnu-ar --disable-doc --enable-openssl --enable-demuxer=dash --enable-hardcoded-tables --enable-libfreetype --enable-libharfbuzz --enable-libfontconfig --enable-libopenh264 --enable-libdav1d --disable-gnutls --enable-libvpx --enable-libass --enable-pthreads --enable-alsa --enable-libpulse --enable-vaapi --enable-libopenvino --enable-gpl --enable-libx264 --enable-libx265 --enable-libmp3lame --enable-libaom --enable-libsvtav1 --enable-libxml2 --enable-pic --enable-shared --disable-static --enable-version3 --enable-zlib --enable-libvorbis --enable-libopus --enable-librsvg --enable-ffplay --pkg-config=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/pkg-config
2025-07-31 21:45:58,165 - INFO - MainProcess - [FFMPEG]: libavutil      59. 39.100 / 59. 39.100
2025-07-31 21:45:58,165 - INFO - MainProcess - [FFMPEG]: libavcodec     61. 19.101 / 61. 19.101
2025-07-31 21:45:58,165 - INFO - MainProcess - [FFMPEG]: libavformat    61.  7.100 / 61.  7.100
2025-07-31 21:45:58,165 - INFO - MainProcess - Video pipe opened. Waiting for FFmpeg to open audio pipe...
2025-07-31 21:45:58,165 - INFO - MainProcess - [FFMPEG]: libavdevice    61.  3.100 / 61.  3.100
2025-07-31 21:45:58,165 - INFO - MainProcess - [FFMPEG]: libavfilter    10.  4.100 / 10.  4.100
2025-07-31 21:45:58,165 - INFO - MainProcess - [FFMPEG]: libswscale      8.  3.100 /  8.  3.100
2025-07-31 21:45:58,165 - INFO - MainProcess - [FFMPEG]: libswresample   5.  3.100 /  5.  3.100
2025-07-31 21:45:58,165 - INFO - MainProcess - [FFMPEG]: libpostproc    58.  3.100 / 58.  3.100
2025-07-31 21:55:36,413 - INFO - MainProcess - [FFMPEG]: Received > 3 system signals, hard exiting
2025-07-31 21:55:36,419 - INFO - MainProcess - FFmpeg stderr logger finished.
2025-07-31 21:55:46,416 - INFO - MainProcess - Starting Flask service...
2025-07-31 21:55:46,416 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-31 21:55:46,416 - INFO - MainProcess - Loading configuration file...
2025-07-31 21:55:46,429 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-31 21:55:46,429 - INFO - MainProcess - Loading model components...
2025-07-31 21:55:57,677 - INFO - MainProcess - All components loaded successfully.
2025-07-31 21:55:57,677 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-31 21:55:57,756 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-31 21:55:57,756 - INFO - MainProcess - Preprocessing video file: assets/video/2s_GirlMuseum_0730.mp4...
2025-07-31 21:56:12,176 - INFO - MainProcess - Video preprocessed successfully. Found 50 frames/faces.
2025-07-31 21:56:12,176 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-31 21:56:12,191 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-31 21:56:12,260 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-31 21:56:12,261 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-31 21:56:12,261 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-31 21:56:15,105 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-31 21:56:15,959 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-31 21:56:15,960 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-31 21:56:15,960 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-31 21:56:15,960 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-31 21:56:16,091 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-31 21:56:16,092 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-31 21:56:16,094 - INFO - MainProcess - FFmpeg stderr logger started.
2025-07-31 21:56:16,095 - INFO - MainProcess - Waiting for FFmpeg to open video pipe...
2025-07-31 21:56:16,096 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-31 21:56:16,096 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-31 21:56:16,128 - INFO - MainProcess - [FFMPEG]: ffmpeg version 7.1.1 Copyright (c) 2000-2025 the FFmpeg developers
2025-07-31 21:56:16,128 - INFO - MainProcess - [FFMPEG]: built with gcc 14.3.0 (conda-forge gcc 14.3.0-3)
2025-07-31 21:56:16,128 - INFO - MainProcess - [FFMPEG]: configuration: --prefix=/data/home/klai/anaconda3/envs/latentsync10 --cc=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/x86_64-conda-linux-gnu-cc --cxx=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/x86_64-conda-linux-gnu-c++ --nm=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/x86_64-conda-linux-gnu-nm --ar=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/x86_64-conda-linux-gnu-ar --disable-doc --enable-openssl --enable-demuxer=dash --enable-hardcoded-tables --enable-libfreetype --enable-libharfbuzz --enable-libfontconfig --enable-libopenh264 --enable-libdav1d --disable-gnutls --enable-libvpx --enable-libass --enable-pthreads --enable-alsa --enable-libpulse --enable-vaapi --enable-libopenvino --enable-gpl --enable-libx264 --enable-libx265 --enable-libmp3lame --enable-libaom --enable-libsvtav1 --enable-libxml2 --enable-pic --enable-shared --disable-static --enable-version3 --enable-zlib --enable-libvorbis --enable-libopus --enable-librsvg --enable-ffplay --pkg-config=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/pkg-config
2025-07-31 21:56:16,128 - INFO - MainProcess - [FFMPEG]: libavutil      59. 39.100 / 59. 39.100
2025-07-31 21:56:16,128 - INFO - MainProcess - [FFMPEG]: libavcodec     61. 19.101 / 61. 19.101
2025-07-31 21:56:16,128 - INFO - MainProcess - [FFMPEG]: libavformat    61.  7.100 / 61.  7.100
2025-07-31 21:56:16,128 - INFO - MainProcess - [FFMPEG]: libavdevice    61.  3.100 / 61.  3.100
2025-07-31 21:56:16,128 - INFO - MainProcess - [FFMPEG]: libavfilter    10.  4.100 / 10.  4.100
2025-07-31 21:56:16,128 - INFO - MainProcess - [FFMPEG]: libswscale      8.  3.100 /  8.  3.100
2025-07-31 21:56:16,128 - INFO - MainProcess - [FFMPEG]: libswresample   5.  3.100 /  5.  3.100
2025-07-31 21:56:16,128 - INFO - MainProcess - [FFMPEG]: libpostproc    58.  3.100 / 58.  3.100
2025-07-31 21:56:16,129 - INFO - MainProcess - Video pipe opened.
2025-07-31 21:56:16,144 - INFO - MainProcess - Dummy frame sent to video pipe to prime FFmpeg.
2025-07-31 21:56:16,144 - INFO - MainProcess - Waiting for FFmpeg to open audio pipe...
2025-07-31 21:56:16,145 - INFO - MainProcess - ----------------   音、视频管道已全部打开，启动写入器  ----------------
2025-07-31 21:56:16,145 - INFO - MainProcess - [FFMPEG]: Input #0, rawvideo, from '/tmp/latentsync_video_fifo':
2025-07-31 21:56:16,145 - INFO - MainProcess - [FFMPEG]: Duration: N/A, start: 0.000000, bitrate: 623001 kb/s
2025-07-31 21:56:16,147 - INFO - MainProcess - Unified media writer thread started. Waiting for data...
2025-07-31 21:56:16,149 - INFO - MainProcess - [FFMPEG]: Stream #0:0: Video: rawvideo (RGB[24] / 0x18424752), rgb24, 832x1248, 623001 kb/s, 25 tbr, 25 tbn
2025-07-31 22:01:35,167 - INFO - MainProcess - [FFMPEG]: Received > 3 system signals, hard exiting
2025-07-31 22:01:35,173 - INFO - MainProcess - FFmpeg stderr logger finished.
2025-07-31 22:01:35,180 - ERROR - MainProcess - Pipe write error, FFmpeg likely terminated: [Errno 32] Broken pipe
2025-07-31 22:01:35,180 - INFO - MainProcess - Unified media writer thread finished.
2025-07-31 22:01:45,771 - INFO - MainProcess - Starting Flask service...
2025-07-31 22:01:45,771 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-31 22:01:45,771 - INFO - MainProcess - Loading configuration file...
2025-07-31 22:01:45,784 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-31 22:01:45,784 - INFO - MainProcess - Loading model components...
2025-07-31 22:01:56,346 - INFO - MainProcess - All components loaded successfully.
2025-07-31 22:01:56,347 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-31 22:01:56,444 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-31 22:01:56,444 - INFO - MainProcess - Preprocessing video file: assets/video/2s_GirlMuseum_0730.mp4...
2025-07-31 22:02:10,874 - INFO - MainProcess - Video preprocessed successfully. Found 50 frames/faces.
2025-07-31 22:02:10,874 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-31 22:02:10,886 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-31 22:02:10,935 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-31 22:02:10,935 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-31 22:02:10,936 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-31 22:02:13,786 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-31 22:02:14,650 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-31 22:02:14,650 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-31 22:02:14,651 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-31 22:02:14,651 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-31 22:02:14,773 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-31 22:02:14,775 - INFO - MainProcess - FFmpeg stderr logger started.
2025-07-31 22:02:14,775 - INFO - MainProcess - Waiting for FFmpeg to open video pipe...
2025-07-31 22:02:14,777 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-31 22:02:14,779 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-31 22:02:14,779 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-31 22:02:14,831 - INFO - MainProcess - [FFMPEG]: ffmpeg version 7.1.1 Copyright (c) 2000-2025 the FFmpeg developers
2025-07-31 22:02:14,831 - INFO - MainProcess - [FFMPEG]: built with gcc 14.3.0 (conda-forge gcc 14.3.0-3)
2025-07-31 22:02:14,831 - INFO - MainProcess - [FFMPEG]: configuration: --prefix=/data/home/klai/anaconda3/envs/latentsync10 --cc=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/x86_64-conda-linux-gnu-cc --cxx=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/x86_64-conda-linux-gnu-c++ --nm=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/x86_64-conda-linux-gnu-nm --ar=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/x86_64-conda-linux-gnu-ar --disable-doc --enable-openssl --enable-demuxer=dash --enable-hardcoded-tables --enable-libfreetype --enable-libharfbuzz --enable-libfontconfig --enable-libopenh264 --enable-libdav1d --disable-gnutls --enable-libvpx --enable-libass --enable-pthreads --enable-alsa --enable-libpulse --enable-vaapi --enable-libopenvino --enable-gpl --enable-libx264 --enable-libx265 --enable-libmp3lame --enable-libaom --enable-libsvtav1 --enable-libxml2 --enable-pic --enable-shared --disable-static --enable-version3 --enable-zlib --enable-libvorbis --enable-libopus --enable-librsvg --enable-ffplay --pkg-config=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/pkg-config
2025-07-31 22:02:14,831 - INFO - MainProcess - [FFMPEG]: libavutil      59. 39.100 / 59. 39.100
2025-07-31 22:02:14,831 - INFO - MainProcess - [FFMPEG]: libavcodec     61. 19.101 / 61. 19.101
2025-07-31 22:02:14,831 - INFO - MainProcess - [FFMPEG]: libavformat    61.  7.100 / 61.  7.100
2025-07-31 22:02:14,831 - INFO - MainProcess - [FFMPEG]: libavdevice    61.  3.100 / 61.  3.100
2025-07-31 22:02:14,831 - INFO - MainProcess - [FFMPEG]: libavfilter    10.  4.100 / 10.  4.100
2025-07-31 22:02:14,831 - INFO - MainProcess - [FFMPEG]: libswscale      8.  3.100 /  8.  3.100
2025-07-31 22:02:14,831 - INFO - MainProcess - [FFMPEG]: libswresample   5.  3.100 /  5.  3.100
2025-07-31 22:02:14,831 - INFO - MainProcess - [FFMPEG]: libpostproc    58.  3.100 / 58.  3.100
2025-07-31 22:02:14,833 - INFO - MainProcess - Video pipe opened.
2025-07-31 22:02:14,847 - INFO - MainProcess - Dummy frame sent to video pipe to prime FFmpeg.
2025-07-31 22:02:14,847 - INFO - MainProcess - Waiting for FFmpeg to open audio pipe...
2025-07-31 22:02:14,848 - INFO - MainProcess - [FFMPEG]: Input #0, rawvideo, from '/tmp/latentsync_video_fifo':
2025-07-31 22:02:14,848 - INFO - MainProcess - [FFMPEG]: Duration: N/A, start: 0.000000, bitrate: 623001 kb/s
2025-07-31 22:02:14,848 - INFO - MainProcess - [FFMPEG]: Stream #0:0: Video: rawvideo (RGB[24] / 0x18424752), rgb24, 832x1248, 623001 kb/s, 25 tbr, 25 tbn
2025-07-31 22:02:14,848 - INFO - MainProcess - ----------------   音、视频管道已全部打开，启动写入器  ----------------
2025-07-31 22:02:14,848 - INFO - MainProcess - Unified media writer thread started. Waiting for data...
2025-07-31 22:09:04,109 - INFO - MainProcess - [FFMPEG]: Received > 3 system signals, hard exiting
2025-07-31 22:09:04,115 - INFO - MainProcess - FFmpeg stderr logger finished.
2025-07-31 22:09:04,124 - ERROR - MainProcess - Pipe write error, FFmpeg likely terminated: [Errno 32] Broken pipe
2025-07-31 22:09:04,124 - INFO - MainProcess - Unified media writer thread finished.
2025-07-31 22:09:15,183 - INFO - MainProcess - Starting Flask service...
2025-07-31 22:09:15,184 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-31 22:09:15,184 - INFO - MainProcess - Loading configuration file...
2025-07-31 22:09:15,196 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-31 22:09:15,196 - INFO - MainProcess - Loading model components...
2025-07-31 22:09:25,805 - INFO - MainProcess - All components loaded successfully.
2025-07-31 22:09:25,805 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-31 22:09:25,890 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-31 22:09:25,890 - INFO - MainProcess - Preprocessing video file: assets/video/2s_GirlMuseum_0730.mp4...
2025-07-31 22:09:40,185 - INFO - MainProcess - Video preprocessed successfully. Found 50 frames/faces.
2025-07-31 22:09:40,185 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-31 22:09:40,199 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-31 22:09:40,257 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-31 22:09:40,257 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-31 22:09:40,257 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-31 22:09:43,224 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-31 22:09:44,106 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-31 22:09:44,106 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-31 22:09:44,109 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-31 22:09:44,109 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-31 22:09:44,118 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-31 22:09:44,308 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-31 22:09:44,309 - INFO - MainProcess - FFmpeg stderr logger started.
2025-07-31 22:09:44,310 - INFO - MainProcess - Waiting for FFmpeg to open video pipe...
2025-07-31 22:09:44,310 - INFO - MainProcess - Video pipe opened.
2025-07-31 22:09:44,310 - INFO - MainProcess - [FFMPEG]: ffmpeg version 7.1.1 Copyright (c) 2000-2025 the FFmpeg developers
2025-07-31 22:09:44,312 - INFO - MainProcess - [FFMPEG]: built with gcc 14.3.0 (conda-forge gcc 14.3.0-3)
2025-07-31 22:09:44,312 - INFO - MainProcess - [FFMPEG]: configuration: --prefix=/data/home/klai/anaconda3/envs/latentsync10 --cc=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/x86_64-conda-linux-gnu-cc --cxx=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/x86_64-conda-linux-gnu-c++ --nm=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/x86_64-conda-linux-gnu-nm --ar=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/x86_64-conda-linux-gnu-ar --disable-doc --enable-openssl --enable-demuxer=dash --enable-hardcoded-tables --enable-libfreetype --enable-libharfbuzz --enable-libfontconfig --enable-libopenh264 --enable-libdav1d --disable-gnutls --enable-libvpx --enable-libass --enable-pthreads --enable-alsa --enable-libpulse --enable-vaapi --enable-libopenvino --enable-gpl --enable-libx264 --enable-libx265 --enable-libmp3lame --enable-libaom --enable-libsvtav1 --enable-libxml2 --enable-pic --enable-shared --disable-static --enable-version3 --enable-zlib --enable-libvorbis --enable-libopus --enable-librsvg --enable-ffplay --pkg-config=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/pkg-config
2025-07-31 22:09:44,312 - INFO - MainProcess - [FFMPEG]: libavutil      59. 39.100 / 59. 39.100
2025-07-31 22:09:44,312 - INFO - MainProcess - [FFMPEG]: libavcodec     61. 19.101 / 61. 19.101
2025-07-31 22:09:44,312 - INFO - MainProcess - [FFMPEG]: libavformat    61.  7.100 / 61.  7.100
2025-07-31 22:09:44,312 - INFO - MainProcess - [FFMPEG]: libavdevice    61.  3.100 / 61.  3.100
2025-07-31 22:09:44,312 - INFO - MainProcess - [FFMPEG]: libavfilter    10.  4.100 / 10.  4.100
2025-07-31 22:09:44,312 - INFO - MainProcess - [FFMPEG]: libswscale      8.  3.100 /  8.  3.100
2025-07-31 22:09:44,312 - INFO - MainProcess - [FFMPEG]: libswresample   5.  3.100 /  5.  3.100
2025-07-31 22:09:44,312 - INFO - MainProcess - [FFMPEG]: libpostproc    58.  3.100 / 58.  3.100
2025-07-31 22:09:44,319 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-31 22:09:44,320 - INFO - MainProcess - Dummy frame sent to video pipe to prime FFmpeg.
2025-07-31 22:09:44,320 - INFO - MainProcess - [FFMPEG]: Input #0, rawvideo, from '/tmp/latentsync_video_fifo':
2025-07-31 22:09:44,320 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-31 22:09:44,320 - INFO - MainProcess - Waiting for FFmpeg to open audio pipe...
2025-07-31 22:09:44,320 - INFO - MainProcess - [FFMPEG]: Duration: N/A, start: 0.000000, bitrate: 623001 kb/s
2025-07-31 22:09:44,320 - INFO - MainProcess - [FFMPEG]: Stream #0:0: Video: rawvideo (RGB[24] / 0x18424752), rgb24, 832x1248, 623001 kb/s, 25 tbr, 25 tbn
2025-07-31 22:09:44,320 - INFO - MainProcess - ----------------   音、视频管道已全部打开，启动写入器  ----------------
2025-07-31 22:09:44,320 - INFO - MainProcess - Unified media writer thread started. Waiting for data...
2025-07-31 22:09:44,320 - INFO - MainProcess - Dispatcher loop started. Monitoring queues...
2025-07-31 22:09:44,321 - INFO - MainProcess - [Dispatcher] Got an item from IDLE queue. Qsize is now: 17
2025-07-31 22:09:44,321 - INFO - MainProcess - [Dispatcher] Processing item...
2025-07-31 22:09:44,321 - INFO - MainProcess - [Dispatcher] Item sent to media_write_queue. Media Qsize: 1
2025-07-31 22:09:44,321 - INFO - MainProcess - [Dispatcher] Got an item from IDLE queue. Qsize is now: 17
2025-07-31 22:09:44,329 - INFO - MainProcess - [Dispatcher] Processing item...
2025-07-31 22:09:44,329 - INFO - MainProcess - [Dispatcher] Item sent to media_write_queue. Media Qsize: 1
2025-07-31 22:09:44,329 - INFO - MainProcess - [Dispatcher] Got an item from IDLE queue. Qsize is now: 17
2025-07-31 22:09:44,329 - INFO - MainProcess - [Dispatcher] Processing item...
2025-07-31 22:09:44,329 - INFO - MainProcess - [Dispatcher] Item sent to media_write_queue. Media Qsize: 2
2025-07-31 22:09:44,329 - INFO - MainProcess - [Dispatcher] Got an item from IDLE queue. Qsize is now: 17
2025-07-31 22:09:44,341 - INFO - MainProcess - [Dispatcher] Processing item...
2025-07-31 22:09:44,341 - INFO - MainProcess - [Dispatcher] Item sent to media_write_queue. Media Qsize: 3
2025-07-31 22:09:44,341 - INFO - MainProcess - [Dispatcher] Got an item from IDLE queue. Qsize is now: 17
2025-07-31 22:09:44,341 - INFO - MainProcess - [Dispatcher] Processing item...
2025-07-31 22:09:44,341 - INFO - MainProcess - [Dispatcher] Item sent to media_write_queue. Media Qsize: 4
2025-07-31 22:09:44,341 - INFO - MainProcess - [Dispatcher] Got an item from IDLE queue. Qsize is now: 17
2025-07-31 22:09:44,341 - INFO - MainProcess - [Dispatcher] Processing item...
2025-07-31 22:09:44,341 - INFO - MainProcess - [Dispatcher] Item sent to media_write_queue. Media Qsize: 5
2025-07-31 22:09:44,341 - INFO - MainProcess - [Dispatcher] Got an item from IDLE queue. Qsize is now: 17
2025-07-31 22:09:44,341 - INFO - MainProcess - [Dispatcher] Processing item...
2025-07-31 22:09:44,341 - INFO - MainProcess - [Dispatcher] Item sent to media_write_queue. Media Qsize: 6
2025-07-31 22:09:44,341 - INFO - MainProcess - [Dispatcher] Got an item from IDLE queue. Qsize is now: 17
2025-07-31 22:09:44,341 - INFO - MainProcess - [Dispatcher] Processing item...
2025-07-31 22:09:44,342 - INFO - MainProcess - [Dispatcher] Item sent to media_write_queue. Media Qsize: 7
2025-07-31 22:09:44,342 - INFO - MainProcess - [Dispatcher] Got an item from IDLE queue. Qsize is now: 17
2025-07-31 22:09:44,348 - INFO - MainProcess - [Dispatcher] Processing item...
2025-07-31 22:09:44,359 - INFO - MainProcess - [Dispatcher] Item sent to media_write_queue. Media Qsize: 8
2025-07-31 22:09:44,359 - INFO - MainProcess - [Dispatcher] Got an item from IDLE queue. Qsize is now: 17
2025-07-31 22:09:44,360 - INFO - MainProcess - [Dispatcher] Processing item...
2025-07-31 22:09:44,360 - INFO - MainProcess - [Dispatcher] Item sent to media_write_queue. Media Qsize: 9
2025-07-31 22:09:44,365 - INFO - MainProcess - [Dispatcher] Got an item from IDLE queue. Qsize is now: 17
2025-07-31 22:09:44,371 - INFO - MainProcess - [Dispatcher] Processing item...
2025-07-31 22:09:44,376 - INFO - MainProcess - [Dispatcher] Item sent to media_write_queue. Media Qsize: 10
2025-07-31 22:09:44,377 - INFO - MainProcess - [Dispatcher] Got an item from IDLE queue. Qsize is now: 17
2025-07-31 22:09:44,377 - INFO - MainProcess - [Dispatcher] Processing item...
2025-07-31 22:14:52,702 - INFO - MainProcess - [FFMPEG]: Received > 3 system signals, hard exiting
2025-07-31 22:14:52,709 - INFO - MainProcess - FFmpeg stderr logger finished.
2025-07-31 22:14:52,721 - ERROR - MainProcess - Pipe write error, FFmpeg likely terminated: [Errno 32] Broken pipe
2025-07-31 22:14:52,722 - INFO - MainProcess - Unified media writer thread finished.
2025-07-31 22:15:02,576 - INFO - MainProcess - Starting Flask service...
2025-07-31 22:15:02,576 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-31 22:15:02,576 - INFO - MainProcess - Loading configuration file...
2025-07-31 22:15:02,588 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-31 22:15:02,589 - INFO - MainProcess - Loading model components...
2025-07-31 22:15:13,460 - INFO - MainProcess - All components loaded successfully.
2025-07-31 22:15:13,460 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-31 22:15:13,549 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-31 22:15:13,549 - INFO - MainProcess - Preprocessing video file: assets/video/2s_GirlMuseum_0730.mp4...
2025-07-31 22:15:27,865 - INFO - MainProcess - Video preprocessed successfully. Found 50 frames/faces.
2025-07-31 22:15:27,865 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-31 22:15:27,878 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-31 22:15:27,925 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-31 22:15:27,926 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-31 22:15:27,926 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-31 22:15:31,025 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-31 22:15:31,966 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-31 22:15:31,966 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-31 22:15:31,969 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-31 22:15:31,969 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-31 22:15:31,969 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-31 22:15:32,166 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-31 22:15:32,167 - INFO - MainProcess - FFmpeg stderr logger started.
2025-07-31 22:15:32,167 - INFO - MainProcess - Waiting for FFmpeg to open video pipe...
2025-07-31 22:15:32,168 - INFO - MainProcess - [FFMPEG]: ffmpeg version 7.1.1 Copyright (c) 2000-2025 the FFmpeg developers
2025-07-31 22:15:32,169 - INFO - MainProcess - Video pipe opened.
2025-07-31 22:15:32,169 - INFO - MainProcess - [FFMPEG]: built with gcc 14.3.0 (conda-forge gcc 14.3.0-3)
2025-07-31 22:15:32,169 - INFO - MainProcess - [FFMPEG]: configuration: --prefix=/data/home/klai/anaconda3/envs/latentsync10 --cc=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/x86_64-conda-linux-gnu-cc --cxx=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/x86_64-conda-linux-gnu-c++ --nm=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/x86_64-conda-linux-gnu-nm --ar=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/x86_64-conda-linux-gnu-ar --disable-doc --enable-openssl --enable-demuxer=dash --enable-hardcoded-tables --enable-libfreetype --enable-libharfbuzz --enable-libfontconfig --enable-libopenh264 --enable-libdav1d --disable-gnutls --enable-libvpx --enable-libass --enable-pthreads --enable-alsa --enable-libpulse --enable-vaapi --enable-libopenvino --enable-gpl --enable-libx264 --enable-libx265 --enable-libmp3lame --enable-libaom --enable-libsvtav1 --enable-libxml2 --enable-pic --enable-shared --disable-static --enable-version3 --enable-zlib --enable-libvorbis --enable-libopus --enable-librsvg --enable-ffplay --pkg-config=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/pkg-config
2025-07-31 22:15:32,170 - INFO - MainProcess - [FFMPEG]: libavutil      59. 39.100 / 59. 39.100
2025-07-31 22:15:32,170 - INFO - MainProcess - [FFMPEG]: libavcodec     61. 19.101 / 61. 19.101
2025-07-31 22:15:32,170 - INFO - MainProcess - [FFMPEG]: libavformat    61.  7.100 / 61.  7.100
2025-07-31 22:15:32,170 - INFO - MainProcess - [FFMPEG]: libavdevice    61.  3.100 / 61.  3.100
2025-07-31 22:15:32,170 - INFO - MainProcess - [FFMPEG]: libavfilter    10.  4.100 / 10.  4.100
2025-07-31 22:15:32,170 - INFO - MainProcess - [FFMPEG]: libswscale      8.  3.100 /  8.  3.100
2025-07-31 22:15:32,172 - INFO - MainProcess - [FFMPEG]: libswresample   5.  3.100 /  5.  3.100
2025-07-31 22:15:32,172 - INFO - MainProcess - [FFMPEG]: libpostproc    58.  3.100 / 58.  3.100
2025-07-31 22:15:32,174 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-31 22:15:32,174 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-31 22:15:32,175 - INFO - MainProcess - Dummy frame sent to video pipe to prime FFmpeg.
2025-07-31 22:15:32,176 - INFO - MainProcess - [FFMPEG]: Input #0, rawvideo, from '/tmp/latentsync_video_fifo':
2025-07-31 22:15:32,176 - INFO - MainProcess - Waiting for FFmpeg to open audio pipe...
2025-07-31 22:15:32,176 - INFO - MainProcess - [FFMPEG]: Duration: N/A, start: 0.000000, bitrate: 623001 kb/s
2025-07-31 22:15:32,176 - INFO - MainProcess - [FFMPEG]: Stream #0:0: Video: rawvideo (RGB[24] / 0x18424752), rgb24, 832x1248, 623001 kb/s, 25 tbr, 25 tbn
2025-07-31 22:15:32,176 - INFO - MainProcess - Audio pipe opened.
2025-07-31 22:15:32,176 - INFO - MainProcess - Dummy audio chunk sent to audio pipe to prime FFmpeg.
2025-07-31 22:15:32,176 - INFO - MainProcess - ----------------   音、视频管道已全部打开并启动，启动写入器  ----------------
2025-07-31 22:15:32,176 - INFO - MainProcess - Unified media writer thread started. Waiting for data...
2025-07-31 22:18:20,784 - INFO - MainProcess - Starting Flask service...
2025-07-31 22:18:20,784 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-31 22:18:20,784 - INFO - MainProcess - Loading configuration file...
2025-07-31 22:18:20,796 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-31 22:18:20,797 - INFO - MainProcess - Loading model components...
2025-07-31 22:18:30,931 - INFO - MainProcess - All components loaded successfully.
2025-07-31 22:18:30,931 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-31 22:18:31,010 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-31 22:18:31,011 - INFO - MainProcess - Preprocessing video file: assets/video/2s_GirlMuseum_0730.mp4...
2025-07-31 22:18:45,416 - INFO - MainProcess - Video preprocessed successfully. Found 50 frames/faces.
2025-07-31 22:18:45,416 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-31 22:18:45,429 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-31 22:18:45,479 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-31 22:18:45,479 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-31 22:18:45,479 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-31 22:18:48,408 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-31 22:18:49,330 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-31 22:18:49,330 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-31 22:18:49,331 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-31 22:18:49,331 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-31 22:18:49,340 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-31 22:18:49,536 - INFO - MainProcess - FFmpeg stderr logger started.
2025-07-31 22:18:49,537 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-31 22:18:49,537 - INFO - MainProcess - Waiting for FFmpeg to open video pipe...
2025-07-31 22:18:49,538 - INFO - MainProcess - [FFMPEG]: ffmpeg version 7.1.1 Copyright (c) 2000-2025 the FFmpeg developers
2025-07-31 22:18:49,539 - INFO - MainProcess - Video pipe opened.
2025-07-31 22:18:49,540 - INFO - MainProcess - [FFMPEG]: built with gcc 14.3.0 (conda-forge gcc 14.3.0-3)
2025-07-31 22:18:49,543 - INFO - MainProcess - [FFMPEG]: configuration: --prefix=/data/home/klai/anaconda3/envs/latentsync10 --cc=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/x86_64-conda-linux-gnu-cc --cxx=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/x86_64-conda-linux-gnu-c++ --nm=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/x86_64-conda-linux-gnu-nm --ar=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/x86_64-conda-linux-gnu-ar --disable-doc --enable-openssl --enable-demuxer=dash --enable-hardcoded-tables --enable-libfreetype --enable-libharfbuzz --enable-libfontconfig --enable-libopenh264 --enable-libdav1d --disable-gnutls --enable-libvpx --enable-libass --enable-pthreads --enable-alsa --enable-libpulse --enable-vaapi --enable-libopenvino --enable-gpl --enable-libx264 --enable-libx265 --enable-libmp3lame --enable-libaom --enable-libsvtav1 --enable-libxml2 --enable-pic --enable-shared --disable-static --enable-version3 --enable-zlib --enable-libvorbis --enable-libopus --enable-librsvg --enable-ffplay --pkg-config=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/pkg-config
2025-07-31 22:18:49,544 - INFO - MainProcess - [FFMPEG]: libavutil      59. 39.100 / 59. 39.100
2025-07-31 22:18:49,544 - INFO - MainProcess - [FFMPEG]: libavcodec     61. 19.101 / 61. 19.101
2025-07-31 22:18:49,544 - INFO - MainProcess - [FFMPEG]: libavformat    61.  7.100 / 61.  7.100
2025-07-31 22:18:49,544 - INFO - MainProcess - [FFMPEG]: libavdevice    61.  3.100 / 61.  3.100
2025-07-31 22:18:49,544 - INFO - MainProcess - [FFMPEG]: libavfilter    10.  4.100 / 10.  4.100
2025-07-31 22:18:49,544 - INFO - MainProcess - [FFMPEG]: libswscale      8.  3.100 /  8.  3.100
2025-07-31 22:18:49,544 - INFO - MainProcess - [FFMPEG]: libswresample   5.  3.100 /  5.  3.100
2025-07-31 22:18:49,545 - INFO - MainProcess - [FFMPEG]: libpostproc    58.  3.100 / 58.  3.100
2025-07-31 22:18:49,555 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-31 22:18:49,555 - INFO - MainProcess - Dummy frame sent to video pipe to prime FFmpeg.
2025-07-31 22:18:49,556 - INFO - MainProcess - [FFMPEG]: Input #0, rawvideo, from '/tmp/latentsync_video_fifo':
2025-07-31 22:18:49,556 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-31 22:18:49,556 - INFO - MainProcess - Waiting for FFmpeg to open audio pipe...
2025-07-31 22:18:49,556 - INFO - MainProcess - Audio pipe opened.
2025-07-31 22:18:49,556 - INFO - MainProcess - [FFMPEG]: Duration: N/A, start: 0.000000, bitrate: 623001 kb/s
2025-07-31 22:18:49,557 - INFO - MainProcess - [FFMPEG]: Stream #0:0: Video: rawvideo (RGB[24] / 0x18424752), rgb24, 832x1248, 623001 kb/s, 25 tbr, 25 tbn
2025-07-31 22:18:49,557 - INFO - MainProcess - Dummy audio chunk sent to audio pipe to prime FFmpeg.
2025-07-31 22:18:49,557 - INFO - MainProcess - ----------------   音、视频管道已全部打开并启动，启动写入器  ----------------
2025-07-31 22:18:49,557 - INFO - MainProcess - Unified media writer thread started. Waiting for data...
2025-07-31 22:23:02,905 - INFO - MainProcess - Starting Flask service...
2025-07-31 22:23:02,905 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-31 22:23:02,905 - INFO - MainProcess - Loading configuration file...
2025-07-31 22:23:02,917 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-31 22:23:02,917 - INFO - MainProcess - Loading model components...
2025-07-31 22:23:13,619 - INFO - MainProcess - All components loaded successfully.
2025-07-31 22:23:13,620 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-31 22:23:13,712 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-31 22:23:13,712 - INFO - MainProcess - Preprocessing video file: assets/video/2s_GirlMuseum_0730.mp4...
2025-07-31 22:23:28,335 - INFO - MainProcess - Video preprocessed successfully. Found 50 frames/faces.
2025-07-31 22:23:28,336 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-31 22:23:28,350 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-31 22:23:28,419 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-31 22:23:28,420 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-31 22:23:28,420 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-31 22:23:31,333 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-31 22:23:32,224 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-31 22:23:32,225 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-31 22:23:32,226 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-31 22:23:32,226 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-31 22:23:32,365 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-31 22:23:32,367 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-31 22:23:32,373 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-31 22:23:32,377 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-31 22:23:32,377 - INFO - MainProcess - Waiting for FFmpeg to open video pipe...
2025-07-31 22:23:32,373 - INFO - MainProcess - FFmpeg stderr logger started.
2025-07-31 22:23:32,423 - INFO - MainProcess - [FFMPEG]: ffmpeg version 7.1.1 Copyright (c) 2000-2025 the FFmpeg developers
2025-07-31 22:23:32,423 - INFO - MainProcess - [FFMPEG]: built with gcc 14.3.0 (conda-forge gcc 14.3.0-3)
2025-07-31 22:23:32,423 - INFO - MainProcess - [FFMPEG]: configuration: --prefix=/data/home/klai/anaconda3/envs/latentsync10 --cc=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/x86_64-conda-linux-gnu-cc --cxx=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/x86_64-conda-linux-gnu-c++ --nm=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/x86_64-conda-linux-gnu-nm --ar=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/x86_64-conda-linux-gnu-ar --disable-doc --enable-openssl --enable-demuxer=dash --enable-hardcoded-tables --enable-libfreetype --enable-libharfbuzz --enable-libfontconfig --enable-libopenh264 --enable-libdav1d --disable-gnutls --enable-libvpx --enable-libass --enable-pthreads --enable-alsa --enable-libpulse --enable-vaapi --enable-libopenvino --enable-gpl --enable-libx264 --enable-libx265 --enable-libmp3lame --enable-libaom --enable-libsvtav1 --enable-libxml2 --enable-pic --enable-shared --disable-static --enable-version3 --enable-zlib --enable-libvorbis --enable-libopus --enable-librsvg --enable-ffplay --pkg-config=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/pkg-config
2025-07-31 22:23:32,423 - INFO - MainProcess - [FFMPEG]: libavutil      59. 39.100 / 59. 39.100
2025-07-31 22:23:32,423 - INFO - MainProcess - [FFMPEG]: libavcodec     61. 19.101 / 61. 19.101
2025-07-31 22:23:32,423 - INFO - MainProcess - [FFMPEG]: libavformat    61.  7.100 / 61.  7.100
2025-07-31 22:23:32,423 - INFO - MainProcess - [FFMPEG]: libavdevice    61.  3.100 / 61.  3.100
2025-07-31 22:23:32,423 - INFO - MainProcess - [FFMPEG]: libavfilter    10.  4.100 / 10.  4.100
2025-07-31 22:23:32,423 - INFO - MainProcess - [FFMPEG]: libswscale      8.  3.100 /  8.  3.100
2025-07-31 22:23:32,423 - INFO - MainProcess - [FFMPEG]: libswresample   5.  3.100 /  5.  3.100
2025-07-31 22:23:32,423 - INFO - MainProcess - [FFMPEG]: libpostproc    58.  3.100 / 58.  3.100
2025-07-31 22:23:32,424 - INFO - MainProcess - Video pipe opened.
2025-07-31 22:23:32,424 - INFO - MainProcess - Waiting for FFmpeg to open audio pipe...
2025-07-31 22:25:55,074 - INFO - MainProcess - [FFMPEG]: Received > 3 system signals, hard exiting
2025-07-31 22:25:55,078 - INFO - MainProcess - FFmpeg stderr logger finished.
2025-07-31 22:26:52,011 - INFO - MainProcess - Starting Flask service...
2025-07-31 22:26:52,011 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-31 22:26:52,011 - INFO - MainProcess - Loading configuration file...
2025-07-31 22:26:52,024 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-31 22:26:52,024 - INFO - MainProcess - Loading model components...
2025-07-31 22:27:02,749 - INFO - MainProcess - All components loaded successfully.
2025-07-31 22:27:02,750 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-31 22:27:02,829 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-31 22:27:02,829 - INFO - MainProcess - Preprocessing video file: assets/video/2s_GirlMuseum_0730.mp4...
2025-07-31 22:27:17,130 - INFO - MainProcess - Video preprocessed successfully. Found 50 frames/faces.
2025-07-31 22:27:17,130 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-31 22:27:17,143 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-31 22:27:17,182 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-31 22:27:17,182 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-31 22:27:17,182 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-31 22:27:19,973 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-31 22:27:20,827 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-31 22:27:20,827 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-31 22:27:20,828 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-31 22:27:20,828 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-31 22:27:20,951 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-31 22:27:20,952 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-31 22:27:20,954 - INFO - MainProcess - FFmpeg stderr logger started.
2025-07-31 22:27:20,954 - INFO - MainProcess - Waiting for FFmpeg to open video pipe...
2025-07-31 22:27:20,957 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-31 22:27:20,958 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-31 22:27:20,983 - INFO - MainProcess - Video pipe opened.
2025-07-31 22:27:20,983 - INFO - MainProcess - [FFMPEG]: ffmpeg version 7.1.1 Copyright (c) 2000-2025 the FFmpeg developers
2025-07-31 22:27:20,984 - INFO - MainProcess - [FFMPEG]: built with gcc 14.3.0 (conda-forge gcc 14.3.0-3)
2025-07-31 22:27:20,984 - INFO - MainProcess - [FFMPEG]: configuration: --prefix=/data/home/klai/anaconda3/envs/latentsync10 --cc=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/x86_64-conda-linux-gnu-cc --cxx=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/x86_64-conda-linux-gnu-c++ --nm=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/x86_64-conda-linux-gnu-nm --ar=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/x86_64-conda-linux-gnu-ar --disable-doc --enable-openssl --enable-demuxer=dash --enable-hardcoded-tables --enable-libfreetype --enable-libharfbuzz --enable-libfontconfig --enable-libopenh264 --enable-libdav1d --disable-gnutls --enable-libvpx --enable-libass --enable-pthreads --enable-alsa --enable-libpulse --enable-vaapi --enable-libopenvino --enable-gpl --enable-libx264 --enable-libx265 --enable-libmp3lame --enable-libaom --enable-libsvtav1 --enable-libxml2 --enable-pic --enable-shared --disable-static --enable-version3 --enable-zlib --enable-libvorbis --enable-libopus --enable-librsvg --enable-ffplay --pkg-config=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/pkg-config
2025-07-31 22:27:20,987 - INFO - MainProcess - [FFMPEG]: libavutil      59. 39.100 / 59. 39.100
2025-07-31 22:27:20,987 - INFO - MainProcess - [FFMPEG]: libavcodec     61. 19.101 / 61. 19.101
2025-07-31 22:27:20,987 - INFO - MainProcess - [FFMPEG]: libavformat    61.  7.100 / 61.  7.100
2025-07-31 22:27:20,987 - INFO - MainProcess - [FFMPEG]: libavdevice    61.  3.100 / 61.  3.100
2025-07-31 22:27:20,988 - INFO - MainProcess - [FFMPEG]: libavfilter    10.  4.100 / 10.  4.100
2025-07-31 22:27:20,988 - INFO - MainProcess - [FFMPEG]: libswscale      8.  3.100 /  8.  3.100
2025-07-31 22:27:20,988 - INFO - MainProcess - [FFMPEG]: libswresample   5.  3.100 /  5.  3.100
2025-07-31 22:27:20,988 - INFO - MainProcess - [FFMPEG]: libpostproc    58.  3.100 / 58.  3.100
2025-07-31 22:27:20,992 - INFO - MainProcess - Dummy frame sent to video pipe to prime FFmpeg.
2025-07-31 22:27:20,993 - INFO - MainProcess - Waiting for FFmpeg to open audio pipe...
2025-07-31 22:27:20,993 - INFO - MainProcess - [FFMPEG]: Input #0, rawvideo, from '/tmp/latentsync_video_fifo':
2025-07-31 22:27:20,993 - INFO - MainProcess - [FFMPEG]: Duration: N/A, start: 0.000000, bitrate: 623001 kb/s
2025-07-31 22:27:20,993 - INFO - MainProcess - [FFMPEG]: Stream #0:0: Video: rawvideo (RGB[24] / 0x18424752), rgb24, 832x1248, 623001 kb/s, 25 tbr, 25 tbn
2025-07-31 22:27:20,993 - INFO - MainProcess - Audio pipe opened.
2025-07-31 22:27:20,993 - INFO - MainProcess - Dummy audio chunk sent to audio pipe to prime FFmpeg.
2025-07-31 22:27:20,993 - INFO - MainProcess - ----------------   音、视频管道已全部打开并启动，启动写入器  ----------------
2025-07-31 22:27:20,994 - INFO - MainProcess - Unified media writer thread started. Waiting for data...
2025-07-31 22:37:03,472 - INFO - MainProcess - [FFMPEG]: Received > 3 system signals, hard exiting
2025-07-31 22:37:03,479 - INFO - MainProcess - FFmpeg stderr logger finished.
2025-07-31 22:37:03,491 - ERROR - MainProcess - Pipe write error, FFmpeg has likely terminated: [Errno 32] Broken pipe
2025-07-31 22:37:03,491 - INFO - MainProcess - Unified media writer thread finished.
2025-07-31 22:37:12,849 - INFO - MainProcess - Starting Flask service...
2025-07-31 22:37:12,849 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-31 22:37:12,849 - INFO - MainProcess - Loading configuration file...
2025-07-31 22:37:12,861 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-31 22:37:12,861 - INFO - MainProcess - Loading model components...
2025-07-31 22:37:24,240 - INFO - MainProcess - All components loaded successfully.
2025-07-31 22:37:24,240 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-31 22:37:24,328 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-31 22:37:24,329 - INFO - MainProcess - Preprocessing video file: assets/video/2s_GirlMuseum_0730.mp4...
2025-07-31 22:37:38,514 - INFO - MainProcess - Video preprocessed successfully. Found 50 frames/faces.
2025-07-31 22:37:38,514 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-31 22:37:38,529 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-31 22:37:38,570 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-31 22:37:38,571 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-31 22:37:38,571 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-31 22:37:41,433 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-31 22:37:42,303 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-31 22:37:42,303 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-31 22:37:42,304 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-31 22:37:42,304 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-31 22:37:42,418 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-31 22:37:42,419 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-31 22:37:42,421 - INFO - MainProcess - FFmpeg stderr logger started.
2025-07-31 22:37:42,421 - INFO - MainProcess - Waiting for FFmpeg to open video pipe...
2025-07-31 22:37:42,423 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-31 22:37:42,423 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-31 22:37:42,466 - INFO - MainProcess - [FFMPEG]: ffmpeg version 7.1.1 Copyright (c) 2000-2025 the FFmpeg developers
2025-07-31 22:37:42,466 - INFO - MainProcess - [FFMPEG]: built with gcc 14.3.0 (conda-forge gcc 14.3.0-3)
2025-07-31 22:37:42,466 - INFO - MainProcess - [FFMPEG]: configuration: --prefix=/data/home/klai/anaconda3/envs/latentsync10 --cc=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/x86_64-conda-linux-gnu-cc --cxx=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/x86_64-conda-linux-gnu-c++ --nm=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/x86_64-conda-linux-gnu-nm --ar=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/x86_64-conda-linux-gnu-ar --disable-doc --enable-openssl --enable-demuxer=dash --enable-hardcoded-tables --enable-libfreetype --enable-libharfbuzz --enable-libfontconfig --enable-libopenh264 --enable-libdav1d --disable-gnutls --enable-libvpx --enable-libass --enable-pthreads --enable-alsa --enable-libpulse --enable-vaapi --enable-libopenvino --enable-gpl --enable-libx264 --enable-libx265 --enable-libmp3lame --enable-libaom --enable-libsvtav1 --enable-libxml2 --enable-pic --enable-shared --disable-static --enable-version3 --enable-zlib --enable-libvorbis --enable-libopus --enable-librsvg --enable-ffplay --pkg-config=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/pkg-config
2025-07-31 22:37:42,466 - INFO - MainProcess - [FFMPEG]: libavutil      59. 39.100 / 59. 39.100
2025-07-31 22:37:42,466 - INFO - MainProcess - [FFMPEG]: libavcodec     61. 19.101 / 61. 19.101
2025-07-31 22:37:42,466 - INFO - MainProcess - [FFMPEG]: libavformat    61.  7.100 / 61.  7.100
2025-07-31 22:37:42,466 - INFO - MainProcess - [FFMPEG]: libavdevice    61.  3.100 / 61.  3.100
2025-07-31 22:37:42,466 - INFO - MainProcess - [FFMPEG]: libavfilter    10.  4.100 / 10.  4.100
2025-07-31 22:37:42,466 - INFO - MainProcess - [FFMPEG]: libswscale      8.  3.100 /  8.  3.100
2025-07-31 22:37:42,466 - INFO - MainProcess - [FFMPEG]: libswresample   5.  3.100 /  5.  3.100
2025-07-31 22:37:42,466 - INFO - MainProcess - [FFMPEG]: libpostproc    58.  3.100 / 58.  3.100
2025-07-31 22:37:42,466 - INFO - MainProcess - Video pipe opened.
2025-07-31 22:37:42,475 - INFO - MainProcess - Dummy frame sent to video pipe to prime FFmpeg.
2025-07-31 22:37:42,475 - INFO - MainProcess - Waiting for FFmpeg to open audio pipe...
2025-07-31 22:37:42,475 - INFO - MainProcess - Audio pipe opened.
2025-07-31 22:37:42,475 - INFO - MainProcess - Dummy audio chunk sent to audio pipe to prime FFmpeg.
2025-07-31 22:37:42,475 - INFO - MainProcess - ----------------   音、视频管道已全部打开并启动，启动写入器  ----------------
2025-07-31 22:37:42,475 - INFO - MainProcess - [FFMPEG]: Input #0, rawvideo, from '/tmp/latentsync_video_fifo':
2025-07-31 22:37:42,475 - INFO - MainProcess - [FFMPEG]: Duration: N/A, start: 0.000000, bitrate: 623001 kb/s
2025-07-31 22:37:42,475 - INFO - MainProcess - [FFMPEG]: Stream #0:0: Video: rawvideo (RGB[24] / 0x18424752), rgb24, 832x1248, 623001 kb/s, 25 tbr, 25 tbn
2025-07-31 22:37:42,475 - INFO - MainProcess - Unified media writer thread started. Waiting for data...
2025-07-31 22:37:42,476 - INFO - MainProcess - Loaded idle content: dict_keys(['video', 'audio'])
2025-07-31 22:42:51,106 - INFO - MainProcess - Starting Flask service...
2025-07-31 22:42:51,106 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-31 22:42:51,106 - INFO - MainProcess - Loading configuration file...
2025-07-31 22:42:51,119 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-31 22:42:51,119 - INFO - MainProcess - Loading model components...
2025-07-31 22:43:01,750 - INFO - MainProcess - All components loaded successfully.
2025-07-31 22:43:01,750 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-31 22:43:01,840 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-31 22:43:01,840 - INFO - MainProcess - Preprocessing video file: assets/video/2s_GirlMuseum_0730.mp4...
2025-07-31 22:43:16,233 - INFO - MainProcess - Video preprocessed successfully. Found 50 frames/faces.
2025-07-31 22:43:16,233 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-31 22:43:16,245 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-31 22:43:16,284 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-31 22:43:16,285 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-31 22:43:16,285 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-31 22:43:19,006 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-31 22:43:19,850 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-31 22:43:19,851 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-31 22:43:19,853 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-31 22:43:19,853 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-31 22:43:19,861 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-31 22:43:19,861 - INFO - MainProcess - FFmpeg stderr logger started.
2025-07-31 22:43:19,862 - INFO - MainProcess - Waiting for FFmpeg to open video pipe...
2025-07-31 22:43:19,998 - INFO - MainProcess - [FFMPEG]: ffmpeg version 7.1.1 Copyright (c) 2000-2025 the FFmpeg developers
2025-07-31 22:43:19,998 - INFO - MainProcess - [FFMPEG]: built with gcc 14.3.0 (conda-forge gcc 14.3.0-3)
2025-07-31 22:43:19,998 - INFO - MainProcess - [FFMPEG]: configuration: --prefix=/data/home/klai/anaconda3/envs/latentsync10 --cc=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/x86_64-conda-linux-gnu-cc --cxx=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/x86_64-conda-linux-gnu-c++ --nm=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/x86_64-conda-linux-gnu-nm --ar=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/x86_64-conda-linux-gnu-ar --disable-doc --enable-openssl --enable-demuxer=dash --enable-hardcoded-tables --enable-libfreetype --enable-libharfbuzz --enable-libfontconfig --enable-libopenh264 --enable-libdav1d --disable-gnutls --enable-libvpx --enable-libass --enable-pthreads --enable-alsa --enable-libpulse --enable-vaapi --enable-libopenvino --enable-gpl --enable-libx264 --enable-libx265 --enable-libmp3lame --enable-libaom --enable-libsvtav1 --enable-libxml2 --enable-pic --enable-shared --disable-static --enable-version3 --enable-zlib --enable-libvorbis --enable-libopus --enable-librsvg --enable-ffplay --pkg-config=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/pkg-config
2025-07-31 22:43:19,999 - INFO - MainProcess - [FFMPEG]: libavutil      59. 39.100 / 59. 39.100
2025-07-31 22:43:19,999 - INFO - MainProcess - [FFMPEG]: libavcodec     61. 19.101 / 61. 19.101
2025-07-31 22:43:19,999 - INFO - MainProcess - [FFMPEG]: libavformat    61.  7.100 / 61.  7.100
2025-07-31 22:43:19,999 - INFO - MainProcess - Video pipe opened.
2025-07-31 22:43:20,003 - INFO - MainProcess - [FFMPEG]: libavdevice    61.  3.100 / 61.  3.100
2025-07-31 22:43:20,003 - INFO - MainProcess - [FFMPEG]: libavfilter    10.  4.100 / 10.  4.100
2025-07-31 22:43:20,003 - INFO - MainProcess - [FFMPEG]: libswscale      8.  3.100 /  8.  3.100
2025-07-31 22:43:20,003 - INFO - MainProcess - [FFMPEG]: libswresample   5.  3.100 /  5.  3.100
2025-07-31 22:43:20,003 - INFO - MainProcess - [FFMPEG]: libpostproc    58.  3.100 / 58.  3.100
2025-07-31 22:43:20,003 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-31 22:43:20,016 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-31 22:43:20,016 - INFO - MainProcess - [FFMPEG]: Input #0, rawvideo, from '/tmp/latentsync_video_fifo':
2025-07-31 22:43:20,016 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-31 22:43:20,016 - INFO - MainProcess - [FFMPEG]: Duration: N/A, start: 0.000000, bitrate: 623001 kb/s
2025-07-31 22:43:20,016 - INFO - MainProcess - [FFMPEG]: Stream #0:0: Video: rawvideo (RGB[24] / 0x18424752), rgb24, 832x1248, 623001 kb/s, 25 tbr, 25 tbn
2025-07-31 22:43:20,018 - INFO - MainProcess - Dummy frame sent to video pipe to prime FFmpeg.
2025-07-31 22:43:20,018 - INFO - MainProcess - Waiting for FFmpeg to open audio pipe...
2025-07-31 22:43:20,018 - INFO - MainProcess - Audio pipe opened.
2025-07-31 22:43:20,018 - INFO - MainProcess - Dummy audio chunk sent to audio pipe to prime FFmpeg.
2025-07-31 22:43:20,019 - INFO - MainProcess - ----------------   音、视频管道已全部打开并启动，启动写入器  ----------------
2025-07-31 22:43:20,019 - INFO - MainProcess - Unified media writer thread started. Waiting for data...
2025-07-31 22:43:20,019 - INFO - MainProcess - Starting main distributor loop...
2025-07-31 22:43:20,022 - INFO - MainProcess - Distributing chunk from [IDLE] queue.
2025-07-31 22:43:20,022 - INFO - MainProcess - Distributing chunk from [IDLE] queue.
2025-07-31 22:43:20,032 - INFO - MainProcess - Distributing chunk from [IDLE] queue.
2025-07-31 22:43:20,032 - INFO - MainProcess - Distributing chunk from [IDLE] queue.
2025-07-31 22:43:20,032 - INFO - MainProcess - Distributing chunk from [IDLE] queue.
2025-07-31 22:43:20,032 - INFO - MainProcess - Distributing chunk from [IDLE] queue.
2025-07-31 22:43:20,032 - INFO - MainProcess - Distributing chunk from [IDLE] queue.
2025-07-31 22:43:20,032 - INFO - MainProcess - Distributing chunk from [IDLE] queue.
2025-07-31 22:43:20,032 - INFO - MainProcess - Distributing chunk from [IDLE] queue.
2025-07-31 22:43:20,032 - INFO - MainProcess - Distributing chunk from [IDLE] queue.
2025-07-31 22:43:20,032 - INFO - MainProcess - Distributing chunk from [IDLE] queue.
2025-07-31 22:43:20,033 - INFO - MainProcess - Distributing chunk from [IDLE] queue.
2025-07-31 22:48:56,094 - INFO - MainProcess - [FFMPEG]: Received > 3 system signals, hard exiting
2025-07-31 22:48:56,101 - INFO - MainProcess - FFmpeg stderr logger finished.
2025-07-31 22:48:56,112 - ERROR - MainProcess - Pipe write error, FFmpeg has likely terminated: [Errno 32] Broken pipe
2025-07-31 22:48:56,113 - INFO - MainProcess - Unified media writer thread finished.
2025-07-31 22:49:09,624 - INFO - MainProcess - Starting Flask service...
2025-07-31 22:49:09,624 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-31 22:49:09,624 - INFO - MainProcess - Loading configuration file...
2025-07-31 22:49:09,638 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-31 22:49:09,639 - INFO - MainProcess - Loading model components...
2025-07-31 22:49:19,769 - INFO - MainProcess - All components loaded successfully.
2025-07-31 22:49:19,769 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-31 22:49:19,849 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-31 22:49:19,849 - INFO - MainProcess - Preprocessing video file: assets/video/2s_GirlMuseum_0730.mp4...
2025-07-31 22:49:34,154 - INFO - MainProcess - Video preprocessed successfully. Found 50 frames/faces.
2025-07-31 22:49:34,154 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-31 22:49:34,168 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-31 22:49:34,227 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-31 22:49:34,228 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-31 22:49:34,228 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-31 22:49:37,268 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-31 22:49:38,127 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-31 22:49:38,127 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-31 22:49:38,128 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-31 22:49:38,128 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-31 22:49:38,324 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-31 22:49:38,324 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-31 22:49:38,332 - INFO - MainProcess - FFmpeg stderr logger started.
2025-07-31 22:49:38,332 - INFO - MainProcess - Waiting for FFmpeg to open video pipe...
2025-07-31 22:49:38,341 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-31 22:49:38,341 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-31 22:49:38,358 - INFO - MainProcess - [FFMPEG]: ffmpeg version 7.1.1 Copyright (c) 2000-2025 the FFmpeg developers
2025-07-31 22:49:38,358 - INFO - MainProcess - [FFMPEG]: built with gcc 14.3.0 (conda-forge gcc 14.3.0-3)
2025-07-31 22:49:38,358 - INFO - MainProcess - [FFMPEG]: configuration: --prefix=/data/home/klai/anaconda3/envs/latentsync10 --cc=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/x86_64-conda-linux-gnu-cc --cxx=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/x86_64-conda-linux-gnu-c++ --nm=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/x86_64-conda-linux-gnu-nm --ar=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/x86_64-conda-linux-gnu-ar --disable-doc --enable-openssl --enable-demuxer=dash --enable-hardcoded-tables --enable-libfreetype --enable-libharfbuzz --enable-libfontconfig --enable-libopenh264 --enable-libdav1d --disable-gnutls --enable-libvpx --enable-libass --enable-pthreads --enable-alsa --enable-libpulse --enable-vaapi --enable-libopenvino --enable-gpl --enable-libx264 --enable-libx265 --enable-libmp3lame --enable-libaom --enable-libsvtav1 --enable-libxml2 --enable-pic --enable-shared --disable-static --enable-version3 --enable-zlib --enable-libvorbis --enable-libopus --enable-librsvg --enable-ffplay --pkg-config=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/pkg-config
2025-07-31 22:49:38,358 - INFO - MainProcess - [FFMPEG]: libavutil      59. 39.100 / 59. 39.100
2025-07-31 22:49:38,358 - INFO - MainProcess - Dummy audio chunk sent to audio pipe to prime FFmpeg.
2025-07-31 22:49:38,358 - INFO - MainProcess - [FFMPEG]: libavcodec     61. 19.101 / 61. 19.101
2025-07-31 22:49:38,359 - INFO - MainProcess - ----------------   音、视频管道已全部打开并启动，启动写入器  ----------------
2025-07-31 22:49:38,359 - INFO - MainProcess - [FFMPEG]: libavformat    61.  7.100 / 61.  7.100
2025-07-31 22:49:38,359 - INFO - MainProcess - Unified media writer thread started. Waiting for data...
2025-07-31 22:49:38,359 - INFO - MainProcess - Starting main distributor loop...
2025-07-31 22:49:38,360 - INFO - MainProcess - [FFMPEG]: libavdevice    61.  3.100 / 61.  3.100
2025-07-31 22:49:38,360 - INFO - MainProcess - Distributing chunk from [IDLE] queue.
2025-07-31 22:49:38,360 - INFO - MainProcess - [FFMPEG]: libavfilter    10.  4.100 / 10.  4.100
2025-07-31 22:49:38,366 - INFO - MainProcess - [FFMPEG]: libswscale      8.  3.100 /  8.  3.100
2025-07-31 22:49:38,378 - INFO - MainProcess - [FFMPEG]: libswresample   5.  3.100 /  5.  3.100
2025-07-31 22:49:38,394 - INFO - MainProcess - [FFMPEG]: libpostproc    58.  3.100 / 58.  3.100
2025-07-31 22:49:38,406 - INFO - MainProcess - Distributing chunk from [IDLE] queue.
2025-07-31 22:49:38,446 - INFO - MainProcess - Distributing chunk from [IDLE] queue.
2025-07-31 22:49:38,486 - INFO - MainProcess - Distributing chunk from [IDLE] queue.
2025-07-31 22:49:38,526 - INFO - MainProcess - Distributing chunk from [IDLE] queue.
2025-07-31 22:49:38,528 - INFO - MainProcess - [FFMPEG]: Input #0, rawvideo, from '/tmp/latentsync_video_fifo':
2025-07-31 22:49:38,528 - INFO - MainProcess - [FFMPEG]: Duration: N/A, start: 0.000000, bitrate: 623001 kb/s
2025-07-31 22:49:38,528 - INFO - MainProcess - [FFMPEG]: Stream #0:0: Video: rawvideo (RGB[24] / 0x18424752), rgb24, 832x1248, 623001 kb/s, 25 tbr, 25 tbn
2025-07-31 22:49:38,567 - INFO - MainProcess - Distributing chunk from [IDLE] queue.
2025-07-31 22:49:38,607 - INFO - MainProcess - Distributing chunk from [IDLE] queue.
2025-07-31 22:49:38,647 - INFO - MainProcess - Distributing chunk from [IDLE] queue.
2025-07-31 22:49:38,687 - INFO - MainProcess - Distributing chunk from [IDLE] queue.
2025-07-31 22:49:38,727 - INFO - MainProcess - Distributing chunk from [IDLE] queue.
2025-07-31 22:49:38,767 - INFO - MainProcess - Distributing chunk from [IDLE] queue.
2025-07-31 22:49:38,807 - INFO - MainProcess - Distributing chunk from [IDLE] queue.
2025-07-31 22:58:58,123 - INFO - MainProcess - [FFMPEG]: Received > 3 system signals, hard exiting
2025-07-31 22:58:58,127 - INFO - MainProcess - FFmpeg stderr logger finished.
2025-07-31 22:58:58,138 - ERROR - MainProcess - Pipe write error, FFmpeg has likely terminated: [Errno 32] Broken pipe
2025-07-31 22:58:58,138 - INFO - MainProcess - Unified media writer thread finished.
2025-07-31 22:59:04,789 - INFO - MainProcess - Starting Flask service...
2025-07-31 22:59:04,789 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-31 22:59:04,789 - INFO - MainProcess - Loading configuration file...
2025-07-31 22:59:04,801 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-31 22:59:04,802 - INFO - MainProcess - Loading model components...
2025-07-31 22:59:15,805 - INFO - MainProcess - All components loaded successfully.
2025-07-31 22:59:15,805 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-31 22:59:15,884 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-31 22:59:15,885 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-31 22:59:38,579 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-31 22:59:38,579 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-31 22:59:38,593 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-31 22:59:38,651 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-31 22:59:38,653 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-31 22:59:38,653 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-31 22:59:41,530 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-31 22:59:42,399 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-31 22:59:42,399 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-31 22:59:42,399 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-31 22:59:42,400 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-31 22:59:42,523 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-31 22:59:42,524 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-31 22:59:42,531 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-31 22:59:42,531 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-31 22:59:42,556 - INFO - MainProcess - Video pipe opened for writing.
2025-07-31 22:59:42,562 - INFO - MainProcess - Audio pipe opened for writing.
2025-07-31 23:27:34,778 - ERROR - MainProcess - Audio pipe write error: [Errno 32] Broken pipe
2025-07-31 23:27:34,778 - ERROR - MainProcess - Video pipe write error: [Errno 32] Broken pipe
2025-07-31 23:27:34,779 - INFO - MainProcess - Audio writer thread finished.
2025-07-31 23:27:34,779 - INFO - MainProcess - Video writer thread finished.
2025-07-31 23:29:50,804 - INFO - MainProcess - Starting Flask service...
2025-07-31 23:29:50,804 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-31 23:29:50,804 - INFO - MainProcess - Loading configuration file...
2025-07-31 23:29:50,817 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-31 23:29:50,817 - INFO - MainProcess - Loading model components...
2025-07-31 23:30:04,604 - INFO - MainProcess - All components loaded successfully.
2025-07-31 23:30:04,605 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-31 23:30:04,683 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-31 23:30:04,683 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-31 23:30:27,198 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-31 23:30:27,199 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-31 23:30:27,211 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-31 23:30:27,254 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-31 23:30:27,255 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-31 23:30:27,255 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-31 23:30:30,113 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-31 23:30:30,947 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-31 23:30:30,947 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-31 23:30:30,948 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-31 23:30:30,948 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-31 23:30:31,057 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-31 23:30:31,058 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-31 23:30:31,065 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-31 23:30:31,065 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-31 23:31:37,255 - INFO - MainProcess - Starting Flask service...
2025-07-31 23:31:37,255 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-31 23:31:37,255 - INFO - MainProcess - Loading configuration file...
2025-07-31 23:31:37,267 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-31 23:31:37,267 - INFO - MainProcess - Loading model components...
2025-07-31 23:31:51,963 - INFO - MainProcess - All components loaded successfully.
2025-07-31 23:31:51,964 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-31 23:31:52,049 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-31 23:31:52,049 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-31 23:32:14,921 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-31 23:32:14,921 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-31 23:32:14,936 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-31 23:32:14,982 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-31 23:32:14,982 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-31 23:32:14,983 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-31 23:32:17,748 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-31 23:32:18,611 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-31 23:32:18,611 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-31 23:32:18,612 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-31 23:32:18,612 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-31 23:32:18,718 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-31 23:32:18,718 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-31 23:32:18,720 - INFO - MainProcess - ---------- 准备加载 _media_writer_loop  ----------
2025-07-31 23:32:18,721 - INFO - MainProcess - Streaming controller main loop is shutting down.
2025-07-31 23:32:18,722 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-31 23:32:18,722 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-07-31 23:36:14,994 - INFO - MainProcess - Starting Flask service...
2025-07-31 23:36:14,995 - INFO - MainProcess - Loading models and creating worker pool...
2025-07-31 23:36:14,995 - INFO - MainProcess - Loading configuration file...
2025-07-31 23:36:15,007 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-07-31 23:36:15,007 - INFO - MainProcess - Loading model components...
2025-07-31 23:36:26,379 - INFO - MainProcess - All components loaded successfully.
2025-07-31 23:36:26,379 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-07-31 23:36:26,465 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-07-31 23:36:26,465 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-07-31 23:36:49,531 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-07-31 23:36:49,531 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-07-31 23:36:49,544 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-07-31 23:36:49,593 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-07-31 23:36:49,593 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-07-31 23:36:49,593 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-07-31 23:36:52,387 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-07-31 23:36:53,256 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-07-31 23:36:53,256 - INFO - MainProcess - Starting the Streaming Controller...
2025-07-31 23:36:53,257 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-07-31 23:36:53,257 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-07-31 23:36:53,364 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-07-31 23:36:53,364 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-07-31 23:36:53,367 - INFO - MainProcess - ---------- 准备加载 _media_writer_loop  ----------
2025-07-31 23:36:53,368 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-07-31 23:36:53,368 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-08-01 00:25:03,170 - INFO - MainProcess - Starting Flask service...
2025-08-01 00:25:03,170 - INFO - MainProcess - Loading models and creating worker pool...
2025-08-01 00:25:03,170 - INFO - MainProcess - Loading configuration file...
2025-08-01 00:25:03,182 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-08-01 00:25:03,183 - INFO - MainProcess - Loading model components...
2025-08-01 00:25:13,905 - INFO - MainProcess - All components loaded successfully.
2025-08-01 00:25:13,906 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-08-01 00:25:14,000 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-08-01 00:25:14,000 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-08-01 00:25:36,635 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-08-01 00:25:36,635 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-08-01 00:25:36,651 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-08-01 00:25:36,691 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-08-01 00:25:36,692 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-08-01 00:25:36,692 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-08-01 00:25:39,736 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-08-01 00:25:40,699 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-08-01 00:25:40,699 - INFO - MainProcess - Starting the Streaming Controller...
2025-08-01 00:25:40,700 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-08-01 00:25:40,700 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-08-01 00:25:40,827 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-08-01 00:25:40,827 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-08-01 00:25:40,829 - INFO - MainProcess - ---------- 准备加载 _media_writer_loop  ----------
2025-08-01 00:25:40,832 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-08-01 00:25:40,832 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-08-01 00:25:40,856 - INFO - MainProcess - ----------------   视频管道已打开  ----------------
2025-08-01 00:59:12,021 - INFO - MainProcess - Starting Flask service...
2025-08-01 00:59:12,021 - INFO - MainProcess - Loading models and creating worker pool...
2025-08-01 00:59:12,021 - INFO - MainProcess - Loading configuration file...
2025-08-01 00:59:12,033 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-08-01 00:59:12,033 - INFO - MainProcess - Loading model components...
2025-08-01 00:59:22,501 - INFO - MainProcess - All components loaded successfully.
2025-08-01 00:59:22,502 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-08-01 00:59:22,581 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-08-01 00:59:22,581 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-08-01 00:59:45,163 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-08-01 00:59:45,163 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-08-01 00:59:45,177 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-08-01 00:59:45,226 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-08-01 00:59:45,227 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-08-01 00:59:45,227 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-08-01 00:59:48,170 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-08-01 00:59:49,069 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-08-01 00:59:49,069 - INFO - MainProcess - Starting the Streaming Controller...
2025-08-01 00:59:49,070 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-08-01 00:59:49,070 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-08-01 00:59:49,218 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-08-01 00:59:49,226 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-08-01 00:59:49,230 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-08-01 00:59:49,230 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-08-01 00:59:49,727 - INFO - MainProcess - ---------- 准备加载 _media_writer_loop  ----------
2025-08-01 01:02:49,742 - INFO - MainProcess - Starting Flask service...
2025-08-01 01:02:49,743 - INFO - MainProcess - Loading models and creating worker pool...
2025-08-01 01:02:49,743 - INFO - MainProcess - Loading configuration file...
2025-08-01 01:02:49,755 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-08-01 01:02:49,755 - INFO - MainProcess - Loading model components...
2025-08-01 01:02:59,666 - INFO - MainProcess - All components loaded successfully.
2025-08-01 01:02:59,667 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-08-01 01:02:59,746 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-08-01 01:02:59,746 - INFO - MainProcess - Preprocessing video file: assets/video/2s_GirlMuseum_0730.mp4...
2025-08-01 01:03:13,996 - INFO - MainProcess - Video preprocessed successfully. Found 50 frames/faces.
2025-08-01 01:03:13,996 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-08-01 01:03:14,010 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-08-01 01:03:14,057 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-08-01 01:03:14,058 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-08-01 01:03:14,058 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-08-01 01:03:16,819 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-08-01 01:03:17,674 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-08-01 01:03:17,676 - INFO - MainProcess - Starting the Streaming Controller...
2025-08-01 01:03:17,677 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-08-01 01:03:17,678 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-08-01 01:03:17,681 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-08-01 01:03:17,789 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-08-01 01:03:17,790 - INFO - MainProcess - FFmpeg stderr logger started.
2025-08-01 01:03:17,791 - INFO - MainProcess - [FFMPEG]: ffmpeg version 7.1.1 Copyright (c) 2000-2025 the FFmpeg developers
2025-08-01 01:03:17,792 - INFO - MainProcess - [FFMPEG]: built with gcc 14.3.0 (conda-forge gcc 14.3.0-3)
2025-08-01 01:03:17,792 - INFO - MainProcess - [FFMPEG]: configuration: --prefix=/data/home/klai/anaconda3/envs/latentsync10 --cc=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/x86_64-conda-linux-gnu-cc --cxx=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/x86_64-conda-linux-gnu-c++ --nm=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/x86_64-conda-linux-gnu-nm --ar=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/x86_64-conda-linux-gnu-ar --disable-doc --enable-openssl --enable-demuxer=dash --enable-hardcoded-tables --enable-libfreetype --enable-libharfbuzz --enable-libfontconfig --enable-libopenh264 --enable-libdav1d --disable-gnutls --enable-libvpx --enable-libass --enable-pthreads --enable-alsa --enable-libpulse --enable-vaapi --enable-libopenvino --enable-gpl --enable-libx264 --enable-libx265 --enable-libmp3lame --enable-libaom --enable-libsvtav1 --enable-libxml2 --enable-pic --enable-shared --disable-static --enable-version3 --enable-zlib --enable-libvorbis --enable-libopus --enable-librsvg --enable-ffplay --pkg-config=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/pkg-config
2025-08-01 01:03:17,792 - INFO - MainProcess - [FFMPEG]: libavutil      59. 39.100 / 59. 39.100
2025-08-01 01:03:17,792 - INFO - MainProcess - [FFMPEG]: libavcodec     61. 19.101 / 61. 19.101
2025-08-01 01:03:17,792 - INFO - MainProcess - [FFMPEG]: libavformat    61.  7.100 / 61.  7.100
2025-08-01 01:03:17,792 - INFO - MainProcess - [FFMPEG]: libavdevice    61.  3.100 / 61.  3.100
2025-08-01 01:03:17,792 - INFO - MainProcess - [FFMPEG]: libavfilter    10.  4.100 / 10.  4.100
2025-08-01 01:03:17,792 - INFO - MainProcess - [FFMPEG]: libswscale      8.  3.100 /  8.  3.100
2025-08-01 01:03:17,792 - INFO - MainProcess - [FFMPEG]: libswresample   5.  3.100 /  5.  3.100
2025-08-01 01:03:17,792 - INFO - MainProcess - [FFMPEG]: libpostproc    58.  3.100 / 58.  3.100
2025-08-01 01:03:17,803 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-08-01 01:03:17,804 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-08-01 01:03:18,291 - INFO - MainProcess - ---------- 准备加载 _media_writer_loop  ----------
2025-08-01 01:17:39,228 - INFO - MainProcess - [FFMPEG]: Received > 3 system signals, hard exiting
2025-08-01 01:17:39,234 - INFO - MainProcess - FFmpeg stderr logger finished.
2025-08-01 01:17:46,301 - INFO - MainProcess - Starting Flask service...
2025-08-01 01:17:46,301 - INFO - MainProcess - Loading models and creating worker pool...
2025-08-01 01:17:46,301 - INFO - MainProcess - Loading configuration file...
2025-08-01 01:17:46,313 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-08-01 01:17:46,314 - INFO - MainProcess - Loading model components...
2025-08-01 01:17:56,904 - INFO - MainProcess - All components loaded successfully.
2025-08-01 01:17:56,905 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-08-01 01:17:56,989 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-08-01 01:17:56,989 - INFO - MainProcess - Preprocessing video file: assets/video/2s_GirlMuseum_0730.mp4...
2025-08-01 01:18:11,205 - INFO - MainProcess - Video preprocessed successfully. Found 50 frames/faces.
2025-08-01 01:18:11,206 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-08-01 01:18:11,218 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-08-01 01:18:11,265 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-08-01 01:18:11,266 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-08-01 01:18:11,266 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-08-01 01:18:14,144 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-08-01 01:18:15,039 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-08-01 01:18:15,040 - INFO - MainProcess - Starting the Streaming Controller...
2025-08-01 01:18:15,040 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-08-01 01:18:15,040 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-08-01 01:18:15,161 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-08-01 01:18:15,165 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-08-01 01:18:15,165 - INFO - MainProcess - FFmpeg stderr logger started.
2025-08-01 01:18:15,176 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-08-01 01:18:15,176 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-08-01 01:18:15,197 - INFO - MainProcess - [FFMPEG]: ffmpeg version 7.1.1 Copyright (c) 2000-2025 the FFmpeg developers
2025-08-01 01:18:15,197 - INFO - MainProcess - [FFMPEG]: built with gcc 14.3.0 (conda-forge gcc 14.3.0-3)
2025-08-01 01:18:15,197 - INFO - MainProcess - [FFMPEG]: configuration: --prefix=/data/home/klai/anaconda3/envs/latentsync10 --cc=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/x86_64-conda-linux-gnu-cc --cxx=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/x86_64-conda-linux-gnu-c++ --nm=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/x86_64-conda-linux-gnu-nm --ar=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/x86_64-conda-linux-gnu-ar --disable-doc --enable-openssl --enable-demuxer=dash --enable-hardcoded-tables --enable-libfreetype --enable-libharfbuzz --enable-libfontconfig --enable-libopenh264 --enable-libdav1d --disable-gnutls --enable-libvpx --enable-libass --enable-pthreads --enable-alsa --enable-libpulse --enable-vaapi --enable-libopenvino --enable-gpl --enable-libx264 --enable-libx265 --enable-libmp3lame --enable-libaom --enable-libsvtav1 --enable-libxml2 --enable-pic --enable-shared --disable-static --enable-version3 --enable-zlib --enable-libvorbis --enable-libopus --enable-librsvg --enable-ffplay --pkg-config=/home/conda/feedstock_root/build_artifacts/ffmpeg_1753272195828/_build_env/bin/pkg-config
2025-08-01 01:18:15,197 - INFO - MainProcess - [FFMPEG]: libavutil      59. 39.100 / 59. 39.100
2025-08-01 01:18:15,198 - INFO - MainProcess - [FFMPEG]: libavcodec     61. 19.101 / 61. 19.101
2025-08-01 01:18:15,198 - INFO - MainProcess - [FFMPEG]: libavformat    61.  7.100 / 61.  7.100
2025-08-01 01:18:15,198 - INFO - MainProcess - [FFMPEG]: libavdevice    61.  3.100 / 61.  3.100
2025-08-01 01:18:15,198 - INFO - MainProcess - [FFMPEG]: libavfilter    10.  4.100 / 10.  4.100
2025-08-01 01:18:15,198 - INFO - MainProcess - [FFMPEG]: libswscale      8.  3.100 /  8.  3.100
2025-08-01 01:18:15,198 - INFO - MainProcess - [FFMPEG]: libswresample   5.  3.100 /  5.  3.100
2025-08-01 01:18:15,198 - INFO - MainProcess - [FFMPEG]: libpostproc    58.  3.100 / 58.  3.100
2025-08-01 01:18:15,667 - INFO - MainProcess - ---------- 准备加载 _media_writer_loop  ----------
2025-08-01 11:52:24,191 - INFO - MainProcess - Starting Flask service...
2025-08-01 11:52:24,191 - INFO - MainProcess - Loading models and creating worker pool...
2025-08-01 11:52:24,191 - INFO - MainProcess - Loading configuration file...
2025-08-01 11:52:24,203 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-08-01 11:52:24,203 - INFO - MainProcess - Loading model components...
2025-08-01 11:52:35,686 - INFO - MainProcess - All components loaded successfully.
2025-08-01 11:52:35,686 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-08-01 11:52:35,784 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-08-01 11:52:35,784 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-08-01 11:52:58,806 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-08-01 11:52:58,806 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-08-01 11:52:58,819 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-08-01 11:52:58,872 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-08-01 11:52:58,873 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-08-01 11:52:58,873 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-08-01 11:53:01,657 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-08-01 11:53:02,502 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-08-01 11:53:02,502 - INFO - MainProcess - Starting the Streaming Controller...
2025-08-01 11:53:02,504 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-08-01 11:53:02,504 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-08-01 11:53:02,644 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-08-01 11:53:02,648 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-08-01 11:53:02,657 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-08-01 11:53:02,658 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-08-01 11:53:02,672 - INFO - MainProcess - Media dispatcher thread started.
2025-08-01 11:53:02,710 - INFO - MainProcess - Video pipe opened for writing.
2025-08-01 11:53:02,715 - INFO - MainProcess - Audio pipe opened for writing.
2025-08-01 12:16:06,275 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-08-01 12:16:06,475 - INFO - MainProcess - [Task-e2cb3e59-2b5f-493f-aa0f-036db4960aa2] Started processing. Expecting 4 chunks.
2025-08-01 12:16:06,475 - INFO - MainProcess - Task e2cb3e59-2b5f-493f-aa0f-036db4960aa2 has been started in the background.
2025-08-01 12:16:06,476 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 12:16:06] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 12:16:13,408 - INFO - MainProcess - [Task-e2cb3e59-2b5f-493f-aa0f-036db4960aa2] Chunk 0 sent to stream queue.
2025-08-01 12:16:13,695 - INFO - MainProcess - [Task-e2cb3e59-2b5f-493f-aa0f-036db4960aa2] Chunk 1 sent to stream queue.
2025-08-01 12:16:13,935 - INFO - MainProcess - >>>>>> Event: Switching from IDLE to FORMAL stream. <<<<<<
2025-08-01 12:16:13,935 - INFO - MainProcess - Clearing media buffer queue (size: 10)...
2025-08-01 12:16:13,936 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 12:16:13,938 - INFO - MainProcess - >>>>>> Event: Formal stream finished. Switching back to IDLE. <<<<<<
2025-08-01 12:16:14,155 - INFO - MainProcess - [Task-e2cb3e59-2b5f-493f-aa0f-036db4960aa2] Chunk 2 sent to stream queue.
2025-08-01 12:16:14,155 - INFO - MainProcess - [Task-e2cb3e59-2b5f-493f-aa0f-036db4960aa2] Chunk 3 sent to stream queue.
2025-08-01 12:16:14,156 - INFO - MainProcess - [Task-e2cb3e59-2b5f-493f-aa0f-036db4960aa2] All chunks processed and queued successfully.
2025-08-01 12:16:14,156 - INFO - MainProcess - [Task-e2cb3e59-2b5f-493f-aa0f-036db4960aa2] Processor thread finished and cleaned up.
2025-08-01 12:16:14,934 - INFO - MainProcess - >>>>>> Event: Switching from IDLE to FORMAL stream. <<<<<<
2025-08-01 12:16:14,934 - INFO - MainProcess - Clearing media buffer queue (size: 10)...
2025-08-01 12:16:14,947 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 12:16:14,948 - INFO - MainProcess - >>>>>> Event: Formal stream finished. Switching back to IDLE. <<<<<<
2025-08-01 12:16:30,821 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-08-01 12:16:30,932 - INFO - MainProcess - [Task-07843f12-9107-4703-a8ab-0bf51cf91ee1] Started processing. Expecting 4 chunks.
2025-08-01 12:16:30,932 - INFO - MainProcess - Task 07843f12-9107-4703-a8ab-0bf51cf91ee1 has been started in the background.
2025-08-01 12:16:30,933 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 12:16:30] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 12:16:37,849 - INFO - MainProcess - [Task-07843f12-9107-4703-a8ab-0bf51cf91ee1] Chunk 0 sent to stream queue.
2025-08-01 12:16:37,935 - INFO - MainProcess - >>>>>> Event: Switching from IDLE to FORMAL stream. <<<<<<
2025-08-01 12:16:37,936 - INFO - MainProcess - Clearing media buffer queue (size: 10)...
2025-08-01 12:16:37,937 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 12:16:37,938 - INFO - MainProcess - >>>>>> Event: Formal stream finished. Switching back to IDLE. <<<<<<
2025-08-01 12:16:38,104 - INFO - MainProcess - [Task-07843f12-9107-4703-a8ab-0bf51cf91ee1] Chunk 1 sent to stream queue.
2025-08-01 12:16:38,455 - INFO - MainProcess - [Task-07843f12-9107-4703-a8ab-0bf51cf91ee1] Chunk 2 sent to stream queue.
2025-08-01 12:16:38,678 - INFO - MainProcess - [Task-07843f12-9107-4703-a8ab-0bf51cf91ee1] Chunk 3 sent to stream queue.
2025-08-01 12:16:38,678 - INFO - MainProcess - [Task-07843f12-9107-4703-a8ab-0bf51cf91ee1] All chunks processed and queued successfully.
2025-08-01 12:16:38,678 - INFO - MainProcess - [Task-07843f12-9107-4703-a8ab-0bf51cf91ee1] Processor thread finished and cleaned up.
2025-08-01 12:16:38,935 - INFO - MainProcess - >>>>>> Event: Switching from IDLE to FORMAL stream. <<<<<<
2025-08-01 12:16:38,935 - INFO - MainProcess - Clearing media buffer queue (size: 10)...
2025-08-01 12:16:38,936 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 12:16:38,936 - INFO - MainProcess - >>>>>> Event: Formal stream finished. Switching back to IDLE. <<<<<<
2025-08-01 12:17:29,866 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-08-01 12:17:29,967 - INFO - MainProcess - [Task-ce7f9699-79a1-4a53-a98b-c80ff061cb6f] Started processing. Expecting 4 chunks.
2025-08-01 12:17:29,967 - INFO - MainProcess - Task ce7f9699-79a1-4a53-a98b-c80ff061cb6f has been started in the background.
2025-08-01 12:17:29,968 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 12:17:29] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 12:17:34,410 - INFO - MainProcess - [Task-ce7f9699-79a1-4a53-a98b-c80ff061cb6f] Chunk 0 sent to stream queue.
2025-08-01 12:17:34,672 - INFO - MainProcess - [Task-ce7f9699-79a1-4a53-a98b-c80ff061cb6f] Chunk 1 sent to stream queue.
2025-08-01 12:17:34,886 - INFO - MainProcess - [Task-ce7f9699-79a1-4a53-a98b-c80ff061cb6f] Chunk 2 sent to stream queue.
2025-08-01 12:17:34,932 - INFO - MainProcess - >>>>>> Event: Switching from IDLE to FORMAL stream. <<<<<<
2025-08-01 12:17:34,933 - INFO - MainProcess - Clearing media buffer queue (size: 10)...
2025-08-01 12:17:34,933 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 12:17:34,935 - INFO - MainProcess - >>>>>> Event: Formal stream finished. Switching back to IDLE. <<<<<<
2025-08-01 12:17:35,129 - INFO - MainProcess - [Task-ce7f9699-79a1-4a53-a98b-c80ff061cb6f] Chunk 3 sent to stream queue.
2025-08-01 12:17:35,129 - INFO - MainProcess - [Task-ce7f9699-79a1-4a53-a98b-c80ff061cb6f] All chunks processed and queued successfully.
2025-08-01 12:17:35,129 - INFO - MainProcess - [Task-ce7f9699-79a1-4a53-a98b-c80ff061cb6f] Processor thread finished and cleaned up.
2025-08-01 12:17:35,932 - INFO - MainProcess - >>>>>> Event: Switching from IDLE to FORMAL stream. <<<<<<
2025-08-01 12:17:35,932 - INFO - MainProcess - Clearing media buffer queue (size: 10)...
2025-08-01 12:17:35,962 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 12:17:35,962 - INFO - MainProcess - >>>>>> Event: Formal stream finished. Switching back to IDLE. <<<<<<
2025-08-01 12:17:57,117 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-08-01 12:17:57,221 - INFO - MainProcess - [Task-2d00c60d-a789-49e7-9ef9-db3477b9ef4a] Started processing. Expecting 4 chunks.
2025-08-01 12:17:57,222 - INFO - MainProcess - Task 2d00c60d-a789-49e7-9ef9-db3477b9ef4a has been started in the background.
2025-08-01 12:17:57,411 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 12:17:57] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 12:18:01,711 - INFO - MainProcess - [Task-2d00c60d-a789-49e7-9ef9-db3477b9ef4a] Chunk 0 sent to stream queue.
2025-08-01 12:18:01,975 - INFO - MainProcess - >>>>>> Event: Switching from IDLE to FORMAL stream. <<<<<<
2025-08-01 12:18:01,976 - INFO - MainProcess - Clearing media buffer queue (size: 10)...
2025-08-01 12:18:01,977 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 12:18:01,978 - INFO - MainProcess - >>>>>> Event: Formal stream finished. Switching back to IDLE. <<<<<<
2025-08-01 12:18:02,230 - INFO - MainProcess - [Task-2d00c60d-a789-49e7-9ef9-db3477b9ef4a] Chunk 1 sent to stream queue.
2025-08-01 12:18:02,230 - INFO - MainProcess - [Task-2d00c60d-a789-49e7-9ef9-db3477b9ef4a] Chunk 2 sent to stream queue.
2025-08-01 12:18:02,481 - INFO - MainProcess - [Task-2d00c60d-a789-49e7-9ef9-db3477b9ef4a] Chunk 3 sent to stream queue.
2025-08-01 12:18:02,482 - INFO - MainProcess - [Task-2d00c60d-a789-49e7-9ef9-db3477b9ef4a] All chunks processed and queued successfully.
2025-08-01 12:18:02,482 - INFO - MainProcess - [Task-2d00c60d-a789-49e7-9ef9-db3477b9ef4a] Processor thread finished and cleaned up.
2025-08-01 12:18:02,934 - INFO - MainProcess - >>>>>> Event: Switching from IDLE to FORMAL stream. <<<<<<
2025-08-01 12:18:02,934 - INFO - MainProcess - Clearing media buffer queue (size: 10)...
2025-08-01 12:18:02,934 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 12:18:02,935 - INFO - MainProcess - >>>>>> Event: Formal stream finished. Switching back to IDLE. <<<<<<
2025-08-01 12:23:10,854 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_00.wav. Preparing tasks...
2025-08-01 12:23:10,995 - INFO - MainProcess - [Task-d93d339e-970e-482d-99ae-b6d8b9ef95c9] Started processing. Expecting 7 chunks.
2025-08-01 12:23:10,995 - INFO - MainProcess - Task d93d339e-970e-482d-99ae-b6d8b9ef95c9 has been started in the background.
2025-08-01 12:23:11,135 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 12:23:11] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 12:23:15,576 - INFO - MainProcess - [Task-d93d339e-970e-482d-99ae-b6d8b9ef95c9] Chunk 0 sent to stream queue.
2025-08-01 12:23:15,944 - INFO - MainProcess - >>>>>> Event: Switching from IDLE to FORMAL stream. <<<<<<
2025-08-01 12:23:15,945 - INFO - MainProcess - Clearing media buffer queue (size: 10)...
2025-08-01 12:23:15,946 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 12:23:15,946 - INFO - MainProcess - >>>>>> Event: Formal stream finished. Switching back to IDLE. <<<<<<
2025-08-01 12:23:16,123 - INFO - MainProcess - [Task-d93d339e-970e-482d-99ae-b6d8b9ef95c9] Chunk 1 sent to stream queue.
2025-08-01 12:23:16,124 - INFO - MainProcess - [Task-d93d339e-970e-482d-99ae-b6d8b9ef95c9] Chunk 2 sent to stream queue.
2025-08-01 12:23:16,362 - INFO - MainProcess - [Task-d93d339e-970e-482d-99ae-b6d8b9ef95c9] Chunk 3 sent to stream queue.
2025-08-01 12:23:16,713 - INFO - MainProcess - [Task-d93d339e-970e-482d-99ae-b6d8b9ef95c9] Chunk 4 sent to stream queue.
2025-08-01 12:23:16,943 - INFO - MainProcess - [Task-d93d339e-970e-482d-99ae-b6d8b9ef95c9] Chunk 5 sent to stream queue.
2025-08-01 12:23:16,949 - INFO - MainProcess - >>>>>> Event: Switching from IDLE to FORMAL stream. <<<<<<
2025-08-01 12:23:16,949 - INFO - MainProcess - Clearing media buffer queue (size: 10)...
2025-08-01 12:23:16,949 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 12:23:16,952 - INFO - MainProcess - >>>>>> Event: Formal stream finished. Switching back to IDLE. <<<<<<
2025-08-01 12:23:17,214 - INFO - MainProcess - [Task-d93d339e-970e-482d-99ae-b6d8b9ef95c9] Chunk 6 sent to stream queue.
2025-08-01 12:23:17,214 - INFO - MainProcess - [Task-d93d339e-970e-482d-99ae-b6d8b9ef95c9] All chunks processed and queued successfully.
2025-08-01 12:23:17,214 - INFO - MainProcess - [Task-d93d339e-970e-482d-99ae-b6d8b9ef95c9] Processor thread finished and cleaned up.
2025-08-01 12:23:17,932 - INFO - MainProcess - >>>>>> Event: Switching from IDLE to FORMAL stream. <<<<<<
2025-08-01 12:23:17,933 - INFO - MainProcess - Clearing media buffer queue (size: 10)...
2025-08-01 12:23:17,985 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 12:23:17,986 - INFO - MainProcess - >>>>>> Event: Formal stream finished. Switching back to IDLE. <<<<<<
2025-08-01 12:23:33,468 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_00.wav. Preparing tasks...
2025-08-01 12:23:33,603 - INFO - MainProcess - [Task-dea14f93-1b9f-43c4-b57b-073b03904613] Started processing. Expecting 7 chunks.
2025-08-01 12:23:33,603 - INFO - MainProcess - Task dea14f93-1b9f-43c4-b57b-073b03904613 has been started in the background.
2025-08-01 12:23:33,742 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 12:23:33] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 12:23:38,143 - INFO - MainProcess - [Task-dea14f93-1b9f-43c4-b57b-073b03904613] Chunk 0 sent to stream queue.
2025-08-01 12:23:38,526 - INFO - MainProcess - [Task-dea14f93-1b9f-43c4-b57b-073b03904613] Chunk 1 sent to stream queue.
2025-08-01 12:23:38,758 - INFO - MainProcess - [Task-dea14f93-1b9f-43c4-b57b-073b03904613] Chunk 2 sent to stream queue.
2025-08-01 12:23:38,932 - INFO - MainProcess - >>>>>> Event: Switching from IDLE to FORMAL stream. <<<<<<
2025-08-01 12:23:38,932 - INFO - MainProcess - Clearing media buffer queue (size: 10)...
2025-08-01 12:23:38,932 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 12:23:38,933 - INFO - MainProcess - >>>>>> Event: Formal stream finished. Switching back to IDLE. <<<<<<
2025-08-01 12:23:38,999 - INFO - MainProcess - [Task-dea14f93-1b9f-43c4-b57b-073b03904613] Chunk 3 sent to stream queue.
2025-08-01 12:23:39,207 - INFO - MainProcess - [Task-dea14f93-1b9f-43c4-b57b-073b03904613] Chunk 4 sent to stream queue.
2025-08-01 12:23:39,590 - INFO - MainProcess - [Task-dea14f93-1b9f-43c4-b57b-073b03904613] Chunk 5 sent to stream queue.
2025-08-01 12:23:39,824 - INFO - MainProcess - [Task-dea14f93-1b9f-43c4-b57b-073b03904613] Chunk 6 sent to stream queue.
2025-08-01 12:23:39,824 - INFO - MainProcess - [Task-dea14f93-1b9f-43c4-b57b-073b03904613] All chunks processed and queued successfully.
2025-08-01 12:23:39,824 - INFO - MainProcess - [Task-dea14f93-1b9f-43c4-b57b-073b03904613] Processor thread finished and cleaned up.
2025-08-01 12:23:39,933 - INFO - MainProcess - >>>>>> Event: Switching from IDLE to FORMAL stream. <<<<<<
2025-08-01 12:23:39,933 - INFO - MainProcess - Clearing media buffer queue (size: 10)...
2025-08-01 12:23:39,955 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 12:23:39,955 - INFO - MainProcess - >>>>>> Event: Formal stream finished. Switching back to IDLE. <<<<<<
2025-08-01 12:30:42,125 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_00.wav. Preparing tasks...
2025-08-01 12:30:42,240 - INFO - MainProcess - [Task-b5f68275-feb8-401b-91d9-c6e2ee7106ac] Started processing. Expecting 7 chunks.
2025-08-01 12:30:42,240 - INFO - MainProcess - Task b5f68275-feb8-401b-91d9-c6e2ee7106ac has been started in the background.
2025-08-01 12:30:42,422 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 12:30:42] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 12:30:46,850 - INFO - MainProcess - [Task-b5f68275-feb8-401b-91d9-c6e2ee7106ac] Chunk 0 sent to stream queue.
2025-08-01 12:30:46,935 - INFO - MainProcess - >>>>>> Event: Switching from IDLE to FORMAL stream. <<<<<<
2025-08-01 12:30:46,938 - INFO - MainProcess - Clearing media buffer queue (size: 10)...
2025-08-01 12:30:46,938 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 12:30:46,939 - INFO - MainProcess - >>>>>> Event: Formal stream finished. Switching back to IDLE. <<<<<<
2025-08-01 12:30:47,056 - INFO - MainProcess - [Task-b5f68275-feb8-401b-91d9-c6e2ee7106ac] Chunk 1 sent to stream queue.
2025-08-01 12:30:47,371 - INFO - MainProcess - [Task-b5f68275-feb8-401b-91d9-c6e2ee7106ac] Chunk 2 sent to stream queue.
2025-08-01 12:30:47,604 - INFO - MainProcess - [Task-b5f68275-feb8-401b-91d9-c6e2ee7106ac] Chunk 3 sent to stream queue.
2025-08-01 12:30:47,850 - INFO - MainProcess - [Task-b5f68275-feb8-401b-91d9-c6e2ee7106ac] Chunk 4 sent to stream queue.
2025-08-01 12:30:47,933 - INFO - MainProcess - >>>>>> Event: Switching from IDLE to FORMAL stream. <<<<<<
2025-08-01 12:30:47,934 - INFO - MainProcess - Clearing media buffer queue (size: 10)...
2025-08-01 12:30:47,935 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 12:30:47,939 - INFO - MainProcess - >>>>>> Event: Formal stream finished. Switching back to IDLE. <<<<<<
2025-08-01 12:30:48,086 - INFO - MainProcess - [Task-b5f68275-feb8-401b-91d9-c6e2ee7106ac] Chunk 5 sent to stream queue.
2025-08-01 12:30:48,515 - INFO - MainProcess - [Task-b5f68275-feb8-401b-91d9-c6e2ee7106ac] Chunk 6 sent to stream queue.
2025-08-01 12:30:48,516 - INFO - MainProcess - [Task-b5f68275-feb8-401b-91d9-c6e2ee7106ac] All chunks processed and queued successfully.
2025-08-01 12:30:48,516 - INFO - MainProcess - [Task-b5f68275-feb8-401b-91d9-c6e2ee7106ac] Processor thread finished and cleaned up.
2025-08-01 12:30:48,932 - INFO - MainProcess - >>>>>> Event: Switching from IDLE to FORMAL stream. <<<<<<
2025-08-01 12:30:48,932 - INFO - MainProcess - Clearing media buffer queue (size: 10)...
2025-08-01 12:30:48,975 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 12:30:48,976 - INFO - MainProcess - >>>>>> Event: Formal stream finished. Switching back to IDLE. <<<<<<
2025-08-01 12:33:39,990 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_00.wav. Preparing tasks...
2025-08-01 12:33:40,104 - INFO - MainProcess - [Task-25c931d3-e823-4217-a228-cdfb589142b5] Started processing. Expecting 7 chunks.
2025-08-01 12:33:40,105 - INFO - MainProcess - Task 25c931d3-e823-4217-a228-cdfb589142b5 has been started in the background.
2025-08-01 12:33:40,290 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 12:33:40] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 12:33:44,671 - INFO - MainProcess - [Task-25c931d3-e823-4217-a228-cdfb589142b5] Chunk 0 sent to stream queue.
2025-08-01 12:33:44,934 - INFO - MainProcess - >>>>>> Event: Switching from IDLE to FORMAL stream. <<<<<<
2025-08-01 12:33:44,934 - INFO - MainProcess - Clearing media buffer queue (size: 10)...
2025-08-01 12:33:44,935 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 12:33:44,936 - INFO - MainProcess - >>>>>> Event: Formal stream finished. Switching back to IDLE. <<<<<<
2025-08-01 12:33:45,086 - INFO - MainProcess - [Task-25c931d3-e823-4217-a228-cdfb589142b5] Chunk 1 sent to stream queue.
2025-08-01 12:33:45,292 - INFO - MainProcess - [Task-25c931d3-e823-4217-a228-cdfb589142b5] Chunk 2 sent to stream queue.
2025-08-01 12:33:45,550 - INFO - MainProcess - [Task-25c931d3-e823-4217-a228-cdfb589142b5] Chunk 3 sent to stream queue.
2025-08-01 12:33:45,785 - INFO - MainProcess - [Task-25c931d3-e823-4217-a228-cdfb589142b5] Chunk 4 sent to stream queue.
2025-08-01 12:33:45,933 - INFO - MainProcess - >>>>>> Event: Switching from IDLE to FORMAL stream. <<<<<<
2025-08-01 12:33:45,933 - INFO - MainProcess - Clearing media buffer queue (size: 10)...
2025-08-01 12:33:45,934 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 12:33:45,936 - INFO - MainProcess - >>>>>> Event: Formal stream finished. Switching back to IDLE. <<<<<<
2025-08-01 12:33:46,147 - INFO - MainProcess - [Task-25c931d3-e823-4217-a228-cdfb589142b5] Chunk 5 sent to stream queue.
2025-08-01 12:33:46,380 - INFO - MainProcess - [Task-25c931d3-e823-4217-a228-cdfb589142b5] Chunk 6 sent to stream queue.
2025-08-01 12:33:46,381 - INFO - MainProcess - [Task-25c931d3-e823-4217-a228-cdfb589142b5] All chunks processed and queued successfully.
2025-08-01 12:33:46,381 - INFO - MainProcess - [Task-25c931d3-e823-4217-a228-cdfb589142b5] Processor thread finished and cleaned up.
2025-08-01 12:33:46,933 - INFO - MainProcess - >>>>>> Event: Switching from IDLE to FORMAL stream. <<<<<<
2025-08-01 12:33:46,933 - INFO - MainProcess - Clearing media buffer queue (size: 10)...
2025-08-01 12:33:46,972 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 12:33:46,973 - INFO - MainProcess - >>>>>> Event: Formal stream finished. Switching back to IDLE. <<<<<<
2025-08-01 12:35:49,695 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_00.wav. Preparing tasks...
2025-08-01 12:35:49,805 - INFO - MainProcess - [Task-c8a49913-602a-4889-b296-2317db6038b5] Started processing. Expecting 7 chunks.
2025-08-01 12:35:49,805 - INFO - MainProcess - Task c8a49913-602a-4889-b296-2317db6038b5 has been started in the background.
2025-08-01 12:35:49,806 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 12:35:49] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 12:35:54,204 - INFO - MainProcess - [Task-c8a49913-602a-4889-b296-2317db6038b5] Chunk 0 sent to stream queue.
2025-08-01 12:35:54,432 - INFO - MainProcess - [Task-c8a49913-602a-4889-b296-2317db6038b5] Chunk 1 sent to stream queue.
2025-08-01 12:35:54,932 - INFO - MainProcess - >>>>>> Event: Switching from IDLE to FORMAL stream. <<<<<<
2025-08-01 12:35:54,933 - INFO - MainProcess - Clearing media buffer queue (size: 10)...
2025-08-01 12:35:54,933 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 12:35:54,934 - INFO - MainProcess - >>>>>> Event: Formal stream finished. Switching back to IDLE. <<<<<<
2025-08-01 12:35:54,998 - INFO - MainProcess - [Task-c8a49913-602a-4889-b296-2317db6038b5] Chunk 2 sent to stream queue.
2025-08-01 12:35:55,183 - INFO - MainProcess - [Task-c8a49913-602a-4889-b296-2317db6038b5] Chunk 3 sent to stream queue.
2025-08-01 12:35:55,428 - INFO - MainProcess - [Task-c8a49913-602a-4889-b296-2317db6038b5] Chunk 4 sent to stream queue.
2025-08-01 12:35:55,670 - INFO - MainProcess - [Task-c8a49913-602a-4889-b296-2317db6038b5] Chunk 5 sent to stream queue.
2025-08-01 12:35:55,921 - INFO - MainProcess - [Task-c8a49913-602a-4889-b296-2317db6038b5] Chunk 6 sent to stream queue.
2025-08-01 12:35:55,922 - INFO - MainProcess - [Task-c8a49913-602a-4889-b296-2317db6038b5] All chunks processed and queued successfully.
2025-08-01 12:35:55,922 - INFO - MainProcess - [Task-c8a49913-602a-4889-b296-2317db6038b5] Processor thread finished and cleaned up.
2025-08-01 12:35:55,931 - INFO - MainProcess - >>>>>> Event: Switching from IDLE to FORMAL stream. <<<<<<
2025-08-01 12:35:55,931 - INFO - MainProcess - Clearing media buffer queue (size: 10)...
2025-08-01 12:35:55,946 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 12:35:55,946 - INFO - MainProcess - >>>>>> Event: Formal stream finished. Switching back to IDLE. <<<<<<
2025-08-01 12:36:32,205 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_00.wav. Preparing tasks...
2025-08-01 12:36:32,319 - INFO - MainProcess - [Task-0ec6528c-545d-4a48-9e94-864bbcc383f4] Started processing. Expecting 7 chunks.
2025-08-01 12:36:32,319 - INFO - MainProcess - Task 0ec6528c-545d-4a48-9e94-864bbcc383f4 has been started in the background.
2025-08-01 12:36:32,320 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 12:36:32] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 12:36:36,665 - INFO - MainProcess - [Task-0ec6528c-545d-4a48-9e94-864bbcc383f4] Chunk 0 sent to stream queue.
2025-08-01 12:36:36,945 - INFO - MainProcess - >>>>>> Event: Switching from IDLE to FORMAL stream. <<<<<<
2025-08-01 12:36:36,946 - INFO - MainProcess - Clearing media buffer queue (size: 10)...
2025-08-01 12:36:36,947 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 12:36:36,948 - INFO - MainProcess - >>>>>> Event: Formal stream finished. Switching back to IDLE. <<<<<<
2025-08-01 12:36:37,082 - INFO - MainProcess - [Task-0ec6528c-545d-4a48-9e94-864bbcc383f4] Chunk 1 sent to stream queue.
2025-08-01 12:36:37,316 - INFO - MainProcess - [Task-0ec6528c-545d-4a48-9e94-864bbcc383f4] Chunk 2 sent to stream queue.
2025-08-01 12:36:37,717 - INFO - MainProcess - [Task-0ec6528c-545d-4a48-9e94-864bbcc383f4] Chunk 3 sent to stream queue.
2025-08-01 12:36:37,926 - INFO - MainProcess - [Task-0ec6528c-545d-4a48-9e94-864bbcc383f4] Chunk 4 sent to stream queue.
2025-08-01 12:36:37,932 - INFO - MainProcess - >>>>>> Event: Switching from IDLE to FORMAL stream. <<<<<<
2025-08-01 12:36:37,933 - INFO - MainProcess - Clearing media buffer queue (size: 10)...
2025-08-01 12:36:37,933 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 12:36:37,933 - INFO - MainProcess - >>>>>> Event: Formal stream finished. Switching back to IDLE. <<<<<<
2025-08-01 12:36:38,328 - INFO - MainProcess - [Task-0ec6528c-545d-4a48-9e94-864bbcc383f4] Chunk 5 sent to stream queue.
2025-08-01 12:36:38,560 - INFO - MainProcess - [Task-0ec6528c-545d-4a48-9e94-864bbcc383f4] Chunk 6 sent to stream queue.
2025-08-01 12:36:38,560 - INFO - MainProcess - [Task-0ec6528c-545d-4a48-9e94-864bbcc383f4] All chunks processed and queued successfully.
2025-08-01 12:36:38,560 - INFO - MainProcess - [Task-0ec6528c-545d-4a48-9e94-864bbcc383f4] Processor thread finished and cleaned up.
2025-08-01 12:36:38,932 - INFO - MainProcess - >>>>>> Event: Switching from IDLE to FORMAL stream. <<<<<<
2025-08-01 12:36:38,932 - INFO - MainProcess - Clearing media buffer queue (size: 10)...
2025-08-01 12:36:38,976 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 12:36:38,976 - INFO - MainProcess - >>>>>> Event: Formal stream finished. Switching back to IDLE. <<<<<<
2025-08-01 12:36:54,400 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_00.wav. Preparing tasks...
2025-08-01 12:36:54,510 - INFO - MainProcess - [Task-4b9f7c8d-7681-47ce-91a3-719f32aa967e] Started processing. Expecting 7 chunks.
2025-08-01 12:36:54,510 - INFO - MainProcess - Task 4b9f7c8d-7681-47ce-91a3-719f32aa967e has been started in the background.
2025-08-01 12:36:54,511 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 12:36:54] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 12:36:58,825 - INFO - MainProcess - [Task-4b9f7c8d-7681-47ce-91a3-719f32aa967e] Chunk 0 sent to stream queue.
2025-08-01 12:36:58,931 - INFO - MainProcess - >>>>>> Event: Switching from IDLE to FORMAL stream. <<<<<<
2025-08-01 12:36:58,931 - INFO - MainProcess - Clearing media buffer queue (size: 10)...
2025-08-01 12:36:58,931 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 12:36:58,931 - INFO - MainProcess - >>>>>> Event: Formal stream finished. Switching back to IDLE. <<<<<<
2025-08-01 12:36:59,407 - INFO - MainProcess - [Task-4b9f7c8d-7681-47ce-91a3-719f32aa967e] Chunk 1 sent to stream queue.
2025-08-01 12:36:59,961 - INFO - MainProcess - [Task-4b9f7c8d-7681-47ce-91a3-719f32aa967e] Chunk 2 sent to stream queue.
2025-08-01 12:36:59,961 - INFO - MainProcess - [Task-4b9f7c8d-7681-47ce-91a3-719f32aa967e] Chunk 3 sent to stream queue.
2025-08-01 12:36:59,962 - INFO - MainProcess - >>>>>> Event: Switching from IDLE to FORMAL stream. <<<<<<
2025-08-01 12:36:59,964 - INFO - MainProcess - Clearing media buffer queue (size: 10)...
2025-08-01 12:36:59,964 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 12:36:59,965 - INFO - MainProcess - >>>>>> Event: Formal stream finished. Switching back to IDLE. <<<<<<
2025-08-01 12:37:00,214 - INFO - MainProcess - [Task-4b9f7c8d-7681-47ce-91a3-719f32aa967e] Chunk 4 sent to stream queue.
2025-08-01 12:37:00,523 - INFO - MainProcess - [Task-4b9f7c8d-7681-47ce-91a3-719f32aa967e] Chunk 5 sent to stream queue.
2025-08-01 12:37:00,809 - INFO - MainProcess - [Task-4b9f7c8d-7681-47ce-91a3-719f32aa967e] Chunk 6 sent to stream queue.
2025-08-01 12:37:00,810 - INFO - MainProcess - [Task-4b9f7c8d-7681-47ce-91a3-719f32aa967e] All chunks processed and queued successfully.
2025-08-01 12:37:00,810 - INFO - MainProcess - [Task-4b9f7c8d-7681-47ce-91a3-719f32aa967e] Processor thread finished and cleaned up.
2025-08-01 12:37:00,933 - INFO - MainProcess - >>>>>> Event: Switching from IDLE to FORMAL stream. <<<<<<
2025-08-01 12:37:00,934 - INFO - MainProcess - Clearing media buffer queue (size: 10)...
2025-08-01 12:37:00,964 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 12:37:00,965 - INFO - MainProcess - >>>>>> Event: Formal stream finished. Switching back to IDLE. <<<<<<
2025-08-01 12:37:18,709 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_00.wav. Preparing tasks...
2025-08-01 12:37:18,820 - INFO - MainProcess - [Task-d9a6c333-1649-4f6c-973f-baa8aac6d088] Started processing. Expecting 7 chunks.
2025-08-01 12:37:18,821 - INFO - MainProcess - Task d9a6c333-1649-4f6c-973f-baa8aac6d088 has been started in the background.
2025-08-01 12:37:18,822 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 12:37:18] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 12:37:23,331 - INFO - MainProcess - [Task-d9a6c333-1649-4f6c-973f-baa8aac6d088] Chunk 0 sent to stream queue.
2025-08-01 12:37:23,650 - INFO - MainProcess - [Task-d9a6c333-1649-4f6c-973f-baa8aac6d088] Chunk 1 sent to stream queue.
2025-08-01 12:37:23,897 - INFO - MainProcess - [Task-d9a6c333-1649-4f6c-973f-baa8aac6d088] Chunk 2 sent to stream queue.
2025-08-01 12:37:23,932 - INFO - MainProcess - >>>>>> Event: Switching from IDLE to FORMAL stream. <<<<<<
2025-08-01 12:37:23,932 - INFO - MainProcess - Clearing media buffer queue (size: 10)...
2025-08-01 12:37:23,932 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 12:37:23,933 - INFO - MainProcess - >>>>>> Event: Formal stream finished. Switching back to IDLE. <<<<<<
2025-08-01 12:37:24,257 - INFO - MainProcess - [Task-d9a6c333-1649-4f6c-973f-baa8aac6d088] Chunk 3 sent to stream queue.
2025-08-01 12:37:24,488 - INFO - MainProcess - [Task-d9a6c333-1649-4f6c-973f-baa8aac6d088] Chunk 4 sent to stream queue.
2025-08-01 12:37:24,758 - INFO - MainProcess - [Task-d9a6c333-1649-4f6c-973f-baa8aac6d088] Chunk 5 sent to stream queue.
2025-08-01 12:37:24,981 - INFO - MainProcess - [Task-d9a6c333-1649-4f6c-973f-baa8aac6d088] Chunk 6 sent to stream queue.
2025-08-01 12:37:24,981 - INFO - MainProcess - [Task-d9a6c333-1649-4f6c-973f-baa8aac6d088] All chunks processed and queued successfully.
2025-08-01 12:37:24,981 - INFO - MainProcess - [Task-d9a6c333-1649-4f6c-973f-baa8aac6d088] Processor thread finished and cleaned up.
2025-08-01 12:37:24,981 - INFO - MainProcess - >>>>>> Event: Switching from IDLE to FORMAL stream. <<<<<<
2025-08-01 12:37:24,982 - INFO - MainProcess - Clearing media buffer queue (size: 10)...
2025-08-01 12:37:25,012 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 12:37:25,012 - INFO - MainProcess - >>>>>> Event: Formal stream finished. Switching back to IDLE. <<<<<<
2025-08-01 12:43:13,986 - INFO - MainProcess - Starting Flask service...
2025-08-01 12:43:13,986 - INFO - MainProcess - Loading models and creating worker pool...
2025-08-01 12:43:13,986 - INFO - MainProcess - Loading configuration file...
2025-08-01 12:43:13,999 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-08-01 12:43:13,999 - INFO - MainProcess - Loading model components...
2025-08-01 12:43:25,141 - INFO - MainProcess - All components loaded successfully.
2025-08-01 12:43:25,141 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-08-01 12:43:25,222 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-08-01 12:43:25,222 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-08-01 12:43:48,417 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-08-01 12:43:48,417 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-08-01 12:43:48,432 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-08-01 12:43:48,486 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-08-01 12:43:48,486 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-08-01 12:43:48,486 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-08-01 12:43:51,773 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-08-01 12:43:52,855 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-08-01 12:43:52,855 - INFO - MainProcess - Starting the Streaming Controller...
2025-08-01 12:43:52,856 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-08-01 12:43:52,856 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-08-01 12:43:52,997 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-08-01 12:43:52,999 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-08-01 12:43:53,003 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-08-01 12:43:53,004 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-08-01 12:43:53,004 - INFO - MainProcess - Media dispatcher thread started.
2025-08-01 12:43:53,027 - INFO - MainProcess - Video pipe opened for writing.
2025-08-01 12:43:53,032 - INFO - MainProcess - Audio pipe opened for writing.
2025-08-01 12:49:38,991 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_00.wav. Preparing tasks...
2025-08-01 12:49:39,209 - INFO - MainProcess - [Task-c78d13f0-ca3a-4bdb-a7a7-2959bd93f6b2] Started processing. Expecting 7 chunks.
2025-08-01 12:49:39,209 - INFO - MainProcess - Task c78d13f0-ca3a-4bdb-a7a7-2959bd93f6b2 has been started in the background.
2025-08-01 12:49:39,211 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 12:49:39] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 12:49:39,234 - INFO - MainProcess - >>>>>> Event: A formal task is active. Switching to FORMAL stream. <<<<<<
2025-08-01 12:49:39,235 - INFO - MainProcess - Clearing media buffer queue (size: 10)...
2025-08-01 12:49:39,235 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 12:49:46,252 - INFO - MainProcess - [Task-c78d13f0-ca3a-4bdb-a7a7-2959bd93f6b2] Chunk 0 sent to stream queue.
2025-08-01 12:49:46,436 - INFO - MainProcess - [Task-c78d13f0-ca3a-4bdb-a7a7-2959bd93f6b2] Chunk 1 sent to stream queue.
2025-08-01 12:49:46,615 - INFO - MainProcess - [Task-c78d13f0-ca3a-4bdb-a7a7-2959bd93f6b2] Chunk 2 sent to stream queue.
2025-08-01 12:49:47,031 - INFO - MainProcess - [Task-c78d13f0-ca3a-4bdb-a7a7-2959bd93f6b2] Chunk 3 sent to stream queue.
2025-08-01 12:49:47,266 - INFO - MainProcess - [Task-c78d13f0-ca3a-4bdb-a7a7-2959bd93f6b2] Chunk 4 sent to stream queue.
2025-08-01 12:49:47,502 - INFO - MainProcess - [Task-c78d13f0-ca3a-4bdb-a7a7-2959bd93f6b2] Chunk 5 sent to stream queue.
2025-08-01 12:49:47,720 - INFO - MainProcess - [Task-c78d13f0-ca3a-4bdb-a7a7-2959bd93f6b2] Chunk 6 sent to stream queue.
2025-08-01 12:49:47,720 - INFO - MainProcess - [Task-c78d13f0-ca3a-4bdb-a7a7-2959bd93f6b2] All chunks processed and queued successfully.
2025-08-01 12:49:47,720 - INFO - MainProcess - [Task-c78d13f0-ca3a-4bdb-a7a7-2959bd93f6b2] Processor thread finished and cleaned up.
2025-08-01 12:49:47,721 - INFO - MainProcess - >>>>>> Event: All formal tasks finished. Switching back to IDLE. <<<<<<
2025-08-01 12:50:03,225 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_00.wav. Preparing tasks...
2025-08-01 12:50:03,348 - INFO - MainProcess - [Task-3bfb6d5f-d003-4c85-91bc-df9b4a91a51d] Started processing. Expecting 7 chunks.
2025-08-01 12:50:03,348 - INFO - MainProcess - Task 3bfb6d5f-d003-4c85-91bc-df9b4a91a51d has been started in the background.
2025-08-01 12:50:03,547 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 12:50:03] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 12:50:04,232 - INFO - MainProcess - >>>>>> Event: A formal task is active. Switching to FORMAL stream. <<<<<<
2025-08-01 12:50:04,232 - INFO - MainProcess - Clearing media buffer queue (size: 10)...
2025-08-01 12:50:04,276 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 12:50:10,289 - INFO - MainProcess - [Task-3bfb6d5f-d003-4c85-91bc-df9b4a91a51d] Chunk 0 sent to stream queue.
2025-08-01 12:50:10,290 - INFO - MainProcess - [Task-3bfb6d5f-d003-4c85-91bc-df9b4a91a51d] Chunk 1 sent to stream queue.
2025-08-01 12:50:10,290 - INFO - MainProcess - [Task-3bfb6d5f-d003-4c85-91bc-df9b4a91a51d] Chunk 2 sent to stream queue.
2025-08-01 12:50:10,290 - INFO - MainProcess - [Task-3bfb6d5f-d003-4c85-91bc-df9b4a91a51d] Chunk 3 sent to stream queue.
2025-08-01 12:50:10,290 - INFO - MainProcess - [Task-3bfb6d5f-d003-4c85-91bc-df9b4a91a51d] Chunk 4 sent to stream queue.
2025-08-01 12:50:10,291 - INFO - MainProcess - [Task-3bfb6d5f-d003-4c85-91bc-df9b4a91a51d] Chunk 5 sent to stream queue.
2025-08-01 12:50:10,291 - INFO - MainProcess - [Task-3bfb6d5f-d003-4c85-91bc-df9b4a91a51d] Chunk 6 sent to stream queue.
2025-08-01 12:50:10,291 - INFO - MainProcess - [Task-3bfb6d5f-d003-4c85-91bc-df9b4a91a51d] All chunks processed and queued successfully.
2025-08-01 12:50:10,291 - INFO - MainProcess - [Task-3bfb6d5f-d003-4c85-91bc-df9b4a91a51d] Processor thread finished and cleaned up.
2025-08-01 12:50:10,291 - INFO - MainProcess - >>>>>> Event: All formal tasks finished. Switching back to IDLE. <<<<<<
2025-08-01 12:50:21,676 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_00.wav. Preparing tasks...
2025-08-01 12:50:21,788 - INFO - MainProcess - [Task-94cc5ebe-2c80-4834-ba5c-dba54fcd21b5] Started processing. Expecting 7 chunks.
2025-08-01 12:50:21,788 - INFO - MainProcess - Task 94cc5ebe-2c80-4834-ba5c-dba54fcd21b5 has been started in the background.
2025-08-01 12:50:21,790 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 12:50:21] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 12:50:22,229 - INFO - MainProcess - >>>>>> Event: A formal task is active. Switching to FORMAL stream. <<<<<<
2025-08-01 12:50:22,229 - INFO - MainProcess - Clearing media buffer queue (size: 10)...
2025-08-01 12:50:22,229 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 12:50:26,208 - INFO - MainProcess - [Task-94cc5ebe-2c80-4834-ba5c-dba54fcd21b5] Chunk 0 sent to stream queue.
2025-08-01 12:50:26,658 - INFO - MainProcess - [Task-94cc5ebe-2c80-4834-ba5c-dba54fcd21b5] Chunk 1 sent to stream queue.
2025-08-01 12:50:26,887 - INFO - MainProcess - [Task-94cc5ebe-2c80-4834-ba5c-dba54fcd21b5] Chunk 2 sent to stream queue.
2025-08-01 12:50:27,111 - INFO - MainProcess - [Task-94cc5ebe-2c80-4834-ba5c-dba54fcd21b5] Chunk 3 sent to stream queue.
2025-08-01 12:50:27,340 - INFO - MainProcess - [Task-94cc5ebe-2c80-4834-ba5c-dba54fcd21b5] Chunk 4 sent to stream queue.
2025-08-01 12:50:27,684 - INFO - MainProcess - [Task-94cc5ebe-2c80-4834-ba5c-dba54fcd21b5] Chunk 5 sent to stream queue.
2025-08-01 12:50:27,939 - INFO - MainProcess - [Task-94cc5ebe-2c80-4834-ba5c-dba54fcd21b5] Chunk 6 sent to stream queue.
2025-08-01 12:50:27,940 - INFO - MainProcess - [Task-94cc5ebe-2c80-4834-ba5c-dba54fcd21b5] All chunks processed and queued successfully.
2025-08-01 12:50:27,940 - INFO - MainProcess - [Task-94cc5ebe-2c80-4834-ba5c-dba54fcd21b5] Processor thread finished and cleaned up.
2025-08-01 12:50:27,990 - INFO - MainProcess - >>>>>> Event: All formal tasks finished. Switching back to IDLE. <<<<<<
2025-08-01 12:50:55,040 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_00.wav. Preparing tasks...
2025-08-01 12:50:55,157 - INFO - MainProcess - [Task-b028d9d0-0527-491f-922d-750fd4014076] Started processing. Expecting 7 chunks.
2025-08-01 12:50:55,158 - INFO - MainProcess - Task b028d9d0-0527-491f-922d-750fd4014076 has been started in the background.
2025-08-01 12:50:55,159 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 12:50:55] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 12:50:55,368 - INFO - MainProcess - >>>>>> Event: A formal task is active. Switching to FORMAL stream. <<<<<<
2025-08-01 12:50:55,368 - INFO - MainProcess - Clearing media buffer queue (size: 10)...
2025-08-01 12:50:55,369 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 12:50:59,487 - INFO - MainProcess - [Task-b028d9d0-0527-491f-922d-750fd4014076] Chunk 0 sent to stream queue.
2025-08-01 12:50:59,699 - INFO - MainProcess - [Task-b028d9d0-0527-491f-922d-750fd4014076] Chunk 1 sent to stream queue.
2025-08-01 12:51:00,261 - INFO - MainProcess - [Task-b028d9d0-0527-491f-922d-750fd4014076] Chunk 2 sent to stream queue.
2025-08-01 12:51:00,562 - INFO - MainProcess - [Task-b028d9d0-0527-491f-922d-750fd4014076] Chunk 3 sent to stream queue.
2025-08-01 12:51:00,901 - INFO - MainProcess - [Task-b028d9d0-0527-491f-922d-750fd4014076] Chunk 4 sent to stream queue.
2025-08-01 12:51:01,152 - INFO - MainProcess - [Task-b028d9d0-0527-491f-922d-750fd4014076] Chunk 5 sent to stream queue.
2025-08-01 12:51:01,381 - INFO - MainProcess - [Task-b028d9d0-0527-491f-922d-750fd4014076] Chunk 6 sent to stream queue.
2025-08-01 12:51:01,381 - INFO - MainProcess - [Task-b028d9d0-0527-491f-922d-750fd4014076] All chunks processed and queued successfully.
2025-08-01 12:51:01,381 - INFO - MainProcess - [Task-b028d9d0-0527-491f-922d-750fd4014076] Processor thread finished and cleaned up.
2025-08-01 12:51:01,382 - INFO - MainProcess - >>>>>> Event: All formal tasks finished. Switching back to IDLE. <<<<<<
2025-08-01 12:51:16,310 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-08-01 12:51:16,416 - INFO - MainProcess - [Task-9a12ae57-0b21-480e-abdb-2ed16912d993] Started processing. Expecting 4 chunks.
2025-08-01 12:51:16,416 - INFO - MainProcess - Task 9a12ae57-0b21-480e-abdb-2ed16912d993 has been started in the background.
2025-08-01 12:51:16,417 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 12:51:16] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 12:51:17,226 - INFO - MainProcess - >>>>>> Event: A formal task is active. Switching to FORMAL stream. <<<<<<
2025-08-01 12:51:17,226 - INFO - MainProcess - Clearing media buffer queue (size: 10)...
2025-08-01 12:51:17,226 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 12:51:20,794 - INFO - MainProcess - [Task-9a12ae57-0b21-480e-abdb-2ed16912d993] Chunk 0 sent to stream queue.
2025-08-01 12:51:21,373 - INFO - MainProcess - [Task-9a12ae57-0b21-480e-abdb-2ed16912d993] Chunk 1 sent to stream queue.
2025-08-01 12:51:21,613 - INFO - MainProcess - [Task-9a12ae57-0b21-480e-abdb-2ed16912d993] Chunk 2 sent to stream queue.
2025-08-01 12:51:21,871 - INFO - MainProcess - [Task-9a12ae57-0b21-480e-abdb-2ed16912d993] Chunk 3 sent to stream queue.
2025-08-01 12:51:21,871 - INFO - MainProcess - [Task-9a12ae57-0b21-480e-abdb-2ed16912d993] All chunks processed and queued successfully.
2025-08-01 12:51:21,871 - INFO - MainProcess - [Task-9a12ae57-0b21-480e-abdb-2ed16912d993] Processor thread finished and cleaned up.
2025-08-01 12:51:21,921 - INFO - MainProcess - >>>>>> Event: All formal tasks finished. Switching back to IDLE. <<<<<<
2025-08-01 12:51:35,565 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_00.wav. Preparing tasks...
2025-08-01 12:51:35,681 - INFO - MainProcess - [Task-edf5131f-552e-4c43-87c6-727cdb6a674f] Started processing. Expecting 7 chunks.
2025-08-01 12:51:35,682 - INFO - MainProcess - Task edf5131f-552e-4c43-87c6-727cdb6a674f has been started in the background.
2025-08-01 12:51:35,682 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 12:51:35] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 12:51:36,227 - INFO - MainProcess - >>>>>> Event: A formal task is active. Switching to FORMAL stream. <<<<<<
2025-08-01 12:51:36,228 - INFO - MainProcess - Clearing media buffer queue (size: 10)...
2025-08-01 12:51:36,228 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 12:51:40,249 - INFO - MainProcess - [Task-edf5131f-552e-4c43-87c6-727cdb6a674f] Chunk 0 sent to stream queue.
2025-08-01 12:51:40,683 - INFO - MainProcess - [Task-edf5131f-552e-4c43-87c6-727cdb6a674f] Chunk 1 sent to stream queue.
2025-08-01 12:51:40,978 - INFO - MainProcess - [Task-edf5131f-552e-4c43-87c6-727cdb6a674f] Chunk 2 sent to stream queue.
2025-08-01 12:51:41,387 - INFO - MainProcess - [Task-edf5131f-552e-4c43-87c6-727cdb6a674f] Chunk 3 sent to stream queue.
2025-08-01 12:51:41,388 - INFO - MainProcess - [Task-edf5131f-552e-4c43-87c6-727cdb6a674f] Chunk 4 sent to stream queue.
2025-08-01 12:51:41,919 - INFO - MainProcess - [Task-edf5131f-552e-4c43-87c6-727cdb6a674f] Chunk 5 sent to stream queue.
2025-08-01 12:51:41,920 - INFO - MainProcess - [Task-edf5131f-552e-4c43-87c6-727cdb6a674f] Chunk 6 sent to stream queue.
2025-08-01 12:51:41,920 - INFO - MainProcess - [Task-edf5131f-552e-4c43-87c6-727cdb6a674f] All chunks processed and queued successfully.
2025-08-01 12:51:41,920 - INFO - MainProcess - [Task-edf5131f-552e-4c43-87c6-727cdb6a674f] Processor thread finished and cleaned up.
2025-08-01 12:51:41,921 - INFO - MainProcess - >>>>>> Event: All formal tasks finished. Switching back to IDLE. <<<<<<
2025-08-01 12:53:08,236 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_00.wav. Preparing tasks...
2025-08-01 12:53:08,347 - INFO - MainProcess - [Task-6d6597bc-0671-4b83-9023-3b3a2290f0fd] Started processing. Expecting 7 chunks.
2025-08-01 12:53:08,348 - INFO - MainProcess - Task 6d6597bc-0671-4b83-9023-3b3a2290f0fd has been started in the background.
2025-08-01 12:53:08,524 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 12:53:08] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 12:53:09,227 - INFO - MainProcess - >>>>>> Event: A formal task is active. Switching to FORMAL stream. <<<<<<
2025-08-01 12:53:09,228 - INFO - MainProcess - Clearing media buffer queue (size: 10)...
2025-08-01 12:53:09,228 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 12:53:12,924 - INFO - MainProcess - [Task-6d6597bc-0671-4b83-9023-3b3a2290f0fd] Chunk 0 sent to stream queue.
2025-08-01 12:53:13,644 - INFO - MainProcess - [Task-6d6597bc-0671-4b83-9023-3b3a2290f0fd] Chunk 1 sent to stream queue.
2025-08-01 12:53:13,645 - INFO - MainProcess - [Task-6d6597bc-0671-4b83-9023-3b3a2290f0fd] Chunk 2 sent to stream queue.
2025-08-01 12:53:14,118 - INFO - MainProcess - [Task-6d6597bc-0671-4b83-9023-3b3a2290f0fd] Chunk 3 sent to stream queue.
2025-08-01 12:53:14,119 - INFO - MainProcess - [Task-6d6597bc-0671-4b83-9023-3b3a2290f0fd] Chunk 4 sent to stream queue.
2025-08-01 12:53:14,358 - INFO - MainProcess - [Task-6d6597bc-0671-4b83-9023-3b3a2290f0fd] Chunk 5 sent to stream queue.
2025-08-01 12:53:14,572 - INFO - MainProcess - [Task-6d6597bc-0671-4b83-9023-3b3a2290f0fd] Chunk 6 sent to stream queue.
2025-08-01 12:53:14,573 - INFO - MainProcess - [Task-6d6597bc-0671-4b83-9023-3b3a2290f0fd] All chunks processed and queued successfully.
2025-08-01 12:53:14,573 - INFO - MainProcess - [Task-6d6597bc-0671-4b83-9023-3b3a2290f0fd] Processor thread finished and cleaned up.
2025-08-01 12:53:14,624 - INFO - MainProcess - >>>>>> Event: All formal tasks finished. Switching back to IDLE. <<<<<<
2025-08-01 12:53:17,385 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-08-01 12:53:17,483 - INFO - MainProcess - [Task-73d5a9af-7e68-4a55-88af-f6fbf7d771ea] Started processing. Expecting 4 chunks.
2025-08-01 12:53:17,483 - INFO - MainProcess - Task 73d5a9af-7e68-4a55-88af-f6fbf7d771ea has been started in the background.
2025-08-01 12:53:17,484 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 12:53:17] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 12:53:18,325 - INFO - MainProcess - >>>>>> Event: A formal task is active. Switching to FORMAL stream. <<<<<<
2025-08-01 12:53:18,325 - INFO - MainProcess - Clearing media buffer queue (size: 10)...
2025-08-01 12:53:18,325 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 12:53:22,117 - INFO - MainProcess - [Task-73d5a9af-7e68-4a55-88af-f6fbf7d771ea] Chunk 0 sent to stream queue.
2025-08-01 12:53:22,426 - INFO - MainProcess - [Task-73d5a9af-7e68-4a55-88af-f6fbf7d771ea] Chunk 1 sent to stream queue.
2025-08-01 12:53:22,627 - INFO - MainProcess - [Task-73d5a9af-7e68-4a55-88af-f6fbf7d771ea] Chunk 2 sent to stream queue.
2025-08-01 12:53:22,892 - INFO - MainProcess - [Task-73d5a9af-7e68-4a55-88af-f6fbf7d771ea] Chunk 3 sent to stream queue.
2025-08-01 12:53:22,893 - INFO - MainProcess - [Task-73d5a9af-7e68-4a55-88af-f6fbf7d771ea] All chunks processed and queued successfully.
2025-08-01 12:53:22,893 - INFO - MainProcess - [Task-73d5a9af-7e68-4a55-88af-f6fbf7d771ea] Processor thread finished and cleaned up.
2025-08-01 12:53:22,893 - INFO - MainProcess - >>>>>> Event: All formal tasks finished. Switching back to IDLE. <<<<<<
2025-08-01 12:53:34,776 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-08-01 12:53:34,877 - INFO - MainProcess - [Task-69253a44-31ce-4b1f-8eda-70129cc230a5] Started processing. Expecting 4 chunks.
2025-08-01 12:53:34,877 - INFO - MainProcess - Task 69253a44-31ce-4b1f-8eda-70129cc230a5 has been started in the background.
2025-08-01 12:53:34,878 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 12:53:34] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 12:53:35,294 - INFO - MainProcess - >>>>>> Event: A formal task is active. Switching to FORMAL stream. <<<<<<
2025-08-01 12:53:35,294 - INFO - MainProcess - Clearing media buffer queue (size: 10)...
2025-08-01 12:53:35,294 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 12:53:38,059 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_00.wav. Preparing tasks...
2025-08-01 12:53:38,180 - INFO - MainProcess - [Task-917d1e4e-7516-4cf5-9015-5ac95f91710c] Started processing. Expecting 7 chunks.
2025-08-01 12:53:38,180 - INFO - MainProcess - Task 917d1e4e-7516-4cf5-9015-5ac95f91710c has been started in the background.
2025-08-01 12:53:38,369 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 12:53:38] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 12:53:39,298 - INFO - MainProcess - [Task-69253a44-31ce-4b1f-8eda-70129cc230a5] Chunk 0 sent to stream queue.
2025-08-01 12:53:39,984 - INFO - MainProcess - [Task-69253a44-31ce-4b1f-8eda-70129cc230a5] Chunk 1 sent to stream queue.
2025-08-01 12:53:40,430 - INFO - MainProcess - [Task-69253a44-31ce-4b1f-8eda-70129cc230a5] Chunk 2 sent to stream queue.
2025-08-01 12:53:40,657 - INFO - MainProcess - [Task-69253a44-31ce-4b1f-8eda-70129cc230a5] Chunk 3 sent to stream queue.
2025-08-01 12:53:40,658 - INFO - MainProcess - [Task-69253a44-31ce-4b1f-8eda-70129cc230a5] All chunks processed and queued successfully.
2025-08-01 12:53:40,658 - INFO - MainProcess - [Task-69253a44-31ce-4b1f-8eda-70129cc230a5] Processor thread finished and cleaned up.
2025-08-01 12:53:42,597 - INFO - MainProcess - [Task-917d1e4e-7516-4cf5-9015-5ac95f91710c] Chunk 0 sent to stream queue.
2025-08-01 12:53:42,992 - INFO - MainProcess - [Task-917d1e4e-7516-4cf5-9015-5ac95f91710c] Chunk 1 sent to stream queue.
2025-08-01 12:53:43,264 - INFO - MainProcess - [Task-917d1e4e-7516-4cf5-9015-5ac95f91710c] Chunk 2 sent to stream queue.
2025-08-01 12:53:43,511 - INFO - MainProcess - [Task-917d1e4e-7516-4cf5-9015-5ac95f91710c] Chunk 3 sent to stream queue.
2025-08-01 12:53:43,738 - INFO - MainProcess - [Task-917d1e4e-7516-4cf5-9015-5ac95f91710c] Chunk 4 sent to stream queue.
2025-08-01 12:53:44,467 - INFO - MainProcess - [Task-917d1e4e-7516-4cf5-9015-5ac95f91710c] Chunk 5 sent to stream queue.
2025-08-01 12:53:44,692 - INFO - MainProcess - [Task-917d1e4e-7516-4cf5-9015-5ac95f91710c] Chunk 6 sent to stream queue.
2025-08-01 12:53:44,692 - INFO - MainProcess - [Task-917d1e4e-7516-4cf5-9015-5ac95f91710c] All chunks processed and queued successfully.
2025-08-01 12:53:44,693 - INFO - MainProcess - [Task-917d1e4e-7516-4cf5-9015-5ac95f91710c] Processor thread finished and cleaned up.
2025-08-01 12:53:44,743 - INFO - MainProcess - >>>>>> Event: All formal tasks finished. Switching back to IDLE. <<<<<<
2025-08-01 12:53:47,655 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-08-01 12:53:47,759 - INFO - MainProcess - [Task-7da3ad8e-d4b5-4926-bd7f-666e4eb2f307] Started processing. Expecting 4 chunks.
2025-08-01 12:53:47,759 - INFO - MainProcess - Task 7da3ad8e-d4b5-4926-bd7f-666e4eb2f307 has been started in the background.
2025-08-01 12:53:47,760 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 12:53:47] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 12:53:48,241 - INFO - MainProcess - >>>>>> Event: A formal task is active. Switching to FORMAL stream. <<<<<<
2025-08-01 12:53:48,241 - INFO - MainProcess - Clearing media buffer queue (size: 10)...
2025-08-01 12:53:48,241 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 12:53:52,217 - INFO - MainProcess - [Task-7da3ad8e-d4b5-4926-bd7f-666e4eb2f307] Chunk 0 sent to stream queue.
2025-08-01 12:53:52,450 - INFO - MainProcess - [Task-7da3ad8e-d4b5-4926-bd7f-666e4eb2f307] Chunk 1 sent to stream queue.
2025-08-01 12:53:52,709 - INFO - MainProcess - [Task-7da3ad8e-d4b5-4926-bd7f-666e4eb2f307] Chunk 2 sent to stream queue.
2025-08-01 12:53:53,041 - INFO - MainProcess - [Task-7da3ad8e-d4b5-4926-bd7f-666e4eb2f307] Chunk 3 sent to stream queue.
2025-08-01 12:53:53,042 - INFO - MainProcess - [Task-7da3ad8e-d4b5-4926-bd7f-666e4eb2f307] All chunks processed and queued successfully.
2025-08-01 12:53:53,042 - INFO - MainProcess - [Task-7da3ad8e-d4b5-4926-bd7f-666e4eb2f307] Processor thread finished and cleaned up.
2025-08-01 12:53:53,092 - INFO - MainProcess - >>>>>> Event: All formal tasks finished. Switching back to IDLE. <<<<<<
2025-08-01 12:53:54,165 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_00.wav. Preparing tasks...
2025-08-01 12:53:54,276 - INFO - MainProcess - [Task-ad71bad1-19ea-4702-95c6-45b3e00778a0] Started processing. Expecting 7 chunks.
2025-08-01 12:53:54,277 - INFO - MainProcess - Task ad71bad1-19ea-4702-95c6-45b3e00778a0 has been started in the background.
2025-08-01 12:53:54,277 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 12:53:54] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 12:53:55,295 - INFO - MainProcess - >>>>>> Event: A formal task is active. Switching to FORMAL stream. <<<<<<
2025-08-01 12:53:55,295 - INFO - MainProcess - Clearing media buffer queue (size: 10)...
2025-08-01 12:53:55,295 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 12:53:59,247 - INFO - MainProcess - [Task-ad71bad1-19ea-4702-95c6-45b3e00778a0] Chunk 0 sent to stream queue.
2025-08-01 12:53:59,248 - INFO - MainProcess - [Task-ad71bad1-19ea-4702-95c6-45b3e00778a0] Chunk 1 sent to stream queue.
2025-08-01 12:53:59,522 - INFO - MainProcess - [Task-ad71bad1-19ea-4702-95c6-45b3e00778a0] Chunk 2 sent to stream queue.
2025-08-01 12:53:59,737 - INFO - MainProcess - [Task-ad71bad1-19ea-4702-95c6-45b3e00778a0] Chunk 3 sent to stream queue.
2025-08-01 12:53:59,974 - INFO - MainProcess - [Task-ad71bad1-19ea-4702-95c6-45b3e00778a0] Chunk 4 sent to stream queue.
2025-08-01 12:54:00,229 - INFO - MainProcess - [Task-ad71bad1-19ea-4702-95c6-45b3e00778a0] Chunk 5 sent to stream queue.
2025-08-01 12:54:00,498 - INFO - MainProcess - [Task-ad71bad1-19ea-4702-95c6-45b3e00778a0] Chunk 6 sent to stream queue.
2025-08-01 12:54:00,499 - INFO - MainProcess - [Task-ad71bad1-19ea-4702-95c6-45b3e00778a0] All chunks processed and queued successfully.
2025-08-01 12:54:00,499 - INFO - MainProcess - [Task-ad71bad1-19ea-4702-95c6-45b3e00778a0] Processor thread finished and cleaned up.
2025-08-01 12:54:00,549 - INFO - MainProcess - >>>>>> Event: All formal tasks finished. Switching back to IDLE. <<<<<<
2025-08-01 12:54:16,027 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-08-01 12:54:16,126 - INFO - MainProcess - [Task-82182505-4d9c-4ba3-a066-4c314e408576] Started processing. Expecting 4 chunks.
2025-08-01 12:54:16,127 - INFO - MainProcess - Task 82182505-4d9c-4ba3-a066-4c314e408576 has been started in the background.
2025-08-01 12:54:16,310 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 12:54:16] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 12:54:16,314 - INFO - MainProcess - >>>>>> Event: A formal task is active. Switching to FORMAL stream. <<<<<<
2025-08-01 12:54:16,315 - INFO - MainProcess - Clearing media buffer queue (size: 10)...
2025-08-01 12:54:16,315 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 12:54:20,524 - INFO - MainProcess - [Task-82182505-4d9c-4ba3-a066-4c314e408576] Chunk 0 sent to stream queue.
2025-08-01 12:54:20,774 - INFO - MainProcess - [Task-82182505-4d9c-4ba3-a066-4c314e408576] Chunk 1 sent to stream queue.
2025-08-01 12:54:21,326 - INFO - MainProcess - [Task-82182505-4d9c-4ba3-a066-4c314e408576] Chunk 2 sent to stream queue.
2025-08-01 12:54:21,570 - INFO - MainProcess - [Task-82182505-4d9c-4ba3-a066-4c314e408576] Chunk 3 sent to stream queue.
2025-08-01 12:54:21,570 - INFO - MainProcess - [Task-82182505-4d9c-4ba3-a066-4c314e408576] All chunks processed and queued successfully.
2025-08-01 12:54:21,570 - INFO - MainProcess - [Task-82182505-4d9c-4ba3-a066-4c314e408576] Processor thread finished and cleaned up.
2025-08-01 12:54:21,571 - INFO - MainProcess - >>>>>> Event: All formal tasks finished. Switching back to IDLE. <<<<<<
2025-08-01 12:55:33,985 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_00.wav. Preparing tasks...
2025-08-01 12:55:34,093 - INFO - MainProcess - [Task-e54121f0-ed22-464d-87e5-81a532e89b18] Started processing. Expecting 7 chunks.
2025-08-01 12:55:34,093 - INFO - MainProcess - Task e54121f0-ed22-464d-87e5-81a532e89b18 has been started in the background.
2025-08-01 12:55:34,094 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 12:55:34] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 12:55:34,302 - INFO - MainProcess - >>>>>> Event: A formal task is active. Switching to FORMAL stream. <<<<<<
2025-08-01 12:55:34,302 - INFO - MainProcess - Clearing media buffer queue (size: 10)...
2025-08-01 12:55:34,303 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 12:55:38,702 - INFO - MainProcess - [Task-e54121f0-ed22-464d-87e5-81a532e89b18] Chunk 0 sent to stream queue.
2025-08-01 12:55:38,901 - INFO - MainProcess - [Task-e54121f0-ed22-464d-87e5-81a532e89b18] Chunk 1 sent to stream queue.
2025-08-01 12:55:39,146 - INFO - MainProcess - [Task-e54121f0-ed22-464d-87e5-81a532e89b18] Chunk 2 sent to stream queue.
2025-08-01 12:55:39,379 - INFO - MainProcess - [Task-e54121f0-ed22-464d-87e5-81a532e89b18] Chunk 3 sent to stream queue.
2025-08-01 12:55:39,632 - INFO - MainProcess - [Task-e54121f0-ed22-464d-87e5-81a532e89b18] Chunk 4 sent to stream queue.
2025-08-01 12:55:39,926 - INFO - MainProcess - [Task-e54121f0-ed22-464d-87e5-81a532e89b18] Chunk 5 sent to stream queue.
2025-08-01 12:55:40,375 - INFO - MainProcess - [Task-e54121f0-ed22-464d-87e5-81a532e89b18] Chunk 6 sent to stream queue.
2025-08-01 12:55:40,376 - INFO - MainProcess - [Task-e54121f0-ed22-464d-87e5-81a532e89b18] All chunks processed and queued successfully.
2025-08-01 12:55:40,376 - INFO - MainProcess - [Task-e54121f0-ed22-464d-87e5-81a532e89b18] Processor thread finished and cleaned up.
2025-08-01 12:55:40,377 - INFO - MainProcess - >>>>>> Event: All formal tasks finished. Switching back to IDLE. <<<<<<
2025-08-01 12:55:42,600 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-08-01 12:55:42,700 - INFO - MainProcess - [Task-9e1c4449-d879-4f1a-87dc-60e641ea42c9] Started processing. Expecting 4 chunks.
2025-08-01 12:55:42,700 - INFO - MainProcess - Task 9e1c4449-d879-4f1a-87dc-60e641ea42c9 has been started in the background.
2025-08-01 12:55:42,701 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 12:55:42] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 12:55:43,236 - INFO - MainProcess - >>>>>> Event: A formal task is active. Switching to FORMAL stream. <<<<<<
2025-08-01 12:55:43,236 - INFO - MainProcess - Clearing media buffer queue (size: 10)...
2025-08-01 12:55:43,236 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 12:55:47,059 - INFO - MainProcess - [Task-9e1c4449-d879-4f1a-87dc-60e641ea42c9] Chunk 0 sent to stream queue.
2025-08-01 12:55:47,574 - INFO - MainProcess - [Task-9e1c4449-d879-4f1a-87dc-60e641ea42c9] Chunk 1 sent to stream queue.
2025-08-01 12:55:47,871 - INFO - MainProcess - [Task-9e1c4449-d879-4f1a-87dc-60e641ea42c9] Chunk 2 sent to stream queue.
2025-08-01 12:55:48,103 - INFO - MainProcess - [Task-9e1c4449-d879-4f1a-87dc-60e641ea42c9] Chunk 3 sent to stream queue.
2025-08-01 12:55:48,103 - INFO - MainProcess - [Task-9e1c4449-d879-4f1a-87dc-60e641ea42c9] All chunks processed and queued successfully.
2025-08-01 12:55:48,104 - INFO - MainProcess - [Task-9e1c4449-d879-4f1a-87dc-60e641ea42c9] Processor thread finished and cleaned up.
2025-08-01 12:55:48,153 - INFO - MainProcess - >>>>>> Event: All formal tasks finished. Switching back to IDLE. <<<<<<
2025-08-01 12:59:27,961 - INFO - MainProcess - Starting Flask service...
2025-08-01 12:59:27,961 - INFO - MainProcess - Loading models and creating worker pool...
2025-08-01 12:59:27,961 - INFO - MainProcess - Loading configuration file...
2025-08-01 12:59:27,975 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-08-01 12:59:27,975 - INFO - MainProcess - Loading model components...
2025-08-01 12:59:38,838 - INFO - MainProcess - All components loaded successfully.
2025-08-01 12:59:38,839 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-08-01 12:59:38,921 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-08-01 12:59:38,921 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-08-01 13:00:01,675 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-08-01 13:00:01,676 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-08-01 13:00:01,691 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-08-01 13:00:01,747 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-08-01 13:00:01,747 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-08-01 13:00:01,747 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-08-01 13:00:04,594 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-08-01 13:00:05,460 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-08-01 13:00:05,461 - INFO - MainProcess - Starting the Streaming Controller...
2025-08-01 13:00:05,461 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-08-01 13:00:05,461 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-08-01 13:00:05,569 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-08-01 13:00:05,578 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-08-01 13:00:05,586 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-08-01 13:00:05,586 - INFO - MainProcess - Media dispatcher thread started.
2025-08-01 13:00:05,586 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-08-01 13:00:05,635 - INFO - MainProcess - Video pipe opened for writing.
2025-08-01 13:00:05,646 - INFO - MainProcess - Audio pipe opened for writing.
2025-08-01 13:01:20,478 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_00.wav. Preparing tasks...
2025-08-01 13:01:20,696 - INFO - MainProcess - [Task-f5f4bcba-e1ef-40f5-8807-5fd4ba8a65cf] Started processing. Expecting 7 chunks.
2025-08-01 13:01:20,696 - INFO - MainProcess - Task f5f4bcba-e1ef-40f5-8807-5fd4ba8a65cf has been started in the background.
2025-08-01 13:01:20,698 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 13:01:20] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 13:01:27,585 - INFO - MainProcess - [Task-f5f4bcba-e1ef-40f5-8807-5fd4ba8a65cf] Chunk 0 sent to stream queue.
2025-08-01 13:01:27,590 - INFO - MainProcess - >>>>>> Event: A formal task is starting. Switching to FORMAL stream. <<<<<<
2025-08-01 13:01:27,590 - INFO - MainProcess - Clearing media buffer queue (size: 4)...
2025-08-01 13:01:27,591 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 13:01:27,913 - INFO - MainProcess - [Task-f5f4bcba-e1ef-40f5-8807-5fd4ba8a65cf] Chunk 1 sent to stream queue.
2025-08-01 13:01:28,278 - INFO - MainProcess - [Task-f5f4bcba-e1ef-40f5-8807-5fd4ba8a65cf] Chunk 2 sent to stream queue.
2025-08-01 13:01:28,591 - INFO - MainProcess - [Task-f5f4bcba-e1ef-40f5-8807-5fd4ba8a65cf] Chunk 3 sent to stream queue.
2025-08-01 13:01:28,849 - INFO - MainProcess - [Task-f5f4bcba-e1ef-40f5-8807-5fd4ba8a65cf] Chunk 4 sent to stream queue.
2025-08-01 13:01:29,119 - INFO - MainProcess - [Task-f5f4bcba-e1ef-40f5-8807-5fd4ba8a65cf] Chunk 5 sent to stream queue.
2025-08-01 13:01:29,375 - INFO - MainProcess - [Task-f5f4bcba-e1ef-40f5-8807-5fd4ba8a65cf] Chunk 6 sent to stream queue.
2025-08-01 13:01:29,375 - INFO - MainProcess - [Task-f5f4bcba-e1ef-40f5-8807-5fd4ba8a65cf] All chunks processed and queued successfully.
2025-08-01 13:01:29,375 - INFO - MainProcess - [Task-f5f4bcba-e1ef-40f5-8807-5fd4ba8a65cf] Processor thread finished and cleaned up.
2025-08-01 13:01:29,385 - INFO - MainProcess - >>>>>> Event: All formal tasks finished and queue is drained. Switching back to IDLE. <<<<<<
2025-08-01 13:01:46,574 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-08-01 13:01:46,697 - INFO - MainProcess - [Task-a0492d96-208d-4a32-ba9d-9a8a53d73e04] Started processing. Expecting 4 chunks.
2025-08-01 13:01:46,697 - INFO - MainProcess - Task a0492d96-208d-4a32-ba9d-9a8a53d73e04 has been started in the background.
2025-08-01 13:01:46,698 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 13:01:46] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 13:01:53,375 - INFO - MainProcess - [Task-a0492d96-208d-4a32-ba9d-9a8a53d73e04] Chunk 0 sent to stream queue.
2025-08-01 13:01:53,375 - INFO - MainProcess - >>>>>> Event: A formal task is starting. Switching to FORMAL stream. <<<<<<
2025-08-01 13:01:53,376 - INFO - MainProcess - [Task-a0492d96-208d-4a32-ba9d-9a8a53d73e04] Chunk 1 sent to stream queue.
2025-08-01 13:01:53,376 - INFO - MainProcess - Clearing media buffer queue (size: 4)...
2025-08-01 13:01:53,376 - INFO - MainProcess - [Task-a0492d96-208d-4a32-ba9d-9a8a53d73e04] Chunk 2 sent to stream queue.
2025-08-01 13:01:53,376 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 13:01:53,377 - INFO - MainProcess - [Task-a0492d96-208d-4a32-ba9d-9a8a53d73e04] Chunk 3 sent to stream queue.
2025-08-01 13:01:53,377 - INFO - MainProcess - [Task-a0492d96-208d-4a32-ba9d-9a8a53d73e04] All chunks processed and queued successfully.
2025-08-01 13:01:53,377 - INFO - MainProcess - [Task-a0492d96-208d-4a32-ba9d-9a8a53d73e04] Processor thread finished and cleaned up.
2025-08-01 13:01:53,387 - INFO - MainProcess - >>>>>> Event: All formal tasks finished and queue is drained. Switching back to IDLE. <<<<<<
2025-08-01 13:01:55,885 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_00.wav. Preparing tasks...
2025-08-01 13:01:56,001 - INFO - MainProcess - [Task-2c4217ab-32b5-4557-a300-34fa44d8b433] Started processing. Expecting 7 chunks.
2025-08-01 13:01:56,001 - INFO - MainProcess - Task 2c4217ab-32b5-4557-a300-34fa44d8b433 has been started in the background.
2025-08-01 13:01:56,002 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 13:01:56] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 13:02:00,418 - INFO - MainProcess - [Task-2c4217ab-32b5-4557-a300-34fa44d8b433] Chunk 0 sent to stream queue.
2025-08-01 13:02:00,423 - INFO - MainProcess - >>>>>> Event: A formal task is starting. Switching to FORMAL stream. <<<<<<
2025-08-01 13:02:00,424 - INFO - MainProcess - Clearing media buffer queue (size: 7)...
2025-08-01 13:02:00,424 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 13:02:00,751 - INFO - MainProcess - [Task-2c4217ab-32b5-4557-a300-34fa44d8b433] Chunk 1 sent to stream queue.
2025-08-01 13:02:00,980 - INFO - MainProcess - [Task-2c4217ab-32b5-4557-a300-34fa44d8b433] Chunk 2 sent to stream queue.
2025-08-01 13:02:01,371 - INFO - MainProcess - [Task-2c4217ab-32b5-4557-a300-34fa44d8b433] Chunk 3 sent to stream queue.
2025-08-01 13:02:01,611 - INFO - MainProcess - [Task-2c4217ab-32b5-4557-a300-34fa44d8b433] Chunk 4 sent to stream queue.
2025-08-01 13:02:02,076 - INFO - MainProcess - [Task-2c4217ab-32b5-4557-a300-34fa44d8b433] Chunk 5 sent to stream queue.
2025-08-01 13:02:02,076 - INFO - MainProcess - [Task-2c4217ab-32b5-4557-a300-34fa44d8b433] Chunk 6 sent to stream queue.
2025-08-01 13:02:02,077 - INFO - MainProcess - [Task-2c4217ab-32b5-4557-a300-34fa44d8b433] All chunks processed and queued successfully.
2025-08-01 13:02:02,077 - INFO - MainProcess - [Task-2c4217ab-32b5-4557-a300-34fa44d8b433] Processor thread finished and cleaned up.
2025-08-01 13:02:02,086 - INFO - MainProcess - >>>>>> Event: All formal tasks finished and queue is drained. Switching back to IDLE. <<<<<<
2025-08-01 13:02:04,073 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-08-01 13:02:04,172 - INFO - MainProcess - [Task-70d7abea-c0fd-4ce4-af29-cf0399361b48] Started processing. Expecting 4 chunks.
2025-08-01 13:02:04,172 - INFO - MainProcess - Task 70d7abea-c0fd-4ce4-af29-cf0399361b48 has been started in the background.
2025-08-01 13:02:04,173 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 13:02:04] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 13:02:08,740 - INFO - MainProcess - [Task-70d7abea-c0fd-4ce4-af29-cf0399361b48] Chunk 0 sent to stream queue.
2025-08-01 13:02:08,741 - INFO - MainProcess - >>>>>> Event: A formal task is starting. Switching to FORMAL stream. <<<<<<
2025-08-01 13:02:08,742 - INFO - MainProcess - Clearing media buffer queue (size: 7)...
2025-08-01 13:02:08,743 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 13:02:08,934 - INFO - MainProcess - [Task-70d7abea-c0fd-4ce4-af29-cf0399361b48] Chunk 1 sent to stream queue.
2025-08-01 13:02:09,573 - INFO - MainProcess - [Task-70d7abea-c0fd-4ce4-af29-cf0399361b48] Chunk 2 sent to stream queue.
2025-08-01 13:02:09,574 - INFO - MainProcess - [Task-70d7abea-c0fd-4ce4-af29-cf0399361b48] Chunk 3 sent to stream queue.
2025-08-01 13:02:09,574 - INFO - MainProcess - [Task-70d7abea-c0fd-4ce4-af29-cf0399361b48] All chunks processed and queued successfully.
2025-08-01 13:02:09,574 - INFO - MainProcess - [Task-70d7abea-c0fd-4ce4-af29-cf0399361b48] Processor thread finished and cleaned up.
2025-08-01 13:02:09,578 - INFO - MainProcess - >>>>>> Event: All formal tasks finished and queue is drained. Switching back to IDLE. <<<<<<
2025-08-01 13:02:24,364 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-08-01 13:02:24,477 - INFO - MainProcess - [Task-69a8882b-5182-4c78-9496-2200a3df52b4] Started processing. Expecting 4 chunks.
2025-08-01 13:02:24,477 - INFO - MainProcess - Task 69a8882b-5182-4c78-9496-2200a3df52b4 has been started in the background.
2025-08-01 13:02:24,478 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 13:02:24] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 13:02:29,019 - INFO - MainProcess - [Task-69a8882b-5182-4c78-9496-2200a3df52b4] Chunk 0 sent to stream queue.
2025-08-01 13:02:29,022 - INFO - MainProcess - >>>>>> Event: A formal task is starting. Switching to FORMAL stream. <<<<<<
2025-08-01 13:02:29,022 - INFO - MainProcess - Clearing media buffer queue (size: 6)...
2025-08-01 13:02:29,022 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 13:02:29,462 - INFO - MainProcess - [Task-69a8882b-5182-4c78-9496-2200a3df52b4] Chunk 1 sent to stream queue.
2025-08-01 13:02:29,694 - INFO - MainProcess - [Task-69a8882b-5182-4c78-9496-2200a3df52b4] Chunk 2 sent to stream queue.
2025-08-01 13:02:29,925 - INFO - MainProcess - [Task-69a8882b-5182-4c78-9496-2200a3df52b4] Chunk 3 sent to stream queue.
2025-08-01 13:02:29,926 - INFO - MainProcess - [Task-69a8882b-5182-4c78-9496-2200a3df52b4] All chunks processed and queued successfully.
2025-08-01 13:02:29,926 - INFO - MainProcess - [Task-69a8882b-5182-4c78-9496-2200a3df52b4] Processor thread finished and cleaned up.
2025-08-01 13:02:29,929 - INFO - MainProcess - >>>>>> Event: All formal tasks finished and queue is drained. Switching back to IDLE. <<<<<<
2025-08-01 13:02:32,493 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_00.wav. Preparing tasks...
2025-08-01 13:02:32,604 - INFO - MainProcess - [Task-17b71e9e-05b7-4605-a582-9c76791a4a1c] Started processing. Expecting 7 chunks.
2025-08-01 13:02:32,605 - INFO - MainProcess - Task 17b71e9e-05b7-4605-a582-9c76791a4a1c has been started in the background.
2025-08-01 13:02:32,606 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 13:02:32] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 13:02:37,169 - INFO - MainProcess - [Task-17b71e9e-05b7-4605-a582-9c76791a4a1c] Chunk 0 sent to stream queue.
2025-08-01 13:02:37,178 - INFO - MainProcess - >>>>>> Event: A formal task is starting. Switching to FORMAL stream. <<<<<<
2025-08-01 13:02:37,179 - INFO - MainProcess - Clearing media buffer queue (size: 6)...
2025-08-01 13:02:37,179 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 13:02:37,404 - INFO - MainProcess - [Task-17b71e9e-05b7-4605-a582-9c76791a4a1c] Chunk 1 sent to stream queue.
2025-08-01 13:02:37,666 - INFO - MainProcess - [Task-17b71e9e-05b7-4605-a582-9c76791a4a1c] Chunk 2 sent to stream queue.
2025-08-01 13:02:38,047 - INFO - MainProcess - [Task-17b71e9e-05b7-4605-a582-9c76791a4a1c] Chunk 3 sent to stream queue.
2025-08-01 13:02:38,285 - INFO - MainProcess - [Task-17b71e9e-05b7-4605-a582-9c76791a4a1c] Chunk 4 sent to stream queue.
2025-08-01 13:02:38,520 - INFO - MainProcess - [Task-17b71e9e-05b7-4605-a582-9c76791a4a1c] Chunk 5 sent to stream queue.
2025-08-01 13:02:38,745 - INFO - MainProcess - [Task-17b71e9e-05b7-4605-a582-9c76791a4a1c] Chunk 6 sent to stream queue.
2025-08-01 13:02:38,745 - INFO - MainProcess - [Task-17b71e9e-05b7-4605-a582-9c76791a4a1c] All chunks processed and queued successfully.
2025-08-01 13:02:38,745 - INFO - MainProcess - [Task-17b71e9e-05b7-4605-a582-9c76791a4a1c] Processor thread finished and cleaned up.
2025-08-01 13:02:38,749 - INFO - MainProcess - >>>>>> Event: All formal tasks finished and queue is drained. Switching back to IDLE. <<<<<<
2025-08-01 13:03:23,813 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_00.wav. Preparing tasks...
2025-08-01 13:03:23,925 - INFO - MainProcess - [Task-7a395e08-65bf-43f6-93f8-e91a402b53ec] Started processing. Expecting 7 chunks.
2025-08-01 13:03:23,925 - INFO - MainProcess - Task 7a395e08-65bf-43f6-93f8-e91a402b53ec has been started in the background.
2025-08-01 13:03:23,926 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 13:03:23] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 13:03:28,376 - INFO - MainProcess - [Task-7a395e08-65bf-43f6-93f8-e91a402b53ec] Chunk 0 sent to stream queue.
2025-08-01 13:03:28,381 - INFO - MainProcess - >>>>>> Event: A formal task is starting. Switching to FORMAL stream. <<<<<<
2025-08-01 13:03:28,381 - INFO - MainProcess - Clearing media buffer queue (size: 7)...
2025-08-01 13:03:28,381 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 13:03:28,766 - INFO - MainProcess - [Task-7a395e08-65bf-43f6-93f8-e91a402b53ec] Chunk 1 sent to stream queue.
2025-08-01 13:03:29,008 - INFO - MainProcess - [Task-7a395e08-65bf-43f6-93f8-e91a402b53ec] Chunk 2 sent to stream queue.
2025-08-01 13:03:29,264 - INFO - MainProcess - [Task-7a395e08-65bf-43f6-93f8-e91a402b53ec] Chunk 3 sent to stream queue.
2025-08-01 13:03:29,610 - INFO - MainProcess - [Task-7a395e08-65bf-43f6-93f8-e91a402b53ec] Chunk 4 sent to stream queue.
2025-08-01 13:03:29,959 - INFO - MainProcess - [Task-7a395e08-65bf-43f6-93f8-e91a402b53ec] Chunk 5 sent to stream queue.
2025-08-01 13:03:30,197 - INFO - MainProcess - [Task-7a395e08-65bf-43f6-93f8-e91a402b53ec] Chunk 6 sent to stream queue.
2025-08-01 13:03:30,197 - INFO - MainProcess - [Task-7a395e08-65bf-43f6-93f8-e91a402b53ec] All chunks processed and queued successfully.
2025-08-01 13:03:30,197 - INFO - MainProcess - [Task-7a395e08-65bf-43f6-93f8-e91a402b53ec] Processor thread finished and cleaned up.
2025-08-01 13:03:30,201 - INFO - MainProcess - >>>>>> Event: All formal tasks finished and queue is drained. Switching back to IDLE. <<<<<<
2025-08-01 13:03:31,104 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-08-01 13:03:31,204 - INFO - MainProcess - [Task-1bd90f46-cee9-477a-8d01-47fe2a079f36] Started processing. Expecting 4 chunks.
2025-08-01 13:03:31,204 - INFO - MainProcess - Task 1bd90f46-cee9-477a-8d01-47fe2a079f36 has been started in the background.
2025-08-01 13:03:31,205 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 13:03:31] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 13:03:35,641 - INFO - MainProcess - [Task-1bd90f46-cee9-477a-8d01-47fe2a079f36] Chunk 0 sent to stream queue.
2025-08-01 13:03:35,641 - INFO - MainProcess - >>>>>> Event: A formal task is starting. Switching to FORMAL stream. <<<<<<
2025-08-01 13:03:35,641 - INFO - MainProcess - Clearing media buffer queue (size: 7)...
2025-08-01 13:03:35,641 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 13:03:36,075 - INFO - MainProcess - [Task-1bd90f46-cee9-477a-8d01-47fe2a079f36] Chunk 1 sent to stream queue.
2025-08-01 13:03:36,337 - INFO - MainProcess - [Task-1bd90f46-cee9-477a-8d01-47fe2a079f36] Chunk 2 sent to stream queue.
2025-08-01 13:03:36,570 - INFO - MainProcess - [Task-1bd90f46-cee9-477a-8d01-47fe2a079f36] Chunk 3 sent to stream queue.
2025-08-01 13:03:36,571 - INFO - MainProcess - [Task-1bd90f46-cee9-477a-8d01-47fe2a079f36] All chunks processed and queued successfully.
2025-08-01 13:03:36,571 - INFO - MainProcess - [Task-1bd90f46-cee9-477a-8d01-47fe2a079f36] Processor thread finished and cleaned up.
2025-08-01 13:03:36,575 - INFO - MainProcess - >>>>>> Event: All formal tasks finished and queue is drained. Switching back to IDLE. <<<<<<
2025-08-01 13:03:38,339 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_00.wav. Preparing tasks...
2025-08-01 13:03:38,448 - INFO - MainProcess - [Task-995721eb-1da7-4303-b8a5-cf14376a2e51] Started processing. Expecting 7 chunks.
2025-08-01 13:03:38,448 - INFO - MainProcess - Task 995721eb-1da7-4303-b8a5-cf14376a2e51 has been started in the background.
2025-08-01 13:03:38,449 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 13:03:38] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 13:03:43,073 - INFO - MainProcess - [Task-995721eb-1da7-4303-b8a5-cf14376a2e51] Chunk 0 sent to stream queue.
2025-08-01 13:03:43,082 - INFO - MainProcess - >>>>>> Event: A formal task is starting. Switching to FORMAL stream. <<<<<<
2025-08-01 13:03:43,083 - INFO - MainProcess - Clearing media buffer queue (size: 6)...
2025-08-01 13:03:43,083 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 13:03:43,320 - INFO - MainProcess - [Task-995721eb-1da7-4303-b8a5-cf14376a2e51] Chunk 1 sent to stream queue.
2025-08-01 13:03:43,557 - INFO - MainProcess - [Task-995721eb-1da7-4303-b8a5-cf14376a2e51] Chunk 2 sent to stream queue.
2025-08-01 13:03:43,969 - INFO - MainProcess - [Task-995721eb-1da7-4303-b8a5-cf14376a2e51] Chunk 3 sent to stream queue.
2025-08-01 13:03:44,198 - INFO - MainProcess - [Task-995721eb-1da7-4303-b8a5-cf14376a2e51] Chunk 4 sent to stream queue.
2025-08-01 13:03:44,471 - INFO - MainProcess - [Task-995721eb-1da7-4303-b8a5-cf14376a2e51] Chunk 5 sent to stream queue.
2025-08-01 13:03:44,734 - INFO - MainProcess - [Task-995721eb-1da7-4303-b8a5-cf14376a2e51] Chunk 6 sent to stream queue.
2025-08-01 13:03:44,735 - INFO - MainProcess - [Task-995721eb-1da7-4303-b8a5-cf14376a2e51] All chunks processed and queued successfully.
2025-08-01 13:03:44,735 - INFO - MainProcess - [Task-995721eb-1da7-4303-b8a5-cf14376a2e51] Processor thread finished and cleaned up.
2025-08-01 13:03:44,745 - INFO - MainProcess - >>>>>> Event: All formal tasks finished and queue is drained. Switching back to IDLE. <<<<<<
2025-08-01 13:03:48,289 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_00.wav. Preparing tasks...
2025-08-01 13:03:48,401 - INFO - MainProcess - [Task-f847aab0-7afa-4465-a2dd-45e2134ded4b] Started processing. Expecting 7 chunks.
2025-08-01 13:03:48,401 - INFO - MainProcess - Task f847aab0-7afa-4465-a2dd-45e2134ded4b has been started in the background.
2025-08-01 13:03:48,402 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 13:03:48] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 13:03:52,897 - INFO - MainProcess - [Task-f847aab0-7afa-4465-a2dd-45e2134ded4b] Chunk 0 sent to stream queue.
2025-08-01 13:03:52,898 - INFO - MainProcess - >>>>>> Event: A formal task is starting. Switching to FORMAL stream. <<<<<<
2025-08-01 13:03:52,898 - INFO - MainProcess - Clearing media buffer queue (size: 6)...
2025-08-01 13:03:52,898 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 13:03:53,265 - INFO - MainProcess - [Task-f847aab0-7afa-4465-a2dd-45e2134ded4b] Chunk 1 sent to stream queue.
2025-08-01 13:03:53,602 - INFO - MainProcess - [Task-f847aab0-7afa-4465-a2dd-45e2134ded4b] Chunk 2 sent to stream queue.
2025-08-01 13:03:53,851 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-08-01 13:03:53,958 - INFO - MainProcess - [Task-f847aab0-7afa-4465-a2dd-45e2134ded4b] Chunk 3 sent to stream queue.
2025-08-01 13:03:54,091 - INFO - MainProcess - [Task-a2415639-7ce3-4f6b-86e9-4520e055eeb1] Started processing. Expecting 4 chunks.
2025-08-01 13:03:54,091 - INFO - MainProcess - Task a2415639-7ce3-4f6b-86e9-4520e055eeb1 has been started in the background.
2025-08-01 13:03:54,274 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 13:03:54] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 13:03:54,599 - INFO - MainProcess - [Task-f847aab0-7afa-4465-a2dd-45e2134ded4b] Chunk 4 sent to stream queue.
2025-08-01 13:03:55,167 - INFO - MainProcess - [Task-f847aab0-7afa-4465-a2dd-45e2134ded4b] Chunk 5 sent to stream queue.
2025-08-01 13:03:55,474 - INFO - MainProcess - [Task-f847aab0-7afa-4465-a2dd-45e2134ded4b] Chunk 6 sent to stream queue.
2025-08-01 13:03:55,474 - INFO - MainProcess - [Task-f847aab0-7afa-4465-a2dd-45e2134ded4b] All chunks processed and queued successfully.
2025-08-01 13:03:55,474 - INFO - MainProcess - [Task-f847aab0-7afa-4465-a2dd-45e2134ded4b] Processor thread finished and cleaned up.
2025-08-01 13:03:58,729 - INFO - MainProcess - [Task-a2415639-7ce3-4f6b-86e9-4520e055eeb1] Chunk 0 sent to stream queue.
2025-08-01 13:03:58,980 - INFO - MainProcess - [Task-a2415639-7ce3-4f6b-86e9-4520e055eeb1] Chunk 1 sent to stream queue.
2025-08-01 13:03:59,300 - INFO - MainProcess - [Task-a2415639-7ce3-4f6b-86e9-4520e055eeb1] Chunk 2 sent to stream queue.
2025-08-01 13:03:59,522 - INFO - MainProcess - [Task-a2415639-7ce3-4f6b-86e9-4520e055eeb1] Chunk 3 sent to stream queue.
2025-08-01 13:03:59,522 - INFO - MainProcess - [Task-a2415639-7ce3-4f6b-86e9-4520e055eeb1] All chunks processed and queued successfully.
2025-08-01 13:03:59,522 - INFO - MainProcess - [Task-a2415639-7ce3-4f6b-86e9-4520e055eeb1] Processor thread finished and cleaned up.
2025-08-01 13:03:59,527 - INFO - MainProcess - >>>>>> Event: All formal tasks finished and queue is drained. Switching back to IDLE. <<<<<<
2025-08-01 13:06:04,637 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-08-01 13:06:04,740 - INFO - MainProcess - [Task-c1aed79f-e273-4620-bfef-ad40308d41d0] Started processing. Expecting 4 chunks.
2025-08-01 13:06:04,740 - INFO - MainProcess - Task c1aed79f-e273-4620-bfef-ad40308d41d0 has been started in the background.
2025-08-01 13:06:04,741 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 13:06:04] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 13:06:09,099 - INFO - MainProcess - [Task-c1aed79f-e273-4620-bfef-ad40308d41d0] Chunk 0 sent to stream queue.
2025-08-01 13:06:09,103 - INFO - MainProcess - >>>>>> Event: A formal task is starting. Switching to FORMAL stream. <<<<<<
2025-08-01 13:06:09,104 - INFO - MainProcess - Clearing media buffer queue (size: 6)...
2025-08-01 13:06:09,104 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 13:06:09,432 - INFO - MainProcess - [Task-c1aed79f-e273-4620-bfef-ad40308d41d0] Chunk 1 sent to stream queue.
2025-08-01 13:06:09,658 - INFO - MainProcess - [Task-c1aed79f-e273-4620-bfef-ad40308d41d0] Chunk 2 sent to stream queue.
2025-08-01 13:06:10,016 - INFO - MainProcess - [Task-c1aed79f-e273-4620-bfef-ad40308d41d0] Chunk 3 sent to stream queue.
2025-08-01 13:06:10,016 - INFO - MainProcess - [Task-c1aed79f-e273-4620-bfef-ad40308d41d0] All chunks processed and queued successfully.
2025-08-01 13:06:10,016 - INFO - MainProcess - [Task-c1aed79f-e273-4620-bfef-ad40308d41d0] Processor thread finished and cleaned up.
2025-08-01 13:06:10,026 - INFO - MainProcess - >>>>>> Event: All formal tasks finished and queue is drained. Switching back to IDLE. <<<<<<
2025-08-01 13:06:10,777 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_00.wav. Preparing tasks...
2025-08-01 13:06:10,887 - INFO - MainProcess - [Task-5e69469d-6880-4dd9-b7c2-d5f11b1ac802] Started processing. Expecting 7 chunks.
2025-08-01 13:06:10,887 - INFO - MainProcess - Task 5e69469d-6880-4dd9-b7c2-d5f11b1ac802 has been started in the background.
2025-08-01 13:06:10,888 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 13:06:10] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 13:06:15,381 - INFO - MainProcess - [Task-5e69469d-6880-4dd9-b7c2-d5f11b1ac802] Chunk 0 sent to stream queue.
2025-08-01 13:06:15,391 - INFO - MainProcess - >>>>>> Event: A formal task is starting. Switching to FORMAL stream. <<<<<<
2025-08-01 13:06:15,391 - INFO - MainProcess - Clearing media buffer queue (size: 7)...
2025-08-01 13:06:15,391 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 13:06:15,744 - INFO - MainProcess - [Task-5e69469d-6880-4dd9-b7c2-d5f11b1ac802] Chunk 1 sent to stream queue.
2025-08-01 13:06:16,027 - INFO - MainProcess - [Task-5e69469d-6880-4dd9-b7c2-d5f11b1ac802] Chunk 2 sent to stream queue.
2025-08-01 13:06:16,420 - INFO - MainProcess - [Task-5e69469d-6880-4dd9-b7c2-d5f11b1ac802] Chunk 3 sent to stream queue.
2025-08-01 13:06:16,673 - INFO - MainProcess - [Task-5e69469d-6880-4dd9-b7c2-d5f11b1ac802] Chunk 4 sent to stream queue.
2025-08-01 13:06:16,927 - INFO - MainProcess - [Task-5e69469d-6880-4dd9-b7c2-d5f11b1ac802] Chunk 5 sent to stream queue.
2025-08-01 13:06:17,155 - INFO - MainProcess - [Task-5e69469d-6880-4dd9-b7c2-d5f11b1ac802] Chunk 6 sent to stream queue.
2025-08-01 13:06:17,156 - INFO - MainProcess - [Task-5e69469d-6880-4dd9-b7c2-d5f11b1ac802] All chunks processed and queued successfully.
2025-08-01 13:06:17,156 - INFO - MainProcess - [Task-5e69469d-6880-4dd9-b7c2-d5f11b1ac802] Processor thread finished and cleaned up.
2025-08-01 13:06:17,158 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-08-01 13:06:17,160 - INFO - MainProcess - >>>>>> Event: All formal tasks finished and queue is drained. Switching back to IDLE. <<<<<<
2025-08-01 13:06:17,248 - INFO - MainProcess - [Task-7bb82970-00d4-4fa4-a9ae-24a33e7bd481] Started processing. Expecting 4 chunks.
2025-08-01 13:06:17,248 - INFO - MainProcess - Task 7bb82970-00d4-4fa4-a9ae-24a33e7bd481 has been started in the background.
2025-08-01 13:06:17,249 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 13:06:17] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 13:06:21,755 - INFO - MainProcess - [Task-7bb82970-00d4-4fa4-a9ae-24a33e7bd481] Chunk 0 sent to stream queue.
2025-08-01 13:06:21,759 - INFO - MainProcess - >>>>>> Event: A formal task is starting. Switching to FORMAL stream. <<<<<<
2025-08-01 13:06:21,760 - INFO - MainProcess - Clearing media buffer queue (size: 7)...
2025-08-01 13:06:21,774 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 13:06:22,313 - INFO - MainProcess - [Task-7bb82970-00d4-4fa4-a9ae-24a33e7bd481] Chunk 1 sent to stream queue.
2025-08-01 13:06:22,554 - INFO - MainProcess - [Task-7bb82970-00d4-4fa4-a9ae-24a33e7bd481] Chunk 2 sent to stream queue.
2025-08-01 13:06:22,598 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_00.wav. Preparing tasks...
2025-08-01 13:06:22,798 - INFO - MainProcess - [Task-9081724b-e971-4cb2-b3ba-9a4c8d14a4c4] Started processing. Expecting 7 chunks.
2025-08-01 13:06:22,799 - INFO - MainProcess - Task 9081724b-e971-4cb2-b3ba-9a4c8d14a4c4 has been started in the background.
2025-08-01 13:06:23,015 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 13:06:23] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 13:06:23,105 - INFO - MainProcess - [Task-7bb82970-00d4-4fa4-a9ae-24a33e7bd481] Chunk 3 sent to stream queue.
2025-08-01 13:06:23,105 - INFO - MainProcess - [Task-7bb82970-00d4-4fa4-a9ae-24a33e7bd481] All chunks processed and queued successfully.
2025-08-01 13:06:23,105 - INFO - MainProcess - [Task-7bb82970-00d4-4fa4-a9ae-24a33e7bd481] Processor thread finished and cleaned up.
2025-08-01 13:06:27,458 - INFO - MainProcess - [Task-9081724b-e971-4cb2-b3ba-9a4c8d14a4c4] Chunk 0 sent to stream queue.
2025-08-01 13:06:27,714 - INFO - MainProcess - [Task-9081724b-e971-4cb2-b3ba-9a4c8d14a4c4] Chunk 1 sent to stream queue.
2025-08-01 13:06:27,957 - INFO - MainProcess - [Task-9081724b-e971-4cb2-b3ba-9a4c8d14a4c4] Chunk 2 sent to stream queue.
2025-08-01 13:06:28,178 - INFO - MainProcess - [Task-9081724b-e971-4cb2-b3ba-9a4c8d14a4c4] Chunk 3 sent to stream queue.
2025-08-01 13:06:28,424 - INFO - MainProcess - [Task-9081724b-e971-4cb2-b3ba-9a4c8d14a4c4] Chunk 4 sent to stream queue.
2025-08-01 13:06:29,014 - INFO - MainProcess - [Task-9081724b-e971-4cb2-b3ba-9a4c8d14a4c4] Chunk 5 sent to stream queue.
2025-08-01 13:06:29,015 - INFO - MainProcess - [Task-9081724b-e971-4cb2-b3ba-9a4c8d14a4c4] Chunk 6 sent to stream queue.
2025-08-01 13:06:29,015 - INFO - MainProcess - [Task-9081724b-e971-4cb2-b3ba-9a4c8d14a4c4] All chunks processed and queued successfully.
2025-08-01 13:06:29,015 - INFO - MainProcess - [Task-9081724b-e971-4cb2-b3ba-9a4c8d14a4c4] Processor thread finished and cleaned up.
2025-08-01 13:06:29,025 - INFO - MainProcess - >>>>>> Event: All formal tasks finished and queue is drained. Switching back to IDLE. <<<<<<
2025-08-01 13:15:27,420 - ERROR - MainProcess - Video pipe write error: [Errno 32] Broken pipe
2025-08-01 13:15:27,420 - ERROR - MainProcess - Audio pipe write error: [Errno 32] Broken pipe
2025-08-01 13:15:27,421 - INFO - MainProcess - Video writer thread finished.
2025-08-01 13:15:27,421 - INFO - MainProcess - Audio writer thread finished.
2025-08-01 13:15:33,959 - INFO - MainProcess - Starting Flask service...
2025-08-01 13:15:33,959 - INFO - MainProcess - Loading models and creating worker pool...
2025-08-01 13:15:33,959 - INFO - MainProcess - Loading configuration file...
2025-08-01 13:15:33,971 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-08-01 13:15:33,971 - INFO - MainProcess - Loading model components...
2025-08-01 13:15:45,626 - INFO - MainProcess - All components loaded successfully.
2025-08-01 13:15:45,626 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-08-01 13:15:45,712 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-08-01 13:15:45,712 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-08-01 13:16:08,475 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-08-01 13:16:08,476 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-08-01 13:16:08,491 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-08-01 13:16:08,542 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-08-01 13:16:08,542 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-08-01 13:16:08,542 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-08-01 13:16:11,337 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-08-01 13:16:12,201 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-08-01 13:16:12,202 - INFO - MainProcess - Starting the Streaming Controller...
2025-08-01 13:16:12,204 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-08-01 13:16:12,204 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-08-01 13:16:12,316 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-08-01 13:16:12,317 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-08-01 13:16:12,320 - INFO - MainProcess - Media dispatcher thread started.
2025-08-01 13:16:12,323 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-08-01 13:16:12,323 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-08-01 13:16:12,350 - INFO - MainProcess - Video pipe opened for writing.
2025-08-01 13:16:12,354 - INFO - MainProcess - Audio pipe opened for writing.
2025-08-01 13:18:17,308 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-08-01 13:18:17,509 - INFO - MainProcess - [Task-dbd97d13-51d8-49a3-a06f-3e761c782ca2] Started processing. Expecting 4 chunks.
2025-08-01 13:18:17,509 - INFO - MainProcess - Task dbd97d13-51d8-49a3-a06f-3e761c782ca2 has been started in the background.
2025-08-01 13:18:17,510 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 13:18:17] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 13:18:18,488 - INFO - MainProcess - >>>>>> Event: Smooth handover initiated. Draining 10 idle chunks. <<<<<<
2025-08-01 13:18:24,253 - INFO - MainProcess - [Task-dbd97d13-51d8-49a3-a06f-3e761c782ca2] Chunk 0 sent to stream queue.
2025-08-01 13:18:24,254 - INFO - MainProcess - Handover: Processing formal video with silent audio. 9 chunks left.
2025-08-01 13:18:24,625 - INFO - MainProcess - [Task-dbd97d13-51d8-49a3-a06f-3e761c782ca2] Chunk 1 sent to stream queue.
2025-08-01 13:18:24,625 - INFO - MainProcess - Handover: Processing formal video with silent audio. 8 chunks left.
2025-08-01 13:18:25,269 - INFO - MainProcess - [Task-dbd97d13-51d8-49a3-a06f-3e761c782ca2] Chunk 2 sent to stream queue.
2025-08-01 13:18:25,270 - INFO - MainProcess - Handover: Processing formal video with silent audio. 7 chunks left.
2025-08-01 13:18:25,270 - INFO - MainProcess - [Task-dbd97d13-51d8-49a3-a06f-3e761c782ca2] Chunk 3 sent to stream queue.
2025-08-01 13:18:25,270 - INFO - MainProcess - [Task-dbd97d13-51d8-49a3-a06f-3e761c782ca2] All chunks processed and queued successfully.
2025-08-01 13:18:25,270 - INFO - MainProcess - [Task-dbd97d13-51d8-49a3-a06f-3e761c782ca2] Processor thread finished and cleaned up.
2025-08-01 13:18:25,270 - INFO - MainProcess - Handover: Processing formal video with silent audio. 6 chunks left.
2025-08-01 13:18:25,271 - INFO - MainProcess - >>>>>> Event: All formal tasks finished. Switching back to IDLE. <<<<<<
2025-08-01 13:18:50,803 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_00.wav. Preparing tasks...
2025-08-01 13:18:50,922 - INFO - MainProcess - [Task-0bb06862-f0f6-4892-a0d1-cdba800142db] Started processing. Expecting 7 chunks.
2025-08-01 13:18:50,922 - INFO - MainProcess - Task 0bb06862-f0f6-4892-a0d1-cdba800142db has been started in the background.
2025-08-01 13:18:50,923 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 13:18:50] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 13:18:51,663 - INFO - MainProcess - >>>>>> Event: Smooth handover initiated. Draining 10 idle chunks. <<<<<<
2025-08-01 13:18:57,521 - INFO - MainProcess - [Task-0bb06862-f0f6-4892-a0d1-cdba800142db] Chunk 0 sent to stream queue.
2025-08-01 13:18:57,522 - INFO - MainProcess - Handover: Processing formal video with silent audio. 9 chunks left.
2025-08-01 13:18:58,257 - INFO - MainProcess - [Task-0bb06862-f0f6-4892-a0d1-cdba800142db] Chunk 1 sent to stream queue.
2025-08-01 13:18:58,257 - INFO - MainProcess - Handover: Processing formal video with silent audio. 8 chunks left.
2025-08-01 13:18:58,505 - INFO - MainProcess - [Task-0bb06862-f0f6-4892-a0d1-cdba800142db] Chunk 2 sent to stream queue.
2025-08-01 13:18:58,506 - INFO - MainProcess - Handover: Processing formal video with silent audio. 7 chunks left.
2025-08-01 13:18:58,735 - INFO - MainProcess - [Task-0bb06862-f0f6-4892-a0d1-cdba800142db] Chunk 3 sent to stream queue.
2025-08-01 13:18:58,735 - INFO - MainProcess - Handover: Processing formal video with silent audio. 6 chunks left.
2025-08-01 13:18:58,735 - INFO - MainProcess - [Task-0bb06862-f0f6-4892-a0d1-cdba800142db] Chunk 4 sent to stream queue.
2025-08-01 13:18:58,736 - INFO - MainProcess - Handover: Processing formal video with silent audio. 5 chunks left.
2025-08-01 13:18:58,736 - INFO - MainProcess - [Task-0bb06862-f0f6-4892-a0d1-cdba800142db] Chunk 5 sent to stream queue.
2025-08-01 13:18:58,736 - INFO - MainProcess - Handover: Processing formal video with silent audio. 4 chunks left.
2025-08-01 13:18:58,737 - INFO - MainProcess - [Task-0bb06862-f0f6-4892-a0d1-cdba800142db] Chunk 6 sent to stream queue.
2025-08-01 13:18:58,737 - INFO - MainProcess - Handover: Processing formal video with silent audio. 3 chunks left.
2025-08-01 13:18:58,737 - INFO - MainProcess - [Task-0bb06862-f0f6-4892-a0d1-cdba800142db] All chunks processed and queued successfully.
2025-08-01 13:18:58,737 - INFO - MainProcess - [Task-0bb06862-f0f6-4892-a0d1-cdba800142db] Processor thread finished and cleaned up.
2025-08-01 13:18:58,738 - INFO - MainProcess - >>>>>> Event: All formal tasks finished. Switching back to IDLE. <<<<<<
2025-08-01 13:19:04,026 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-08-01 13:19:04,125 - INFO - MainProcess - [Task-8856505b-e964-4605-be3b-7deb4271f704] Started processing. Expecting 4 chunks.
2025-08-01 13:19:04,125 - INFO - MainProcess - Task 8856505b-e964-4605-be3b-7deb4271f704 has been started in the background.
2025-08-01 13:19:04,126 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 13:19:04] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 13:19:04,517 - INFO - MainProcess - >>>>>> Event: Smooth handover initiated. Draining 10 idle chunks. <<<<<<
2025-08-01 13:19:08,404 - INFO - MainProcess - [Task-8856505b-e964-4605-be3b-7deb4271f704] Chunk 0 sent to stream queue.
2025-08-01 13:19:08,404 - INFO - MainProcess - Handover: Processing formal video with silent audio. 9 chunks left.
2025-08-01 13:19:08,744 - INFO - MainProcess - [Task-8856505b-e964-4605-be3b-7deb4271f704] Chunk 1 sent to stream queue.
2025-08-01 13:19:08,744 - INFO - MainProcess - Handover: Processing formal video with silent audio. 8 chunks left.
2025-08-01 13:19:09,359 - INFO - MainProcess - [Task-8856505b-e964-4605-be3b-7deb4271f704] Chunk 2 sent to stream queue.
2025-08-01 13:19:09,360 - INFO - MainProcess - Handover: Processing formal video with silent audio. 7 chunks left.
2025-08-01 13:19:09,588 - INFO - MainProcess - [Task-8856505b-e964-4605-be3b-7deb4271f704] Chunk 3 sent to stream queue.
2025-08-01 13:19:09,589 - INFO - MainProcess - [Task-8856505b-e964-4605-be3b-7deb4271f704] All chunks processed and queued successfully.
2025-08-01 13:19:09,589 - INFO - MainProcess - [Task-8856505b-e964-4605-be3b-7deb4271f704] Processor thread finished and cleaned up.
2025-08-01 13:19:09,590 - INFO - MainProcess - Handover: Processing formal video with silent audio. 6 chunks left.
2025-08-01 13:19:09,590 - INFO - MainProcess - >>>>>> Event: All formal tasks finished. Switching back to IDLE. <<<<<<
2025-08-01 13:20:16,635 - ERROR - MainProcess - Video pipe write error: [Errno 32] Broken pipe
2025-08-01 13:20:16,636 - ERROR - MainProcess - Audio pipe write error: [Errno 32] Broken pipe
2025-08-01 13:20:16,636 - INFO - MainProcess - Video writer thread finished.
2025-08-01 13:20:16,636 - INFO - MainProcess - Audio writer thread finished.
2025-08-01 13:20:23,424 - INFO - MainProcess - Starting Flask service...
2025-08-01 13:20:23,424 - INFO - MainProcess - Loading models and creating worker pool...
2025-08-01 13:20:23,424 - INFO - MainProcess - Loading configuration file...
2025-08-01 13:20:23,437 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-08-01 13:20:23,437 - INFO - MainProcess - Loading model components...
2025-08-01 13:20:34,265 - INFO - MainProcess - All components loaded successfully.
2025-08-01 13:20:34,266 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-08-01 13:20:34,364 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-08-01 13:20:34,364 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-08-01 13:20:57,122 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-08-01 13:20:57,122 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-08-01 13:20:57,136 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-08-01 13:20:57,184 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-08-01 13:20:57,185 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-08-01 13:20:57,185 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-08-01 13:21:00,148 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-08-01 13:21:01,027 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-08-01 13:21:01,028 - INFO - MainProcess - Starting the Streaming Controller...
2025-08-01 13:21:01,028 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-08-01 13:21:01,029 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-08-01 13:21:01,035 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-08-01 13:21:01,182 - INFO - MainProcess - Video pipe opened for writing.
2025-08-01 13:21:01,183 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-08-01 13:21:01,184 - INFO - MainProcess - Media dispatcher thread started.
2025-08-01 13:21:01,191 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-08-01 13:21:01,191 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-08-01 13:21:01,192 - INFO - MainProcess - Audio pipe opened for writing.
2025-08-01 13:21:37,461 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-08-01 13:21:37,677 - INFO - MainProcess - [Task-aa213f70-88df-45f6-8c80-b9f14243d841] Started processing. Expecting 4 chunks.
2025-08-01 13:21:37,677 - INFO - MainProcess - Task aa213f70-88df-45f6-8c80-b9f14243d841 has been started in the background.
2025-08-01 13:21:37,679 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 13:21:37] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 13:21:44,620 - INFO - MainProcess - [Task-aa213f70-88df-45f6-8c80-b9f14243d841] Chunk 0 sent to stream queue.
2025-08-01 13:21:44,624 - INFO - MainProcess - >>>>>> Event: A formal task is starting. Switching to FORMAL stream. <<<<<<
2025-08-01 13:21:44,625 - INFO - MainProcess - Clearing media buffer queue (size: 0)...
2025-08-01 13:21:44,625 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 13:21:45,424 - INFO - MainProcess - [Task-aa213f70-88df-45f6-8c80-b9f14243d841] Chunk 1 sent to stream queue.
2025-08-01 13:21:45,424 - INFO - MainProcess - [Task-aa213f70-88df-45f6-8c80-b9f14243d841] Chunk 2 sent to stream queue.
2025-08-01 13:21:45,424 - INFO - MainProcess - [Task-aa213f70-88df-45f6-8c80-b9f14243d841] Chunk 3 sent to stream queue.
2025-08-01 13:21:45,424 - INFO - MainProcess - [Task-aa213f70-88df-45f6-8c80-b9f14243d841] All chunks processed and queued successfully.
2025-08-01 13:21:45,425 - INFO - MainProcess - [Task-aa213f70-88df-45f6-8c80-b9f14243d841] Processor thread finished and cleaned up.
2025-08-01 13:21:45,429 - INFO - MainProcess - >>>>>> Event: All formal tasks finished and queue is drained. Switching back to IDLE. <<<<<<
2025-08-01 13:21:46,493 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_00.wav. Preparing tasks...
2025-08-01 13:21:46,607 - INFO - MainProcess - [Task-e52803b2-7221-456c-bbf3-b60cea4f48cc] Started processing. Expecting 7 chunks.
2025-08-01 13:21:46,607 - INFO - MainProcess - Task e52803b2-7221-456c-bbf3-b60cea4f48cc has been started in the background.
2025-08-01 13:21:46,608 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 13:21:46] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 13:21:53,226 - INFO - MainProcess - [Task-e52803b2-7221-456c-bbf3-b60cea4f48cc] Chunk 0 sent to stream queue.
2025-08-01 13:21:53,236 - INFO - MainProcess - >>>>>> Event: A formal task is starting. Switching to FORMAL stream. <<<<<<
2025-08-01 13:21:53,237 - INFO - MainProcess - Clearing media buffer queue (size: 0)...
2025-08-01 13:21:53,237 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 13:21:53,517 - INFO - MainProcess - [Task-e52803b2-7221-456c-bbf3-b60cea4f48cc] Chunk 1 sent to stream queue.
2025-08-01 13:21:53,709 - INFO - MainProcess - [Task-e52803b2-7221-456c-bbf3-b60cea4f48cc] Chunk 2 sent to stream queue.
2025-08-01 13:21:54,223 - INFO - MainProcess - [Task-e52803b2-7221-456c-bbf3-b60cea4f48cc] Chunk 3 sent to stream queue.
2025-08-01 13:21:54,223 - INFO - MainProcess - [Task-e52803b2-7221-456c-bbf3-b60cea4f48cc] Chunk 4 sent to stream queue.
2025-08-01 13:21:54,223 - INFO - MainProcess - [Task-e52803b2-7221-456c-bbf3-b60cea4f48cc] Chunk 5 sent to stream queue.
2025-08-01 13:21:54,223 - INFO - MainProcess - [Task-e52803b2-7221-456c-bbf3-b60cea4f48cc] Chunk 6 sent to stream queue.
2025-08-01 13:21:54,224 - INFO - MainProcess - [Task-e52803b2-7221-456c-bbf3-b60cea4f48cc] All chunks processed and queued successfully.
2025-08-01 13:21:54,224 - INFO - MainProcess - [Task-e52803b2-7221-456c-bbf3-b60cea4f48cc] Processor thread finished and cleaned up.
2025-08-01 13:21:54,321 - INFO - MainProcess - >>>>>> Event: All formal tasks finished and queue is drained. Switching back to IDLE. <<<<<<
2025-08-01 13:23:02,849 - ERROR - MainProcess - Video pipe write error: [Errno 32] Broken pipe
2025-08-01 13:23:02,849 - ERROR - MainProcess - Audio pipe write error: [Errno 32] Broken pipe
2025-08-01 13:23:02,849 - INFO - MainProcess - Video writer thread finished.
2025-08-01 13:23:02,849 - INFO - MainProcess - Audio writer thread finished.
2025-08-01 13:23:10,016 - INFO - MainProcess - Starting Flask service...
2025-08-01 13:23:10,016 - INFO - MainProcess - Loading models and creating worker pool...
2025-08-01 13:23:10,016 - INFO - MainProcess - Loading configuration file...
2025-08-01 13:23:10,029 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-08-01 13:23:10,029 - INFO - MainProcess - Loading model components...
2025-08-01 13:23:20,808 - INFO - MainProcess - All components loaded successfully.
2025-08-01 13:23:20,808 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-08-01 13:23:20,902 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-08-01 13:23:20,902 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-08-01 13:23:43,960 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-08-01 13:23:43,960 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-08-01 13:23:43,974 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-08-01 13:23:44,020 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-08-01 13:23:44,021 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-08-01 13:23:44,021 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-08-01 13:23:46,799 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-08-01 13:23:47,646 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-08-01 13:23:47,646 - INFO - MainProcess - Starting the Streaming Controller...
2025-08-01 13:23:47,647 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-08-01 13:23:47,647 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-08-01 13:23:47,647 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-08-01 13:23:47,811 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-08-01 13:23:47,812 - INFO - MainProcess - Video pipe opened for writing.
2025-08-01 13:23:47,813 - INFO - MainProcess - Media dispatcher thread started.
2025-08-01 13:23:47,822 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-08-01 13:23:47,822 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-08-01 13:23:47,823 - INFO - MainProcess - Audio pipe opened for writing.
2025-08-01 13:25:35,171 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-08-01 13:25:35,368 - INFO - MainProcess - [Task-1c2bdd56-10bc-4e07-8a88-d64ef28179f0] Started processing. Expecting 4 chunks.
2025-08-01 13:25:35,368 - INFO - MainProcess - Task 1c2bdd56-10bc-4e07-8a88-d64ef28179f0 has been started in the background.
2025-08-01 13:25:35,369 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 13:25:35] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 13:25:41,833 - INFO - MainProcess - [Task-1c2bdd56-10bc-4e07-8a88-d64ef28179f0] Chunk 0 sent to stream queue.
2025-08-01 13:25:41,838 - INFO - MainProcess - >>>>>> Event: A formal task is starting. Switching to FORMAL stream. <<<<<<
2025-08-01 13:25:41,838 - INFO - MainProcess - Clearing media buffer queue (size: 0)...
2025-08-01 13:25:41,839 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 13:25:42,392 - INFO - MainProcess - [Task-1c2bdd56-10bc-4e07-8a88-d64ef28179f0] Chunk 1 sent to stream queue.
2025-08-01 13:25:42,561 - INFO - MainProcess - [Task-1c2bdd56-10bc-4e07-8a88-d64ef28179f0] Chunk 2 sent to stream queue.
2025-08-01 13:25:43,355 - INFO - MainProcess - [Task-1c2bdd56-10bc-4e07-8a88-d64ef28179f0] Chunk 3 sent to stream queue.
2025-08-01 13:25:43,355 - INFO - MainProcess - [Task-1c2bdd56-10bc-4e07-8a88-d64ef28179f0] All chunks processed and queued successfully.
2025-08-01 13:25:43,355 - INFO - MainProcess - [Task-1c2bdd56-10bc-4e07-8a88-d64ef28179f0] Processor thread finished and cleaned up.
2025-08-01 13:25:43,360 - INFO - MainProcess - >>>>>> Event: All formal tasks finished and queue is drained. Switching back to IDLE. <<<<<<
2025-08-01 13:25:50,479 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_00.wav. Preparing tasks...
2025-08-01 13:25:50,593 - INFO - MainProcess - [Task-e3f2199f-0e9a-4b8c-aa4c-659ee91c31e6] Started processing. Expecting 7 chunks.
2025-08-01 13:25:50,593 - INFO - MainProcess - Task e3f2199f-0e9a-4b8c-aa4c-659ee91c31e6 has been started in the background.
2025-08-01 13:25:50,788 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 13:25:50] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 13:25:57,255 - INFO - MainProcess - [Task-e3f2199f-0e9a-4b8c-aa4c-659ee91c31e6] Chunk 0 sent to stream queue.
2025-08-01 13:25:57,264 - INFO - MainProcess - >>>>>> Event: A formal task is starting. Switching to FORMAL stream. <<<<<<
2025-08-01 13:25:57,265 - INFO - MainProcess - Clearing media buffer queue (size: 0)...
2025-08-01 13:25:57,265 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 13:25:57,639 - INFO - MainProcess - [Task-e3f2199f-0e9a-4b8c-aa4c-659ee91c31e6] Chunk 1 sent to stream queue.
2025-08-01 13:25:57,935 - INFO - MainProcess - [Task-e3f2199f-0e9a-4b8c-aa4c-659ee91c31e6] Chunk 2 sent to stream queue.
2025-08-01 13:25:58,290 - INFO - MainProcess - [Task-e3f2199f-0e9a-4b8c-aa4c-659ee91c31e6] Chunk 3 sent to stream queue.
2025-08-01 13:25:58,290 - INFO - MainProcess - [Task-e3f2199f-0e9a-4b8c-aa4c-659ee91c31e6] Chunk 4 sent to stream queue.
2025-08-01 13:25:58,291 - INFO - MainProcess - [Task-e3f2199f-0e9a-4b8c-aa4c-659ee91c31e6] Chunk 5 sent to stream queue.
2025-08-01 13:25:58,291 - INFO - MainProcess - [Task-e3f2199f-0e9a-4b8c-aa4c-659ee91c31e6] Chunk 6 sent to stream queue.
2025-08-01 13:25:58,291 - INFO - MainProcess - [Task-e3f2199f-0e9a-4b8c-aa4c-659ee91c31e6] All chunks processed and queued successfully.
2025-08-01 13:25:58,291 - INFO - MainProcess - [Task-e3f2199f-0e9a-4b8c-aa4c-659ee91c31e6] Processor thread finished and cleaned up.
2025-08-01 13:25:58,295 - INFO - MainProcess - >>>>>> Event: All formal tasks finished and queue is drained. Switching back to IDLE. <<<<<<
2025-08-01 13:26:05,085 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-08-01 13:26:05,192 - INFO - MainProcess - [Task-39f3083f-a21b-416c-8ec3-6de6164cfa4e] Started processing. Expecting 4 chunks.
2025-08-01 13:26:05,192 - INFO - MainProcess - Task 39f3083f-a21b-416c-8ec3-6de6164cfa4e has been started in the background.
2025-08-01 13:26:05,366 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 13:26:05] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 13:26:09,635 - INFO - MainProcess - [Task-39f3083f-a21b-416c-8ec3-6de6164cfa4e] Chunk 0 sent to stream queue.
2025-08-01 13:26:09,639 - INFO - MainProcess - >>>>>> Event: A formal task is starting. Switching to FORMAL stream. <<<<<<
2025-08-01 13:26:09,640 - INFO - MainProcess - Clearing media buffer queue (size: 2)...
2025-08-01 13:26:09,640 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 13:26:09,840 - INFO - MainProcess - [Task-39f3083f-a21b-416c-8ec3-6de6164cfa4e] Chunk 1 sent to stream queue.
2025-08-01 13:26:10,046 - INFO - MainProcess - [Task-39f3083f-a21b-416c-8ec3-6de6164cfa4e] Chunk 2 sent to stream queue.
2025-08-01 13:26:10,328 - INFO - MainProcess - [Task-39f3083f-a21b-416c-8ec3-6de6164cfa4e] Chunk 3 sent to stream queue.
2025-08-01 13:26:10,328 - INFO - MainProcess - [Task-39f3083f-a21b-416c-8ec3-6de6164cfa4e] All chunks processed and queued successfully.
2025-08-01 13:26:10,328 - INFO - MainProcess - [Task-39f3083f-a21b-416c-8ec3-6de6164cfa4e] Processor thread finished and cleaned up.
2025-08-01 13:26:10,332 - INFO - MainProcess - >>>>>> Event: All formal tasks finished and queue is drained. Switching back to IDLE. <<<<<<
2025-08-01 13:26:16,319 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-08-01 13:26:16,413 - INFO - MainProcess - [Task-cc9cec56-53ca-4304-867a-440906b6de11] Started processing. Expecting 4 chunks.
2025-08-01 13:26:16,413 - INFO - MainProcess - Task cc9cec56-53ca-4304-867a-440906b6de11 has been started in the background.
2025-08-01 13:26:16,414 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 13:26:16] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 13:26:20,508 - INFO - MainProcess - [Task-cc9cec56-53ca-4304-867a-440906b6de11] Chunk 0 sent to stream queue.
2025-08-01 13:26:20,512 - INFO - MainProcess - >>>>>> Event: A formal task is starting. Switching to FORMAL stream. <<<<<<
2025-08-01 13:26:20,513 - INFO - MainProcess - Clearing media buffer queue (size: 2)...
2025-08-01 13:26:20,513 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 13:26:21,226 - INFO - MainProcess - [Task-cc9cec56-53ca-4304-867a-440906b6de11] Chunk 1 sent to stream queue.
2025-08-01 13:26:21,477 - INFO - MainProcess - [Task-cc9cec56-53ca-4304-867a-440906b6de11] Chunk 2 sent to stream queue.
2025-08-01 13:26:21,699 - INFO - MainProcess - [Task-cc9cec56-53ca-4304-867a-440906b6de11] Chunk 3 sent to stream queue.
2025-08-01 13:26:21,700 - INFO - MainProcess - [Task-cc9cec56-53ca-4304-867a-440906b6de11] All chunks processed and queued successfully.
2025-08-01 13:26:21,700 - INFO - MainProcess - [Task-cc9cec56-53ca-4304-867a-440906b6de11] Processor thread finished and cleaned up.
2025-08-01 13:26:21,710 - INFO - MainProcess - >>>>>> Event: All formal tasks finished and queue is drained. Switching back to IDLE. <<<<<<
2025-08-01 13:26:24,526 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_00.wav. Preparing tasks...
2025-08-01 13:26:24,639 - INFO - MainProcess - [Task-64bc8432-e484-44cf-b3f1-8a0a7ed179f7] Started processing. Expecting 7 chunks.
2025-08-01 13:26:24,639 - INFO - MainProcess - Task 64bc8432-e484-44cf-b3f1-8a0a7ed179f7 has been started in the background.
2025-08-01 13:26:24,640 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 13:26:24] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 13:26:29,022 - INFO - MainProcess - [Task-64bc8432-e484-44cf-b3f1-8a0a7ed179f7] Chunk 0 sent to stream queue.
2025-08-01 13:26:29,023 - INFO - MainProcess - >>>>>> Event: A formal task is starting. Switching to FORMAL stream. <<<<<<
2025-08-01 13:26:29,023 - INFO - MainProcess - Clearing media buffer queue (size: 1)...
2025-08-01 13:26:29,023 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 13:26:29,258 - INFO - MainProcess - [Task-64bc8432-e484-44cf-b3f1-8a0a7ed179f7] Chunk 1 sent to stream queue.
2025-08-01 13:26:29,508 - INFO - MainProcess - [Task-64bc8432-e484-44cf-b3f1-8a0a7ed179f7] Chunk 2 sent to stream queue.
2025-08-01 13:26:30,226 - INFO - MainProcess - [Task-64bc8432-e484-44cf-b3f1-8a0a7ed179f7] Chunk 3 sent to stream queue.
2025-08-01 13:26:30,226 - INFO - MainProcess - [Task-64bc8432-e484-44cf-b3f1-8a0a7ed179f7] Chunk 4 sent to stream queue.
2025-08-01 13:26:30,883 - INFO - MainProcess - [Task-64bc8432-e484-44cf-b3f1-8a0a7ed179f7] Chunk 5 sent to stream queue.
2025-08-01 13:26:30,884 - INFO - MainProcess - [Task-64bc8432-e484-44cf-b3f1-8a0a7ed179f7] Chunk 6 sent to stream queue.
2025-08-01 13:26:30,884 - INFO - MainProcess - [Task-64bc8432-e484-44cf-b3f1-8a0a7ed179f7] All chunks processed and queued successfully.
2025-08-01 13:26:30,884 - INFO - MainProcess - [Task-64bc8432-e484-44cf-b3f1-8a0a7ed179f7] Processor thread finished and cleaned up.
2025-08-01 13:26:30,988 - INFO - MainProcess - >>>>>> Event: All formal tasks finished and queue is drained. Switching back to IDLE. <<<<<<
2025-08-01 13:29:14,573 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_01.wav. Preparing tasks...
2025-08-01 13:29:14,697 - INFO - MainProcess - [Task-cb4bdfb9-a7dd-4547-8fc0-95052827819a] Started processing. Expecting 7 chunks.
2025-08-01 13:29:14,697 - INFO - MainProcess - Task cb4bdfb9-a7dd-4547-8fc0-95052827819a has been started in the background.
2025-08-01 13:29:14,929 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 13:29:14] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 13:29:19,285 - INFO - MainProcess - [Task-cb4bdfb9-a7dd-4547-8fc0-95052827819a] Chunk 0 sent to stream queue.
2025-08-01 13:29:19,294 - INFO - MainProcess - >>>>>> Event: A formal task is starting. Switching to FORMAL stream. <<<<<<
2025-08-01 13:29:19,295 - INFO - MainProcess - Clearing media buffer queue (size: 1)...
2025-08-01 13:29:19,295 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 13:29:19,615 - INFO - MainProcess - [Task-cb4bdfb9-a7dd-4547-8fc0-95052827819a] Chunk 1 sent to stream queue.
2025-08-01 13:29:19,818 - INFO - MainProcess - [Task-cb4bdfb9-a7dd-4547-8fc0-95052827819a] Chunk 2 sent to stream queue.
2025-08-01 13:29:20,355 - INFO - MainProcess - [Task-cb4bdfb9-a7dd-4547-8fc0-95052827819a] Chunk 3 sent to stream queue.
2025-08-01 13:29:20,529 - INFO - MainProcess - [Task-cb4bdfb9-a7dd-4547-8fc0-95052827819a] Chunk 4 sent to stream queue.
2025-08-01 13:29:20,910 - INFO - MainProcess - [Task-cb4bdfb9-a7dd-4547-8fc0-95052827819a] Chunk 5 sent to stream queue.
2025-08-01 13:29:21,171 - INFO - MainProcess - [Task-cb4bdfb9-a7dd-4547-8fc0-95052827819a] Chunk 6 sent to stream queue.
2025-08-01 13:29:21,171 - INFO - MainProcess - [Task-cb4bdfb9-a7dd-4547-8fc0-95052827819a] All chunks processed and queued successfully.
2025-08-01 13:29:21,171 - INFO - MainProcess - [Task-cb4bdfb9-a7dd-4547-8fc0-95052827819a] Processor thread finished and cleaned up.
2025-08-01 13:29:21,176 - INFO - MainProcess - >>>>>> Event: All formal tasks finished and queue is drained. Switching back to IDLE. <<<<<<
2025-08-01 13:29:39,605 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_01.wav. Preparing tasks...
2025-08-01 13:29:39,721 - INFO - MainProcess - [Task-9354a569-8d2d-4a64-bfd9-dc3bc88eeaf3] Started processing. Expecting 7 chunks.
2025-08-01 13:29:39,721 - INFO - MainProcess - Task 9354a569-8d2d-4a64-bfd9-dc3bc88eeaf3 has been started in the background.
2025-08-01 13:29:39,911 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 13:29:39] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 13:29:44,242 - INFO - MainProcess - [Task-9354a569-8d2d-4a64-bfd9-dc3bc88eeaf3] Chunk 0 sent to stream queue.
2025-08-01 13:29:44,245 - INFO - MainProcess - >>>>>> Event: A formal task is starting. Switching to FORMAL stream. <<<<<<
2025-08-01 13:29:44,246 - INFO - MainProcess - Clearing media buffer queue (size: 1)...
2025-08-01 13:29:44,246 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 13:29:44,693 - INFO - MainProcess - [Task-9354a569-8d2d-4a64-bfd9-dc3bc88eeaf3] Chunk 1 sent to stream queue.
2025-08-01 13:29:44,892 - INFO - MainProcess - [Task-9354a569-8d2d-4a64-bfd9-dc3bc88eeaf3] Chunk 2 sent to stream queue.
2025-08-01 13:29:45,092 - INFO - MainProcess - [Task-9354a569-8d2d-4a64-bfd9-dc3bc88eeaf3] Chunk 3 sent to stream queue.
2025-08-01 13:29:45,415 - INFO - MainProcess - [Task-9354a569-8d2d-4a64-bfd9-dc3bc88eeaf3] Chunk 4 sent to stream queue.
2025-08-01 13:29:45,647 - INFO - MainProcess - [Task-9354a569-8d2d-4a64-bfd9-dc3bc88eeaf3] Chunk 5 sent to stream queue.
2025-08-01 13:29:46,108 - INFO - MainProcess - [Task-9354a569-8d2d-4a64-bfd9-dc3bc88eeaf3] Chunk 6 sent to stream queue.
2025-08-01 13:29:46,108 - INFO - MainProcess - [Task-9354a569-8d2d-4a64-bfd9-dc3bc88eeaf3] All chunks processed and queued successfully.
2025-08-01 13:29:46,108 - INFO - MainProcess - [Task-9354a569-8d2d-4a64-bfd9-dc3bc88eeaf3] Processor thread finished and cleaned up.
2025-08-01 13:29:46,112 - INFO - MainProcess - >>>>>> Event: All formal tasks finished and queue is drained. Switching back to IDLE. <<<<<<
2025-08-01 13:29:46,941 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_00.wav. Preparing tasks...
2025-08-01 13:29:47,053 - INFO - MainProcess - [Task-5cb8501a-c9ec-4159-b451-8244163a8fa8] Started processing. Expecting 7 chunks.
2025-08-01 13:29:47,053 - INFO - MainProcess - Task 5cb8501a-c9ec-4159-b451-8244163a8fa8 has been started in the background.
2025-08-01 13:29:47,054 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 13:29:47] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 13:29:51,533 - INFO - MainProcess - [Task-5cb8501a-c9ec-4159-b451-8244163a8fa8] Chunk 0 sent to stream queue.
2025-08-01 13:29:51,535 - INFO - MainProcess - >>>>>> Event: A formal task is starting. Switching to FORMAL stream. <<<<<<
2025-08-01 13:29:51,535 - INFO - MainProcess - Clearing media buffer queue (size: 2)...
2025-08-01 13:29:51,536 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 13:29:51,891 - INFO - MainProcess - [Task-5cb8501a-c9ec-4159-b451-8244163a8fa8] Chunk 1 sent to stream queue.
2025-08-01 13:29:52,191 - INFO - MainProcess - [Task-5cb8501a-c9ec-4159-b451-8244163a8fa8] Chunk 2 sent to stream queue.
2025-08-01 13:29:52,872 - INFO - MainProcess - [Task-5cb8501a-c9ec-4159-b451-8244163a8fa8] Chunk 3 sent to stream queue.
2025-08-01 13:29:52,872 - INFO - MainProcess - [Task-5cb8501a-c9ec-4159-b451-8244163a8fa8] Chunk 4 sent to stream queue.
2025-08-01 13:29:53,079 - INFO - MainProcess - [Task-5cb8501a-c9ec-4159-b451-8244163a8fa8] Chunk 5 sent to stream queue.
2025-08-01 13:29:53,277 - INFO - MainProcess - [Task-5cb8501a-c9ec-4159-b451-8244163a8fa8] Chunk 6 sent to stream queue.
2025-08-01 13:29:53,277 - INFO - MainProcess - [Task-5cb8501a-c9ec-4159-b451-8244163a8fa8] All chunks processed and queued successfully.
2025-08-01 13:29:53,277 - INFO - MainProcess - [Task-5cb8501a-c9ec-4159-b451-8244163a8fa8] Processor thread finished and cleaned up.
2025-08-01 13:29:53,287 - INFO - MainProcess - >>>>>> Event: All formal tasks finished and queue is drained. Switching back to IDLE. <<<<<<
2025-08-01 13:29:54,938 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_01.wav. Preparing tasks...
2025-08-01 13:29:55,058 - INFO - MainProcess - [Task-75bef14a-4799-483c-8b27-bd78b2adffe0] Started processing. Expecting 7 chunks.
2025-08-01 13:29:55,059 - INFO - MainProcess - Task 75bef14a-4799-483c-8b27-bd78b2adffe0 has been started in the background.
2025-08-01 13:29:55,060 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 13:29:55] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 13:29:59,906 - INFO - MainProcess - [Task-75bef14a-4799-483c-8b27-bd78b2adffe0] Chunk 0 sent to stream queue.
2025-08-01 13:29:59,907 - INFO - MainProcess - [Task-75bef14a-4799-483c-8b27-bd78b2adffe0] Chunk 1 sent to stream queue.
2025-08-01 13:29:59,910 - INFO - MainProcess - >>>>>> Event: A formal task is starting. Switching to FORMAL stream. <<<<<<
2025-08-01 13:29:59,911 - INFO - MainProcess - Clearing media buffer queue (size: 2)...
2025-08-01 13:29:59,911 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 13:30:00,259 - INFO - MainProcess - [Task-75bef14a-4799-483c-8b27-bd78b2adffe0] Chunk 2 sent to stream queue.
2025-08-01 13:30:00,470 - INFO - MainProcess - [Task-75bef14a-4799-483c-8b27-bd78b2adffe0] Chunk 3 sent to stream queue.
2025-08-01 13:30:00,663 - INFO - MainProcess - [Task-75bef14a-4799-483c-8b27-bd78b2adffe0] Chunk 4 sent to stream queue.
2025-08-01 13:30:00,933 - INFO - MainProcess - [Task-75bef14a-4799-483c-8b27-bd78b2adffe0] Chunk 5 sent to stream queue.
2025-08-01 13:30:01,195 - INFO - MainProcess - [Task-75bef14a-4799-483c-8b27-bd78b2adffe0] Chunk 6 sent to stream queue.
2025-08-01 13:30:01,195 - INFO - MainProcess - [Task-75bef14a-4799-483c-8b27-bd78b2adffe0] All chunks processed and queued successfully.
2025-08-01 13:30:01,195 - INFO - MainProcess - [Task-75bef14a-4799-483c-8b27-bd78b2adffe0] Processor thread finished and cleaned up.
2025-08-01 13:30:01,199 - INFO - MainProcess - >>>>>> Event: All formal tasks finished and queue is drained. Switching back to IDLE. <<<<<<
2025-08-01 13:30:27,880 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_01.wav. Preparing tasks...
2025-08-01 13:30:27,998 - INFO - MainProcess - [Task-76ed6cb9-1178-417f-ae34-272545f6a306] Started processing. Expecting 7 chunks.
2025-08-01 13:30:27,998 - INFO - MainProcess - Task 76ed6cb9-1178-417f-ae34-272545f6a306 has been started in the background.
2025-08-01 13:30:28,192 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 13:30:28] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 13:30:32,423 - INFO - MainProcess - [Task-76ed6cb9-1178-417f-ae34-272545f6a306] Chunk 0 sent to stream queue.
2025-08-01 13:30:32,428 - INFO - MainProcess - >>>>>> Event: A formal task is starting. Switching to FORMAL stream. <<<<<<
2025-08-01 13:30:32,429 - INFO - MainProcess - Clearing media buffer queue (size: 2)...
2025-08-01 13:30:32,429 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 13:30:32,882 - INFO - MainProcess - [Task-76ed6cb9-1178-417f-ae34-272545f6a306] Chunk 1 sent to stream queue.
2025-08-01 13:30:33,096 - INFO - MainProcess - [Task-76ed6cb9-1178-417f-ae34-272545f6a306] Chunk 2 sent to stream queue.
2025-08-01 13:30:33,504 - INFO - MainProcess - [Task-76ed6cb9-1178-417f-ae34-272545f6a306] Chunk 3 sent to stream queue.
2025-08-01 13:30:33,725 - INFO - MainProcess - [Task-76ed6cb9-1178-417f-ae34-272545f6a306] Chunk 4 sent to stream queue.
2025-08-01 13:30:33,922 - INFO - MainProcess - [Task-76ed6cb9-1178-417f-ae34-272545f6a306] Chunk 5 sent to stream queue.
2025-08-01 13:30:34,132 - INFO - MainProcess - [Task-76ed6cb9-1178-417f-ae34-272545f6a306] Chunk 6 sent to stream queue.
2025-08-01 13:30:34,132 - INFO - MainProcess - [Task-76ed6cb9-1178-417f-ae34-272545f6a306] All chunks processed and queued successfully.
2025-08-01 13:30:34,132 - INFO - MainProcess - [Task-76ed6cb9-1178-417f-ae34-272545f6a306] Processor thread finished and cleaned up.
2025-08-01 13:30:34,137 - INFO - MainProcess - >>>>>> Event: All formal tasks finished and queue is drained. Switching back to IDLE. <<<<<<
2025-08-01 13:30:37,835 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_01.wav. Preparing tasks...
2025-08-01 13:30:37,957 - INFO - MainProcess - [Task-116a3dee-d26d-4efd-a8a5-4874aacf76bc] Started processing. Expecting 7 chunks.
2025-08-01 13:30:37,957 - INFO - MainProcess - Task 116a3dee-d26d-4efd-a8a5-4874aacf76bc has been started in the background.
2025-08-01 13:30:38,109 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 13:30:38] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 13:30:42,507 - INFO - MainProcess - [Task-116a3dee-d26d-4efd-a8a5-4874aacf76bc] Chunk 0 sent to stream queue.
2025-08-01 13:30:42,507 - INFO - MainProcess - >>>>>> Event: A formal task is starting. Switching to FORMAL stream. <<<<<<
2025-08-01 13:30:42,508 - INFO - MainProcess - Clearing media buffer queue (size: 1)...
2025-08-01 13:30:42,508 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 13:30:42,859 - INFO - MainProcess - [Task-116a3dee-d26d-4efd-a8a5-4874aacf76bc] Chunk 1 sent to stream queue.
2025-08-01 13:30:43,100 - INFO - MainProcess - [Task-116a3dee-d26d-4efd-a8a5-4874aacf76bc] Chunk 2 sent to stream queue.
2025-08-01 13:30:43,377 - INFO - MainProcess - [Task-116a3dee-d26d-4efd-a8a5-4874aacf76bc] Chunk 3 sent to stream queue.
2025-08-01 13:30:43,652 - INFO - MainProcess - [Task-116a3dee-d26d-4efd-a8a5-4874aacf76bc] Chunk 4 sent to stream queue.
2025-08-01 13:30:43,875 - INFO - MainProcess - [Task-116a3dee-d26d-4efd-a8a5-4874aacf76bc] Chunk 5 sent to stream queue.
2025-08-01 13:30:44,153 - INFO - MainProcess - [Task-116a3dee-d26d-4efd-a8a5-4874aacf76bc] Chunk 6 sent to stream queue.
2025-08-01 13:30:44,154 - INFO - MainProcess - [Task-116a3dee-d26d-4efd-a8a5-4874aacf76bc] All chunks processed and queued successfully.
2025-08-01 13:30:44,154 - INFO - MainProcess - [Task-116a3dee-d26d-4efd-a8a5-4874aacf76bc] Processor thread finished and cleaned up.
2025-08-01 13:30:44,157 - INFO - MainProcess - >>>>>> Event: All formal tasks finished and queue is drained. Switching back to IDLE. <<<<<<
2025-08-01 13:30:46,292 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_01.wav. Preparing tasks...
2025-08-01 13:30:46,417 - INFO - MainProcess - [Task-fe91b25a-73be-43d0-afad-dcd58e14a23f] Started processing. Expecting 7 chunks.
2025-08-01 13:30:46,417 - INFO - MainProcess - Task fe91b25a-73be-43d0-afad-dcd58e14a23f has been started in the background.
2025-08-01 13:30:46,569 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 13:30:46] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 13:30:50,719 - INFO - MainProcess - [Task-fe91b25a-73be-43d0-afad-dcd58e14a23f] Chunk 0 sent to stream queue.
2025-08-01 13:30:50,719 - INFO - MainProcess - >>>>>> Event: A formal task is starting. Switching to FORMAL stream. <<<<<<
2025-08-01 13:30:50,719 - INFO - MainProcess - Clearing media buffer queue (size: 2)...
2025-08-01 13:30:50,720 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 13:30:51,253 - INFO - MainProcess - [Task-fe91b25a-73be-43d0-afad-dcd58e14a23f] Chunk 1 sent to stream queue.
2025-08-01 13:30:51,471 - INFO - MainProcess - [Task-fe91b25a-73be-43d0-afad-dcd58e14a23f] Chunk 2 sent to stream queue.
2025-08-01 13:30:51,767 - INFO - MainProcess - [Task-fe91b25a-73be-43d0-afad-dcd58e14a23f] Chunk 3 sent to stream queue.
2025-08-01 13:30:52,030 - INFO - MainProcess - [Task-fe91b25a-73be-43d0-afad-dcd58e14a23f] Chunk 4 sent to stream queue.
2025-08-01 13:30:52,262 - INFO - MainProcess - [Task-fe91b25a-73be-43d0-afad-dcd58e14a23f] Chunk 5 sent to stream queue.
2025-08-01 13:30:52,674 - INFO - MainProcess - [Task-fe91b25a-73be-43d0-afad-dcd58e14a23f] Chunk 6 sent to stream queue.
2025-08-01 13:30:52,675 - INFO - MainProcess - [Task-fe91b25a-73be-43d0-afad-dcd58e14a23f] All chunks processed and queued successfully.
2025-08-01 13:30:52,675 - INFO - MainProcess - [Task-fe91b25a-73be-43d0-afad-dcd58e14a23f] Processor thread finished and cleaned up.
2025-08-01 13:30:52,684 - INFO - MainProcess - >>>>>> Event: All formal tasks finished and queue is drained. Switching back to IDLE. <<<<<<
2025-08-01 13:30:57,722 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_00.wav. Preparing tasks...
2025-08-01 13:30:57,830 - INFO - MainProcess - [Task-3bc86695-b8d7-4648-a0bd-4357ce0564db] Started processing. Expecting 7 chunks.
2025-08-01 13:30:57,830 - INFO - MainProcess - Task 3bc86695-b8d7-4648-a0bd-4357ce0564db has been started in the background.
2025-08-01 13:30:57,832 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 13:30:57] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 13:31:02,332 - INFO - MainProcess - [Task-3bc86695-b8d7-4648-a0bd-4357ce0564db] Chunk 0 sent to stream queue.
2025-08-01 13:31:02,342 - INFO - MainProcess - >>>>>> Event: A formal task is starting. Switching to FORMAL stream. <<<<<<
2025-08-01 13:31:02,343 - INFO - MainProcess - Clearing media buffer queue (size: 1)...
2025-08-01 13:31:02,344 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 13:31:02,554 - INFO - MainProcess - [Task-3bc86695-b8d7-4648-a0bd-4357ce0564db] Chunk 1 sent to stream queue.
2025-08-01 13:31:03,127 - INFO - MainProcess - [Task-3bc86695-b8d7-4648-a0bd-4357ce0564db] Chunk 2 sent to stream queue.
2025-08-01 13:31:03,127 - INFO - MainProcess - [Task-3bc86695-b8d7-4648-a0bd-4357ce0564db] Chunk 3 sent to stream queue.
2025-08-01 13:31:03,519 - INFO - MainProcess - [Task-3bc86695-b8d7-4648-a0bd-4357ce0564db] Chunk 4 sent to stream queue.
2025-08-01 13:31:03,762 - INFO - MainProcess - [Task-3bc86695-b8d7-4648-a0bd-4357ce0564db] Chunk 5 sent to stream queue.
2025-08-01 13:31:04,004 - INFO - MainProcess - [Task-3bc86695-b8d7-4648-a0bd-4357ce0564db] Chunk 6 sent to stream queue.
2025-08-01 13:31:04,004 - INFO - MainProcess - [Task-3bc86695-b8d7-4648-a0bd-4357ce0564db] All chunks processed and queued successfully.
2025-08-01 13:31:04,004 - INFO - MainProcess - [Task-3bc86695-b8d7-4648-a0bd-4357ce0564db] Processor thread finished and cleaned up.
2025-08-01 13:31:04,008 - INFO - MainProcess - >>>>>> Event: All formal tasks finished and queue is drained. Switching back to IDLE. <<<<<<
2025-08-01 14:05:34,910 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_00.wav. Preparing tasks...
2025-08-01 14:05:35,024 - INFO - MainProcess - [Task-a7c76ca2-d6f9-451b-af15-24358c4d24b9] Started processing. Expecting 7 chunks.
2025-08-01 14:05:35,025 - INFO - MainProcess - Task a7c76ca2-d6f9-451b-af15-24358c4d24b9 has been started in the background.
2025-08-01 14:05:35,025 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 14:05:35] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 14:05:39,439 - INFO - MainProcess - [Task-a7c76ca2-d6f9-451b-af15-24358c4d24b9] Chunk 0 sent to stream queue.
2025-08-01 14:05:39,443 - INFO - MainProcess - >>>>>> Event: A formal task is starting. Switching to FORMAL stream. <<<<<<
2025-08-01 14:05:39,444 - INFO - MainProcess - Clearing media buffer queue (size: 2)...
2025-08-01 14:05:39,444 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 14:05:39,653 - INFO - MainProcess - [Task-a7c76ca2-d6f9-451b-af15-24358c4d24b9] Chunk 1 sent to stream queue.
2025-08-01 14:05:40,051 - INFO - MainProcess - [Task-a7c76ca2-d6f9-451b-af15-24358c4d24b9] Chunk 2 sent to stream queue.
2025-08-01 14:05:40,241 - INFO - MainProcess - [Task-a7c76ca2-d6f9-451b-af15-24358c4d24b9] Chunk 3 sent to stream queue.
2025-08-01 14:05:40,738 - INFO - MainProcess - [Task-a7c76ca2-d6f9-451b-af15-24358c4d24b9] Chunk 4 sent to stream queue.
2025-08-01 14:05:40,980 - INFO - MainProcess - [Task-a7c76ca2-d6f9-451b-af15-24358c4d24b9] Chunk 5 sent to stream queue.
2025-08-01 14:05:41,566 - INFO - MainProcess - [Task-a7c76ca2-d6f9-451b-af15-24358c4d24b9] Chunk 6 sent to stream queue.
2025-08-01 14:05:41,567 - INFO - MainProcess - [Task-a7c76ca2-d6f9-451b-af15-24358c4d24b9] All chunks processed and queued successfully.
2025-08-01 14:05:41,567 - INFO - MainProcess - [Task-a7c76ca2-d6f9-451b-af15-24358c4d24b9] Processor thread finished and cleaned up.
2025-08-01 14:05:41,571 - INFO - MainProcess - >>>>>> Event: All formal tasks finished and queue is drained. Switching back to IDLE. <<<<<<
2025-08-01 14:05:42,075 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_00.wav. Preparing tasks...
2025-08-01 14:05:42,184 - INFO - MainProcess - [Task-fe2768ca-57f8-47e6-ac4f-f6da969df27f] Started processing. Expecting 7 chunks.
2025-08-01 14:05:42,184 - INFO - MainProcess - Task fe2768ca-57f8-47e6-ac4f-f6da969df27f has been started in the background.
2025-08-01 14:05:42,185 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 14:05:42] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 14:05:46,693 - INFO - MainProcess - [Task-fe2768ca-57f8-47e6-ac4f-f6da969df27f] Chunk 0 sent to stream queue.
2025-08-01 14:05:46,696 - INFO - MainProcess - >>>>>> Event: A formal task is starting. Switching to FORMAL stream. <<<<<<
2025-08-01 14:05:46,696 - INFO - MainProcess - Clearing media buffer queue (size: 2)...
2025-08-01 14:05:46,696 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 14:05:46,971 - INFO - MainProcess - [Task-fe2768ca-57f8-47e6-ac4f-f6da969df27f] Chunk 1 sent to stream queue.
2025-08-01 14:05:47,212 - INFO - MainProcess - [Task-fe2768ca-57f8-47e6-ac4f-f6da969df27f] Chunk 2 sent to stream queue.
2025-08-01 14:05:47,829 - INFO - MainProcess - [Task-fe2768ca-57f8-47e6-ac4f-f6da969df27f] Chunk 3 sent to stream queue.
2025-08-01 14:05:48,014 - INFO - MainProcess - [Task-fe2768ca-57f8-47e6-ac4f-f6da969df27f] Chunk 4 sent to stream queue.
2025-08-01 14:05:48,206 - INFO - MainProcess - [Task-fe2768ca-57f8-47e6-ac4f-f6da969df27f] Chunk 5 sent to stream queue.
2025-08-01 14:05:48,462 - INFO - MainProcess - [Task-fe2768ca-57f8-47e6-ac4f-f6da969df27f] Chunk 6 sent to stream queue.
2025-08-01 14:05:48,462 - INFO - MainProcess - [Task-fe2768ca-57f8-47e6-ac4f-f6da969df27f] All chunks processed and queued successfully.
2025-08-01 14:05:48,463 - INFO - MainProcess - [Task-fe2768ca-57f8-47e6-ac4f-f6da969df27f] Processor thread finished and cleaned up.
2025-08-01 14:05:48,467 - INFO - MainProcess - >>>>>> Event: All formal tasks finished and queue is drained. Switching back to IDLE. <<<<<<
2025-08-01 14:22:13,302 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-08-01 14:22:13,399 - INFO - MainProcess - [Task-7d7af62e-e9a3-4ae2-8df7-432a2a41f496] Started processing. Expecting 4 chunks.
2025-08-01 14:22:13,400 - INFO - MainProcess - Task 7d7af62e-e9a3-4ae2-8df7-432a2a41f496 has been started in the background.
2025-08-01 14:22:13,593 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 14:22:13] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 14:22:17,940 - INFO - MainProcess - [Task-7d7af62e-e9a3-4ae2-8df7-432a2a41f496] Chunk 0 sent to stream queue.
2025-08-01 14:22:17,944 - INFO - MainProcess - >>>>>> Event: A formal task is starting. Switching to FORMAL stream. <<<<<<
2025-08-01 14:22:17,944 - INFO - MainProcess - Clearing media buffer queue (size: 2)...
2025-08-01 14:22:17,944 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 14:22:18,380 - INFO - MainProcess - [Task-7d7af62e-e9a3-4ae2-8df7-432a2a41f496] Chunk 1 sent to stream queue.
2025-08-01 14:22:18,818 - INFO - MainProcess - [Task-7d7af62e-e9a3-4ae2-8df7-432a2a41f496] Chunk 2 sent to stream queue.
2025-08-01 14:22:18,819 - INFO - MainProcess - [Task-7d7af62e-e9a3-4ae2-8df7-432a2a41f496] Chunk 3 sent to stream queue.
2025-08-01 14:22:18,819 - INFO - MainProcess - [Task-7d7af62e-e9a3-4ae2-8df7-432a2a41f496] All chunks processed and queued successfully.
2025-08-01 14:22:18,819 - INFO - MainProcess - [Task-7d7af62e-e9a3-4ae2-8df7-432a2a41f496] Processor thread finished and cleaned up.
2025-08-01 14:22:18,823 - INFO - MainProcess - >>>>>> Event: All formal tasks finished and queue is drained. Switching back to IDLE. <<<<<<
2025-08-01 14:22:21,120 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_00.wav. Preparing tasks...
2025-08-01 14:22:21,232 - INFO - MainProcess - [Task-6d300ca2-0a3e-4227-9208-1cabdacf8bd2] Started processing. Expecting 7 chunks.
2025-08-01 14:22:21,232 - INFO - MainProcess - Task 6d300ca2-0a3e-4227-9208-1cabdacf8bd2 has been started in the background.
2025-08-01 14:22:21,233 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 14:22:21] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 14:22:26,022 - INFO - MainProcess - [Task-6d300ca2-0a3e-4227-9208-1cabdacf8bd2] Chunk 0 sent to stream queue.
2025-08-01 14:22:26,040 - INFO - MainProcess - >>>>>> Event: A formal task is starting. Switching to FORMAL stream. <<<<<<
2025-08-01 14:22:26,040 - INFO - MainProcess - [Task-6d300ca2-0a3e-4227-9208-1cabdacf8bd2] Chunk 1 sent to stream queue.
2025-08-01 14:22:26,040 - INFO - MainProcess - Clearing media buffer queue (size: 1)...
2025-08-01 14:22:26,041 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 14:22:26,364 - INFO - MainProcess - [Task-6d300ca2-0a3e-4227-9208-1cabdacf8bd2] Chunk 2 sent to stream queue.
2025-08-01 14:22:26,627 - INFO - MainProcess - [Task-6d300ca2-0a3e-4227-9208-1cabdacf8bd2] Chunk 3 sent to stream queue.
2025-08-01 14:22:26,797 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-08-01 14:22:26,911 - INFO - MainProcess - [Task-6d300ca2-0a3e-4227-9208-1cabdacf8bd2] Chunk 4 sent to stream queue.
2025-08-01 14:22:27,091 - INFO - MainProcess - [Task-78fdeee5-b1fe-4723-a881-617dbf5e52c2] Started processing. Expecting 4 chunks.
2025-08-01 14:22:27,092 - INFO - MainProcess - Task 78fdeee5-b1fe-4723-a881-617dbf5e52c2 has been started in the background.
2025-08-01 14:22:27,294 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 14:22:27] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 14:22:27,446 - INFO - MainProcess - [Task-6d300ca2-0a3e-4227-9208-1cabdacf8bd2] Chunk 5 sent to stream queue.
2025-08-01 14:22:28,070 - INFO - MainProcess - [Task-6d300ca2-0a3e-4227-9208-1cabdacf8bd2] Chunk 6 sent to stream queue.
2025-08-01 14:22:28,071 - INFO - MainProcess - [Task-6d300ca2-0a3e-4227-9208-1cabdacf8bd2] All chunks processed and queued successfully.
2025-08-01 14:22:28,071 - INFO - MainProcess - [Task-6d300ca2-0a3e-4227-9208-1cabdacf8bd2] Processor thread finished and cleaned up.
2025-08-01 14:22:31,760 - INFO - MainProcess - [Task-78fdeee5-b1fe-4723-a881-617dbf5e52c2] Chunk 0 sent to stream queue.
2025-08-01 14:22:31,939 - INFO - MainProcess - [Task-78fdeee5-b1fe-4723-a881-617dbf5e52c2] Chunk 1 sent to stream queue.
2025-08-01 14:22:32,291 - INFO - MainProcess - [Task-78fdeee5-b1fe-4723-a881-617dbf5e52c2] Chunk 2 sent to stream queue.
2025-08-01 14:22:32,342 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_00.wav. Preparing tasks...
2025-08-01 14:22:32,523 - INFO - MainProcess - [Task-78fdeee5-b1fe-4723-a881-617dbf5e52c2] Chunk 3 sent to stream queue.
2025-08-01 14:22:32,523 - INFO - MainProcess - [Task-78fdeee5-b1fe-4723-a881-617dbf5e52c2] All chunks processed and queued successfully.
2025-08-01 14:22:32,523 - INFO - MainProcess - [Task-78fdeee5-b1fe-4723-a881-617dbf5e52c2] Processor thread finished and cleaned up.
2025-08-01 14:22:32,533 - INFO - MainProcess - >>>>>> Event: All formal tasks finished and queue is drained. Switching back to IDLE. <<<<<<
2025-08-01 14:22:32,553 - INFO - MainProcess - [Task-597d6d87-1480-40ca-975a-8e1308c15e10] Started processing. Expecting 7 chunks.
2025-08-01 14:22:32,554 - INFO - MainProcess - Task 597d6d87-1480-40ca-975a-8e1308c15e10 has been started in the background.
2025-08-01 14:22:32,751 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 14:22:32] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 14:22:37,128 - INFO - MainProcess - [Task-597d6d87-1480-40ca-975a-8e1308c15e10] Chunk 0 sent to stream queue.
2025-08-01 14:22:37,132 - INFO - MainProcess - >>>>>> Event: A formal task is starting. Switching to FORMAL stream. <<<<<<
2025-08-01 14:22:37,132 - INFO - MainProcess - Clearing media buffer queue (size: 1)...
2025-08-01 14:22:37,132 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 14:22:37,374 - INFO - MainProcess - [Task-597d6d87-1480-40ca-975a-8e1308c15e10] Chunk 1 sent to stream queue.
2025-08-01 14:22:37,663 - INFO - MainProcess - [Task-597d6d87-1480-40ca-975a-8e1308c15e10] Chunk 2 sent to stream queue.
2025-08-01 14:22:37,893 - INFO - MainProcess - [Task-597d6d87-1480-40ca-975a-8e1308c15e10] Chunk 3 sent to stream queue.
2025-08-01 14:22:38,519 - INFO - MainProcess - [Task-597d6d87-1480-40ca-975a-8e1308c15e10] Chunk 4 sent to stream queue.
2025-08-01 14:22:38,521 - INFO - MainProcess - [Task-597d6d87-1480-40ca-975a-8e1308c15e10] Chunk 5 sent to stream queue.
2025-08-01 14:22:38,749 - INFO - MainProcess - [Task-597d6d87-1480-40ca-975a-8e1308c15e10] Chunk 6 sent to stream queue.
2025-08-01 14:22:38,751 - INFO - MainProcess - [Task-597d6d87-1480-40ca-975a-8e1308c15e10] All chunks processed and queued successfully.
2025-08-01 14:22:38,751 - INFO - MainProcess - [Task-597d6d87-1480-40ca-975a-8e1308c15e10] Processor thread finished and cleaned up.
2025-08-01 14:22:38,838 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-08-01 14:22:38,949 - INFO - MainProcess - [Task-e50ddcca-4a02-4c37-9873-fd19d0a2c0aa] Started processing. Expecting 4 chunks.
2025-08-01 14:22:38,950 - INFO - MainProcess - Task e50ddcca-4a02-4c37-9873-fd19d0a2c0aa has been started in the background.
2025-08-01 14:22:39,163 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 14:22:39] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 14:22:43,318 - INFO - MainProcess - [Task-e50ddcca-4a02-4c37-9873-fd19d0a2c0aa] Chunk 0 sent to stream queue.
2025-08-01 14:22:43,680 - INFO - MainProcess - [Task-e50ddcca-4a02-4c37-9873-fd19d0a2c0aa] Chunk 1 sent to stream queue.
2025-08-01 14:22:44,290 - INFO - MainProcess - [Task-e50ddcca-4a02-4c37-9873-fd19d0a2c0aa] Chunk 2 sent to stream queue.
2025-08-01 14:22:44,291 - INFO - MainProcess - [Task-e50ddcca-4a02-4c37-9873-fd19d0a2c0aa] Chunk 3 sent to stream queue.
2025-08-01 14:22:44,291 - INFO - MainProcess - [Task-e50ddcca-4a02-4c37-9873-fd19d0a2c0aa] All chunks processed and queued successfully.
2025-08-01 14:22:44,291 - INFO - MainProcess - [Task-e50ddcca-4a02-4c37-9873-fd19d0a2c0aa] Processor thread finished and cleaned up.
2025-08-01 14:22:44,296 - INFO - MainProcess - >>>>>> Event: All formal tasks finished and queue is drained. Switching back to IDLE. <<<<<<
2025-08-01 14:22:46,212 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_00.wav. Preparing tasks...
2025-08-01 14:22:46,345 - INFO - MainProcess - [Task-aaf702d6-0b40-461f-b5a3-0ec55f3ab572] Started processing. Expecting 7 chunks.
2025-08-01 14:22:46,346 - INFO - MainProcess - Task aaf702d6-0b40-461f-b5a3-0ec55f3ab572 has been started in the background.
2025-08-01 14:22:46,563 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 14:22:46] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 14:22:50,678 - INFO - MainProcess - [Task-aaf702d6-0b40-461f-b5a3-0ec55f3ab572] Chunk 0 sent to stream queue.
2025-08-01 14:22:50,679 - INFO - MainProcess - >>>>>> Event: A formal task is starting. Switching to FORMAL stream. <<<<<<
2025-08-01 14:22:50,679 - INFO - MainProcess - Clearing media buffer queue (size: 2)...
2025-08-01 14:22:50,680 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 14:22:50,986 - INFO - MainProcess - [Task-aaf702d6-0b40-461f-b5a3-0ec55f3ab572] Chunk 1 sent to stream queue.
2025-08-01 14:22:51,494 - INFO - MainProcess - [Task-aaf702d6-0b40-461f-b5a3-0ec55f3ab572] Chunk 2 sent to stream queue.
2025-08-01 14:22:51,749 - INFO - MainProcess - [Task-aaf702d6-0b40-461f-b5a3-0ec55f3ab572] Chunk 3 sent to stream queue.
2025-08-01 14:22:51,968 - INFO - MainProcess - [Task-aaf702d6-0b40-461f-b5a3-0ec55f3ab572] Chunk 4 sent to stream queue.
2025-08-01 14:22:52,509 - INFO - MainProcess - [Task-aaf702d6-0b40-461f-b5a3-0ec55f3ab572] Chunk 5 sent to stream queue.
2025-08-01 14:22:52,510 - INFO - MainProcess - [Task-aaf702d6-0b40-461f-b5a3-0ec55f3ab572] Chunk 6 sent to stream queue.
2025-08-01 14:22:52,510 - INFO - MainProcess - [Task-aaf702d6-0b40-461f-b5a3-0ec55f3ab572] All chunks processed and queued successfully.
2025-08-01 14:22:52,510 - INFO - MainProcess - [Task-aaf702d6-0b40-461f-b5a3-0ec55f3ab572] Processor thread finished and cleaned up.
2025-08-01 14:22:52,514 - INFO - MainProcess - >>>>>> Event: All formal tasks finished and queue is drained. Switching back to IDLE. <<<<<<
2025-08-01 14:23:25,669 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_00.wav. Preparing tasks...
2025-08-01 14:23:25,788 - INFO - MainProcess - [Task-55388a9d-e718-471d-935a-015676f78e57] Started processing. Expecting 7 chunks.
2025-08-01 14:23:25,788 - INFO - MainProcess - Task 55388a9d-e718-471d-935a-015676f78e57 has been started in the background.
2025-08-01 14:23:25,990 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 14:23:25] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 14:23:30,219 - INFO - MainProcess - [Task-55388a9d-e718-471d-935a-015676f78e57] Chunk 0 sent to stream queue.
2025-08-01 14:23:30,222 - INFO - MainProcess - >>>>>> Event: A formal task is starting. Switching to FORMAL stream. <<<<<<
2025-08-01 14:23:30,222 - INFO - MainProcess - Clearing media buffer queue (size: 1)...
2025-08-01 14:23:30,223 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 14:23:30,432 - INFO - MainProcess - [Task-55388a9d-e718-471d-935a-015676f78e57] Chunk 1 sent to stream queue.
2025-08-01 14:23:30,876 - INFO - MainProcess - [Task-55388a9d-e718-471d-935a-015676f78e57] Chunk 2 sent to stream queue.
2025-08-01 14:23:31,115 - INFO - MainProcess - [Task-55388a9d-e718-471d-935a-015676f78e57] Chunk 3 sent to stream queue.
2025-08-01 14:23:31,500 - INFO - MainProcess - [Task-55388a9d-e718-471d-935a-015676f78e57] Chunk 4 sent to stream queue.
2025-08-01 14:23:31,970 - INFO - MainProcess - [Task-55388a9d-e718-471d-935a-015676f78e57] Chunk 5 sent to stream queue.
2025-08-01 14:23:31,971 - INFO - MainProcess - [Task-55388a9d-e718-471d-935a-015676f78e57] Chunk 6 sent to stream queue.
2025-08-01 14:23:31,972 - INFO - MainProcess - [Task-55388a9d-e718-471d-935a-015676f78e57] All chunks processed and queued successfully.
2025-08-01 14:23:31,972 - INFO - MainProcess - [Task-55388a9d-e718-471d-935a-015676f78e57] Processor thread finished and cleaned up.
2025-08-01 14:23:31,987 - INFO - MainProcess - >>>>>> Event: All formal tasks finished and queue is drained. Switching back to IDLE. <<<<<<
2025-08-01 14:23:36,719 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_01.wav. Preparing tasks...
2025-08-01 14:23:36,851 - INFO - MainProcess - [Task-cb8037d5-22b3-4963-9812-3165fff2647e] Started processing. Expecting 7 chunks.
2025-08-01 14:23:36,851 - INFO - MainProcess - Task cb8037d5-22b3-4963-9812-3165fff2647e has been started in the background.
2025-08-01 14:23:37,060 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 14:23:37] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 14:23:41,292 - INFO - MainProcess - [Task-cb8037d5-22b3-4963-9812-3165fff2647e] Chunk 0 sent to stream queue.
2025-08-01 14:23:41,294 - INFO - MainProcess - >>>>>> Event: A formal task is starting. Switching to FORMAL stream. <<<<<<
2025-08-01 14:23:41,294 - INFO - MainProcess - Clearing media buffer queue (size: 1)...
2025-08-01 14:23:41,295 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 14:23:41,710 - INFO - MainProcess - [Task-cb8037d5-22b3-4963-9812-3165fff2647e] Chunk 1 sent to stream queue.
2025-08-01 14:23:41,931 - INFO - MainProcess - [Task-cb8037d5-22b3-4963-9812-3165fff2647e] Chunk 2 sent to stream queue.
2025-08-01 14:23:42,155 - INFO - MainProcess - [Task-cb8037d5-22b3-4963-9812-3165fff2647e] Chunk 3 sent to stream queue.
2025-08-01 14:23:42,416 - INFO - MainProcess - [Task-cb8037d5-22b3-4963-9812-3165fff2647e] Chunk 4 sent to stream queue.
2025-08-01 14:23:42,827 - INFO - MainProcess - [Task-cb8037d5-22b3-4963-9812-3165fff2647e] Chunk 5 sent to stream queue.
2025-08-01 14:23:42,876 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_00.wav. Preparing tasks...
2025-08-01 14:23:43,115 - INFO - MainProcess - [Task-95e34fdc-4f7f-43d8-8b80-dc64817b62da] Started processing. Expecting 7 chunks.
2025-08-01 14:23:43,117 - INFO - MainProcess - Task 95e34fdc-4f7f-43d8-8b80-dc64817b62da has been started in the background.
2025-08-01 14:23:43,323 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 14:23:43] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 14:23:43,402 - INFO - MainProcess - [Task-cb8037d5-22b3-4963-9812-3165fff2647e] Chunk 6 sent to stream queue.
2025-08-01 14:23:43,402 - INFO - MainProcess - [Task-cb8037d5-22b3-4963-9812-3165fff2647e] All chunks processed and queued successfully.
2025-08-01 14:23:43,402 - INFO - MainProcess - [Task-cb8037d5-22b3-4963-9812-3165fff2647e] Processor thread finished and cleaned up.
2025-08-01 14:23:47,571 - INFO - MainProcess - [Task-95e34fdc-4f7f-43d8-8b80-dc64817b62da] Chunk 0 sent to stream queue.
2025-08-01 14:23:47,918 - INFO - MainProcess - [Task-95e34fdc-4f7f-43d8-8b80-dc64817b62da] Chunk 1 sent to stream queue.
2025-08-01 14:23:48,246 - INFO - MainProcess - [Task-95e34fdc-4f7f-43d8-8b80-dc64817b62da] Chunk 2 sent to stream queue.
2025-08-01 14:23:48,456 - INFO - MainProcess - [Task-95e34fdc-4f7f-43d8-8b80-dc64817b62da] Chunk 3 sent to stream queue.
2025-08-01 14:23:48,666 - INFO - MainProcess - [Task-95e34fdc-4f7f-43d8-8b80-dc64817b62da] Chunk 4 sent to stream queue.
2025-08-01 14:23:48,836 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_01.wav. Preparing tasks...
2025-08-01 14:23:48,974 - INFO - MainProcess - [Task-95e34fdc-4f7f-43d8-8b80-dc64817b62da] Chunk 5 sent to stream queue.
2025-08-01 14:23:49,204 - INFO - MainProcess - [Task-c9ef0907-55fb-4bb1-b4b3-7703695ce914] Started processing. Expecting 7 chunks.
2025-08-01 14:23:49,205 - INFO - MainProcess - Task c9ef0907-55fb-4bb1-b4b3-7703695ce914 has been started in the background.
2025-08-01 14:23:49,407 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 14:23:49] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 14:23:49,549 - INFO - MainProcess - [Task-95e34fdc-4f7f-43d8-8b80-dc64817b62da] Chunk 6 sent to stream queue.
2025-08-01 14:23:49,641 - INFO - MainProcess - [Task-95e34fdc-4f7f-43d8-8b80-dc64817b62da] All chunks processed and queued successfully.
2025-08-01 14:23:49,641 - INFO - MainProcess - [Task-95e34fdc-4f7f-43d8-8b80-dc64817b62da] Processor thread finished and cleaned up.
2025-08-01 14:23:53,562 - INFO - MainProcess - [Task-c9ef0907-55fb-4bb1-b4b3-7703695ce914] Chunk 0 sent to stream queue.
2025-08-01 14:23:54,000 - INFO - MainProcess - [Task-c9ef0907-55fb-4bb1-b4b3-7703695ce914] Chunk 1 sent to stream queue.
2025-08-01 14:23:54,297 - INFO - MainProcess - [Task-c9ef0907-55fb-4bb1-b4b3-7703695ce914] Chunk 2 sent to stream queue.
2025-08-01 14:23:54,697 - INFO - MainProcess - [Task-c9ef0907-55fb-4bb1-b4b3-7703695ce914] Chunk 3 sent to stream queue.
2025-08-01 14:23:54,923 - INFO - MainProcess - [Task-c9ef0907-55fb-4bb1-b4b3-7703695ce914] Chunk 4 sent to stream queue.
2025-08-01 14:23:55,121 - INFO - MainProcess - [Task-c9ef0907-55fb-4bb1-b4b3-7703695ce914] Chunk 5 sent to stream queue.
2025-08-01 14:23:55,380 - INFO - MainProcess - [Task-c9ef0907-55fb-4bb1-b4b3-7703695ce914] Chunk 6 sent to stream queue.
2025-08-01 14:23:55,381 - INFO - MainProcess - [Task-c9ef0907-55fb-4bb1-b4b3-7703695ce914] All chunks processed and queued successfully.
2025-08-01 14:23:55,381 - INFO - MainProcess - [Task-c9ef0907-55fb-4bb1-b4b3-7703695ce914] Processor thread finished and cleaned up.
2025-08-01 14:23:56,473 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_00.wav. Preparing tasks...
2025-08-01 14:23:56,599 - INFO - MainProcess - [Task-d82ad996-e02a-4b56-9b59-b65c2874a798] Started processing. Expecting 7 chunks.
2025-08-01 14:23:56,599 - INFO - MainProcess - Task d82ad996-e02a-4b56-9b59-b65c2874a798 has been started in the background.
2025-08-01 14:23:56,807 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 14:23:56] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 14:24:01,050 - INFO - MainProcess - [Task-d82ad996-e02a-4b56-9b59-b65c2874a798] Chunk 0 sent to stream queue.
2025-08-01 14:24:01,261 - INFO - MainProcess - [Task-d82ad996-e02a-4b56-9b59-b65c2874a798] Chunk 1 sent to stream queue.
2025-08-01 14:24:01,700 - INFO - MainProcess - [Task-d82ad996-e02a-4b56-9b59-b65c2874a798] Chunk 2 sent to stream queue.
2025-08-01 14:24:01,931 - INFO - MainProcess - [Task-d82ad996-e02a-4b56-9b59-b65c2874a798] Chunk 3 sent to stream queue.
2025-08-01 14:24:02,382 - INFO - MainProcess - [Task-d82ad996-e02a-4b56-9b59-b65c2874a798] Chunk 4 sent to stream queue.
2025-08-01 14:24:02,604 - INFO - MainProcess - [Task-d82ad996-e02a-4b56-9b59-b65c2874a798] Chunk 5 sent to stream queue.
2025-08-01 14:24:02,792 - INFO - MainProcess - [Task-d82ad996-e02a-4b56-9b59-b65c2874a798] Chunk 6 sent to stream queue.
2025-08-01 14:24:02,793 - INFO - MainProcess - [Task-d82ad996-e02a-4b56-9b59-b65c2874a798] All chunks processed and queued successfully.
2025-08-01 14:24:02,793 - INFO - MainProcess - [Task-d82ad996-e02a-4b56-9b59-b65c2874a798] Processor thread finished and cleaned up.
2025-08-01 14:24:04,000 - INFO - MainProcess - >>>>>> Event: All formal tasks finished and queue is drained. Switching back to IDLE. <<<<<<
2025-08-01 14:49:36,991 - ERROR - MainProcess - Audio pipe write error: [Errno 32] Broken pipe
2025-08-01 14:49:36,992 - ERROR - MainProcess - Video pipe write error: [Errno 32] Broken pipe
2025-08-01 14:49:36,993 - INFO - MainProcess - Audio writer thread finished.
2025-08-01 14:49:36,993 - INFO - MainProcess - Video writer thread finished.
2025-08-01 14:49:43,647 - INFO - MainProcess - Starting Flask service...
2025-08-01 14:49:43,647 - INFO - MainProcess - Loading models and creating worker pool...
2025-08-01 14:49:43,647 - INFO - MainProcess - Loading configuration file...
2025-08-01 14:49:43,659 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-08-01 14:49:43,659 - INFO - MainProcess - Loading model components...
2025-08-01 14:49:55,182 - INFO - MainProcess - All components loaded successfully.
2025-08-01 14:49:55,182 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-08-01 14:49:55,274 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-08-01 14:49:55,274 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-08-01 14:50:17,985 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-08-01 14:50:17,986 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-08-01 14:50:18,008 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-08-01 14:50:18,126 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-08-01 14:50:18,127 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-08-01 14:50:18,127 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-08-01 14:50:21,146 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-08-01 14:50:22,361 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-08-01 14:50:22,361 - INFO - MainProcess - Starting the Streaming Controller...
2025-08-01 14:50:22,363 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-08-01 14:50:22,363 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-08-01 14:50:22,371 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-08-01 14:50:22,372 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-08-01 14:50:22,376 - INFO - MainProcess - Media dispatcher thread started.
2025-08-01 14:50:22,376 - INFO - MainProcess - Streaming controller main loop is shutting down.
2025-08-01 14:50:22,378 - INFO - MainProcess - Media dispatcher thread finished.
2025-08-01 14:50:22,379 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-08-01 14:50:22,379 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-08-01 14:50:22,399 - INFO - MainProcess - Video pipe opened for writing.
2025-08-01 14:50:22,404 - INFO - MainProcess - Audio pipe opened for writing.
2025-08-01 14:50:22,405 - INFO - MainProcess - Audio writer thread finished.
2025-08-01 14:50:23,558 - INFO - MainProcess - Video writer thread finished.
2025-08-01 14:50:23,559 - INFO - MainProcess - Cleaning up named pipes (FIFOs)...
2025-08-01 14:51:32,517 - INFO - MainProcess - Starting Flask service...
2025-08-01 14:51:32,518 - INFO - MainProcess - Loading models and creating worker pool...
2025-08-01 14:51:32,518 - INFO - MainProcess - Loading configuration file...
2025-08-01 14:51:32,531 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-08-01 14:51:32,531 - INFO - MainProcess - Loading model components...
2025-08-01 14:51:42,720 - INFO - MainProcess - All components loaded successfully.
2025-08-01 14:51:42,720 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-08-01 14:51:42,808 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-08-01 14:51:42,808 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-08-01 14:52:06,025 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-08-01 14:52:06,026 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-08-01 14:52:06,040 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-08-01 14:52:06,084 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-08-01 14:52:06,085 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-08-01 14:52:06,085 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-08-01 14:52:09,060 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-08-01 14:52:09,916 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-08-01 14:52:09,916 - INFO - MainProcess - Starting the Streaming Controller...
2025-08-01 14:52:09,921 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-08-01 14:52:09,921 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-08-01 14:52:09,931 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-08-01 14:52:09,947 - INFO - MainProcess - Media dispatcher thread started.
2025-08-01 14:52:09,948 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-08-01 14:52:09,952 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-08-01 14:52:09,952 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-08-01 14:52:09,972 - INFO - MainProcess - Video pipe opened for writing.
2025-08-01 14:52:09,979 - INFO - MainProcess - Audio pipe opened for writing.
2025-08-01 14:59:25,452 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_00.wav. Preparing tasks...
2025-08-01 14:59:25,670 - INFO - MainProcess - [Task-08ae904f-4966-4b2d-b13e-fa71f2f283d8] Started processing. Expecting 7 chunks.
2025-08-01 14:59:25,671 - INFO - MainProcess - Task 08ae904f-4966-4b2d-b13e-fa71f2f283d8 has been started in the background.
2025-08-01 14:59:25,672 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 14:59:25] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 14:59:32,446 - INFO - MainProcess - [Task-08ae904f-4966-4b2d-b13e-fa71f2f283d8] Chunk 0 sent to stream queue.
2025-08-01 14:59:32,451 - INFO - MainProcess - >>>>>> Event: A formal task is starting. Initiating fade-in. <<<<<<
2025-08-01 14:59:32,452 - INFO - MainProcess - Clearing media buffer queue (size: 0)...
2025-08-01 14:59:32,452 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 14:59:33,044 - INFO - MainProcess - [Task-08ae904f-4966-4b2d-b13e-fa71f2f283d8] Chunk 1 sent to stream queue.
2025-08-01 14:59:33,232 - INFO - MainProcess - [Task-08ae904f-4966-4b2d-b13e-fa71f2f283d8] Chunk 2 sent to stream queue.
2025-08-01 14:59:34,090 - INFO - MainProcess - [Task-08ae904f-4966-4b2d-b13e-fa71f2f283d8] Chunk 3 sent to stream queue.
2025-08-01 14:59:34,092 - INFO - MainProcess - [Task-08ae904f-4966-4b2d-b13e-fa71f2f283d8] Chunk 4 sent to stream queue.
2025-08-01 14:59:34,352 - INFO - MainProcess - [Task-08ae904f-4966-4b2d-b13e-fa71f2f283d8] Chunk 5 sent to stream queue.
2025-08-01 14:59:34,585 - INFO - MainProcess - [Task-08ae904f-4966-4b2d-b13e-fa71f2f283d8] Chunk 6 sent to stream queue.
2025-08-01 14:59:34,586 - INFO - MainProcess - [Task-08ae904f-4966-4b2d-b13e-fa71f2f283d8] All chunks processed and queued successfully.
2025-08-01 14:59:34,586 - INFO - MainProcess - [Task-08ae904f-4966-4b2d-b13e-fa71f2f283d8] Processor thread finished and cleaned up.
2025-08-01 14:59:34,591 - INFO - MainProcess - >>>>>> Event: All formal tasks finished. Initiating fade-out. <<<<<<
2025-08-01 14:59:50,296 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-08-01 14:59:50,402 - INFO - MainProcess - [Task-cbb049f0-61aa-4703-b6d6-0e9b69c3bb64] Started processing. Expecting 4 chunks.
2025-08-01 14:59:50,403 - INFO - MainProcess - Task cbb049f0-61aa-4703-b6d6-0e9b69c3bb64 has been started in the background.
2025-08-01 14:59:50,592 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 14:59:50] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 14:59:57,364 - INFO - MainProcess - [Task-cbb049f0-61aa-4703-b6d6-0e9b69c3bb64] Chunk 0 sent to stream queue.
2025-08-01 14:59:57,364 - INFO - MainProcess - [Task-cbb049f0-61aa-4703-b6d6-0e9b69c3bb64] Chunk 1 sent to stream queue.
2025-08-01 14:59:57,365 - INFO - MainProcess - [Task-cbb049f0-61aa-4703-b6d6-0e9b69c3bb64] Chunk 2 sent to stream queue.
2025-08-01 14:59:57,365 - INFO - MainProcess - [Task-cbb049f0-61aa-4703-b6d6-0e9b69c3bb64] Chunk 3 sent to stream queue.
2025-08-01 14:59:57,365 - INFO - MainProcess - >>>>>> Event: A formal task is starting. Initiating fade-in. <<<<<<
2025-08-01 14:59:57,365 - INFO - MainProcess - [Task-cbb049f0-61aa-4703-b6d6-0e9b69c3bb64] All chunks processed and queued successfully.
2025-08-01 14:59:57,366 - INFO - MainProcess - Clearing media buffer queue (size: 0)...
2025-08-01 14:59:57,366 - INFO - MainProcess - [Task-cbb049f0-61aa-4703-b6d6-0e9b69c3bb64] Processor thread finished and cleaned up.
2025-08-01 14:59:57,367 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 14:59:57,402 - INFO - MainProcess - >>>>>> Event: All formal tasks finished. Initiating fade-out. <<<<<<
2025-08-01 14:59:58,268 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_00.wav. Preparing tasks...
2025-08-01 14:59:58,384 - INFO - MainProcess - [Task-3dff59a1-28dc-40f0-a40a-8b4d622abc6a] Started processing. Expecting 7 chunks.
2025-08-01 14:59:58,384 - INFO - MainProcess - Task 3dff59a1-28dc-40f0-a40a-8b4d622abc6a has been started in the background.
2025-08-01 14:59:58,385 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 14:59:58] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 15:00:02,746 - INFO - MainProcess - [Task-3dff59a1-28dc-40f0-a40a-8b4d622abc6a] Chunk 0 sent to stream queue.
2025-08-01 15:00:02,746 - INFO - MainProcess - >>>>>> Event: A formal task is starting. Initiating fade-in. <<<<<<
2025-08-01 15:00:02,747 - INFO - MainProcess - Clearing media buffer queue (size: 1)...
2025-08-01 15:00:02,747 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 15:00:03,322 - INFO - MainProcess - [Task-3dff59a1-28dc-40f0-a40a-8b4d622abc6a] Chunk 1 sent to stream queue.
2025-08-01 15:00:03,585 - INFO - MainProcess - [Task-3dff59a1-28dc-40f0-a40a-8b4d622abc6a] Chunk 2 sent to stream queue.
2025-08-01 15:00:03,672 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-08-01 15:00:03,833 - INFO - MainProcess - [Task-3dff59a1-28dc-40f0-a40a-8b4d622abc6a] Chunk 3 sent to stream queue.
2025-08-01 15:00:03,951 - INFO - MainProcess - [Task-7c4d7093-5068-41e9-a0a3-f4ee51614f02] Started processing. Expecting 4 chunks.
2025-08-01 15:00:04,064 - INFO - MainProcess - Task 7c4d7093-5068-41e9-a0a3-f4ee51614f02 has been started in the background.
2025-08-01 15:00:04,138 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 15:00:04] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 15:00:04,366 - INFO - MainProcess - [Task-3dff59a1-28dc-40f0-a40a-8b4d622abc6a] Chunk 4 sent to stream queue.
2025-08-01 15:00:04,843 - INFO - MainProcess - [Task-3dff59a1-28dc-40f0-a40a-8b4d622abc6a] Chunk 5 sent to stream queue.
2025-08-01 15:00:05,160 - INFO - MainProcess - [Task-3dff59a1-28dc-40f0-a40a-8b4d622abc6a] Chunk 6 sent to stream queue.
2025-08-01 15:00:05,161 - INFO - MainProcess - [Task-3dff59a1-28dc-40f0-a40a-8b4d622abc6a] All chunks processed and queued successfully.
2025-08-01 15:00:05,161 - INFO - MainProcess - [Task-3dff59a1-28dc-40f0-a40a-8b4d622abc6a] Processor thread finished and cleaned up.
2025-08-01 15:00:08,472 - INFO - MainProcess - [Task-7c4d7093-5068-41e9-a0a3-f4ee51614f02] Chunk 0 sent to stream queue.
2025-08-01 15:00:08,688 - INFO - MainProcess - [Task-7c4d7093-5068-41e9-a0a3-f4ee51614f02] Chunk 1 sent to stream queue.
2025-08-01 15:00:08,982 - INFO - MainProcess - [Task-7c4d7093-5068-41e9-a0a3-f4ee51614f02] Chunk 2 sent to stream queue.
2025-08-01 15:00:09,221 - INFO - MainProcess - [Task-7c4d7093-5068-41e9-a0a3-f4ee51614f02] Chunk 3 sent to stream queue.
2025-08-01 15:00:09,221 - INFO - MainProcess - [Task-7c4d7093-5068-41e9-a0a3-f4ee51614f02] All chunks processed and queued successfully.
2025-08-01 15:00:09,222 - INFO - MainProcess - [Task-7c4d7093-5068-41e9-a0a3-f4ee51614f02] Processor thread finished and cleaned up.
2025-08-01 15:00:09,226 - INFO - MainProcess - >>>>>> Event: All formal tasks finished. Initiating fade-out. <<<<<<
2025-08-01 15:00:09,726 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_00.wav. Preparing tasks...
2025-08-01 15:00:09,836 - INFO - MainProcess - [Task-f6eb20ab-a895-4439-9632-aa9d8a506d0f] Started processing. Expecting 7 chunks.
2025-08-01 15:00:09,836 - INFO - MainProcess - Task f6eb20ab-a895-4439-9632-aa9d8a506d0f has been started in the background.
2025-08-01 15:00:09,838 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 15:00:09] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 15:00:14,322 - INFO - MainProcess - [Task-f6eb20ab-a895-4439-9632-aa9d8a506d0f] Chunk 0 sent to stream queue.
2025-08-01 15:00:14,327 - INFO - MainProcess - >>>>>> Event: A formal task is starting. Initiating fade-in. <<<<<<
2025-08-01 15:00:14,327 - INFO - MainProcess - Clearing media buffer queue (size: 2)...
2025-08-01 15:00:14,327 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 15:00:14,556 - INFO - MainProcess - [Task-f6eb20ab-a895-4439-9632-aa9d8a506d0f] Chunk 1 sent to stream queue.
2025-08-01 15:00:14,742 - INFO - MainProcess - [Task-f6eb20ab-a895-4439-9632-aa9d8a506d0f] Chunk 2 sent to stream queue.
2025-08-01 15:00:15,180 - INFO - MainProcess - [Task-f6eb20ab-a895-4439-9632-aa9d8a506d0f] Chunk 3 sent to stream queue.
2025-08-01 15:00:15,440 - INFO - MainProcess - [Task-f6eb20ab-a895-4439-9632-aa9d8a506d0f] Chunk 4 sent to stream queue.
2025-08-01 15:00:15,734 - INFO - MainProcess - [Task-f6eb20ab-a895-4439-9632-aa9d8a506d0f] Chunk 5 sent to stream queue.
2025-08-01 15:00:16,060 - INFO - MainProcess - [Task-f6eb20ab-a895-4439-9632-aa9d8a506d0f] Chunk 6 sent to stream queue.
2025-08-01 15:00:16,060 - INFO - MainProcess - [Task-f6eb20ab-a895-4439-9632-aa9d8a506d0f] All chunks processed and queued successfully.
2025-08-01 15:00:16,060 - INFO - MainProcess - [Task-f6eb20ab-a895-4439-9632-aa9d8a506d0f] Processor thread finished and cleaned up.
2025-08-01 15:00:16,665 - INFO - MainProcess - >>>>>> Event: All formal tasks finished. Initiating fade-out. <<<<<<
2025-08-01 15:35:02,316 - ERROR - MainProcess - Video pipe write error: [Errno 32] Broken pipe
2025-08-01 15:35:02,316 - ERROR - MainProcess - Audio pipe write error: [Errno 32] Broken pipe
2025-08-01 15:35:02,316 - INFO - MainProcess - Video writer thread finished.
2025-08-01 15:35:02,317 - INFO - MainProcess - Audio writer thread finished.
2025-08-01 15:35:09,402 - INFO - MainProcess - Starting Flask service...
2025-08-01 15:35:09,402 - INFO - MainProcess - Loading models and creating worker pool...
2025-08-01 15:35:09,402 - INFO - MainProcess - Loading configuration file...
2025-08-01 15:35:09,414 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-08-01 15:35:09,414 - INFO - MainProcess - Loading model components...
2025-08-01 15:35:20,603 - INFO - MainProcess - All components loaded successfully.
2025-08-01 15:35:20,603 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-08-01 15:35:20,690 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-08-01 15:35:20,690 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-08-01 15:35:43,531 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-08-01 15:35:43,531 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-08-01 15:35:43,545 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-08-01 15:35:43,598 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-08-01 15:35:43,598 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-08-01 15:35:43,598 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-08-01 15:35:46,499 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-08-01 15:35:47,362 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-08-01 15:35:47,363 - INFO - MainProcess - Starting the Streaming Controller...
2025-08-01 15:35:47,365 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-08-01 15:35:47,365 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-08-01 15:35:47,373 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-08-01 15:35:47,373 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-08-01 15:35:47,379 - INFO - MainProcess - Media dispatcher thread started.
2025-08-01 15:35:47,382 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-08-01 15:35:47,382 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-08-01 15:35:47,404 - INFO - MainProcess - Video pipe opened for writing.
2025-08-01 15:35:47,409 - INFO - MainProcess - Audio pipe opened for writing.
2025-08-01 15:39:58,362 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_00.wav. Preparing tasks...
2025-08-01 15:39:58,582 - INFO - MainProcess - [Task-25d47746-d781-49ef-8f74-60f4a34714af] Started processing. Expecting 7 chunks.
2025-08-01 15:39:58,582 - INFO - MainProcess - Task 25d47746-d781-49ef-8f74-60f4a34714af has been started in the background.
2025-08-01 15:39:58,584 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 15:39:58] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 15:40:05,524 - INFO - MainProcess - [Task-25d47746-d781-49ef-8f74-60f4a34714af] Chunk 0 sent to stream queue.
2025-08-01 15:40:05,599 - INFO - MainProcess - >>>>>> Event: A formal task is starting. Initiating crossfade. <<<<<<
2025-08-01 15:40:05,600 - INFO - MainProcess - Clearing media buffer queue (size: 5)...
2025-08-01 15:40:05,600 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 15:40:06,096 - INFO - MainProcess - [Task-25d47746-d781-49ef-8f74-60f4a34714af] Chunk 1 sent to stream queue.
2025-08-01 15:40:07,570 - INFO - MainProcess - [Task-25d47746-d781-49ef-8f74-60f4a34714af] Chunk 2 sent to stream queue.
2025-08-01 15:40:07,571 - INFO - MainProcess - [Task-25d47746-d781-49ef-8f74-60f4a34714af] Chunk 3 sent to stream queue.
2025-08-01 15:40:07,571 - INFO - MainProcess - [Task-25d47746-d781-49ef-8f74-60f4a34714af] Chunk 4 sent to stream queue.
2025-08-01 15:40:07,572 - INFO - MainProcess - [Task-25d47746-d781-49ef-8f74-60f4a34714af] Chunk 5 sent to stream queue.
2025-08-01 15:40:07,572 - INFO - MainProcess - [Task-25d47746-d781-49ef-8f74-60f4a34714af] Chunk 6 sent to stream queue.
2025-08-01 15:40:07,572 - INFO - MainProcess - [Task-25d47746-d781-49ef-8f74-60f4a34714af] All chunks processed and queued successfully.
2025-08-01 15:40:07,572 - INFO - MainProcess - [Task-25d47746-d781-49ef-8f74-60f4a34714af] Processor thread finished and cleaned up.
2025-08-01 15:40:08,599 - INFO - MainProcess - >>>>>> Event: All formal tasks finished and queue drained. Switching back to IDLE. <<<<<<
2025-08-01 15:40:24,860 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_00.wav. Preparing tasks...
2025-08-01 15:40:25,004 - INFO - MainProcess - [Task-aa37e3d1-6dd3-4498-b267-b1a924f26cad] Started processing. Expecting 7 chunks.
2025-08-01 15:40:25,004 - INFO - MainProcess - Task aa37e3d1-6dd3-4498-b267-b1a924f26cad has been started in the background.
2025-08-01 15:40:25,005 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 15:40:25] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 15:40:31,353 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-08-01 15:40:31,458 - INFO - MainProcess - [Task-847d4056-60d5-4769-96bd-1d44d812fa28] Started processing. Expecting 4 chunks.
2025-08-01 15:40:31,458 - INFO - MainProcess - Task 847d4056-60d5-4769-96bd-1d44d812fa28 has been started in the background.
2025-08-01 15:40:31,458 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 15:40:31] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 15:40:32,088 - INFO - MainProcess - [Task-aa37e3d1-6dd3-4498-b267-b1a924f26cad] Chunk 0 sent to stream queue.
2025-08-01 15:40:32,088 - INFO - MainProcess - [Task-aa37e3d1-6dd3-4498-b267-b1a924f26cad] Chunk 1 sent to stream queue.
2025-08-01 15:40:32,225 - INFO - MainProcess - [Task-aa37e3d1-6dd3-4498-b267-b1a924f26cad] Chunk 2 sent to stream queue.
2025-08-01 15:40:32,281 - INFO - MainProcess - [Task-aa37e3d1-6dd3-4498-b267-b1a924f26cad] Chunk 3 sent to stream queue.
2025-08-01 15:40:32,281 - INFO - MainProcess - [Task-aa37e3d1-6dd3-4498-b267-b1a924f26cad] Chunk 4 sent to stream queue.
2025-08-01 15:40:32,283 - INFO - MainProcess - [Task-aa37e3d1-6dd3-4498-b267-b1a924f26cad] Chunk 5 sent to stream queue.
2025-08-01 15:40:32,283 - INFO - MainProcess - [Task-aa37e3d1-6dd3-4498-b267-b1a924f26cad] Chunk 6 sent to stream queue.
2025-08-01 15:40:32,283 - INFO - MainProcess - [Task-aa37e3d1-6dd3-4498-b267-b1a924f26cad] All chunks processed and queued successfully.
2025-08-01 15:40:32,283 - INFO - MainProcess - [Task-aa37e3d1-6dd3-4498-b267-b1a924f26cad] Processor thread finished and cleaned up.
2025-08-01 15:40:32,931 - INFO - MainProcess - >>>>>> Event: A formal task is starting. Initiating crossfade. <<<<<<
2025-08-01 15:40:32,932 - INFO - MainProcess - Clearing media buffer queue (size: 5)...
2025-08-01 15:40:32,932 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 15:40:36,879 - INFO - MainProcess - [Task-847d4056-60d5-4769-96bd-1d44d812fa28] Chunk 0 sent to stream queue.
2025-08-01 15:40:36,880 - INFO - MainProcess - [Task-847d4056-60d5-4769-96bd-1d44d812fa28] Chunk 1 sent to stream queue.
2025-08-01 15:40:36,880 - INFO - MainProcess - [Task-847d4056-60d5-4769-96bd-1d44d812fa28] Chunk 2 sent to stream queue.
2025-08-01 15:40:37,143 - INFO - MainProcess - [Task-847d4056-60d5-4769-96bd-1d44d812fa28] Chunk 3 sent to stream queue.
2025-08-01 15:40:37,143 - INFO - MainProcess - [Task-847d4056-60d5-4769-96bd-1d44d812fa28] All chunks processed and queued successfully.
2025-08-01 15:40:37,143 - INFO - MainProcess - [Task-847d4056-60d5-4769-96bd-1d44d812fa28] Processor thread finished and cleaned up.
2025-08-01 15:40:39,240 - INFO - MainProcess - >>>>>> Event: All formal tasks finished and queue drained. Switching back to IDLE. <<<<<<
2025-08-01 15:40:40,816 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_00.wav. Preparing tasks...
2025-08-01 15:40:40,928 - INFO - MainProcess - [Task-f6a2bebd-59a0-4342-afda-1b32027373a6] Started processing. Expecting 7 chunks.
2025-08-01 15:40:40,928 - INFO - MainProcess - Task f6a2bebd-59a0-4342-afda-1b32027373a6 has been started in the background.
2025-08-01 15:40:40,929 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 15:40:40] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 15:40:45,342 - INFO - MainProcess - [Task-f6a2bebd-59a0-4342-afda-1b32027373a6] Chunk 0 sent to stream queue.
2025-08-01 15:40:46,256 - INFO - MainProcess - >>>>>> Event: A formal task is starting. Initiating crossfade. <<<<<<
2025-08-01 15:40:46,257 - INFO - MainProcess - Clearing media buffer queue (size: 5)...
2025-08-01 15:40:46,257 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 15:40:47,008 - INFO - MainProcess - [Task-f6a2bebd-59a0-4342-afda-1b32027373a6] Chunk 1 sent to stream queue.
2025-08-01 15:40:47,008 - INFO - MainProcess - [Task-f6a2bebd-59a0-4342-afda-1b32027373a6] Chunk 2 sent to stream queue.
2025-08-01 15:40:47,008 - INFO - MainProcess - [Task-f6a2bebd-59a0-4342-afda-1b32027373a6] Chunk 3 sent to stream queue.
2025-08-01 15:40:47,008 - INFO - MainProcess - [Task-f6a2bebd-59a0-4342-afda-1b32027373a6] Chunk 4 sent to stream queue.
2025-08-01 15:40:47,008 - INFO - MainProcess - [Task-f6a2bebd-59a0-4342-afda-1b32027373a6] Chunk 5 sent to stream queue.
2025-08-01 15:40:47,288 - INFO - MainProcess - [Task-f6a2bebd-59a0-4342-afda-1b32027373a6] Chunk 6 sent to stream queue.
2025-08-01 15:40:47,288 - INFO - MainProcess - [Task-f6a2bebd-59a0-4342-afda-1b32027373a6] All chunks processed and queued successfully.
2025-08-01 15:40:47,288 - INFO - MainProcess - [Task-f6a2bebd-59a0-4342-afda-1b32027373a6] Processor thread finished and cleaned up.
2025-08-01 15:40:49,253 - INFO - MainProcess - >>>>>> Event: All formal tasks finished and queue drained. Switching back to IDLE. <<<<<<
2025-08-01 15:41:06,957 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-08-01 15:41:07,057 - INFO - MainProcess - [Task-388815b1-19ef-465f-b721-20cdddf44047] Started processing. Expecting 4 chunks.
2025-08-01 15:41:07,057 - INFO - MainProcess - Task 388815b1-19ef-465f-b721-20cdddf44047 has been started in the background.
2025-08-01 15:41:07,058 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 15:41:07] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 15:41:11,653 - INFO - MainProcess - [Task-388815b1-19ef-465f-b721-20cdddf44047] Chunk 0 sent to stream queue.
2025-08-01 15:41:11,884 - INFO - MainProcess - [Task-388815b1-19ef-465f-b721-20cdddf44047] Chunk 1 sent to stream queue.
2025-08-01 15:41:12,344 - INFO - MainProcess - [Task-388815b1-19ef-465f-b721-20cdddf44047] Chunk 2 sent to stream queue.
2025-08-01 15:41:12,344 - INFO - MainProcess - [Task-388815b1-19ef-465f-b721-20cdddf44047] Chunk 3 sent to stream queue.
2025-08-01 15:41:12,344 - INFO - MainProcess - [Task-388815b1-19ef-465f-b721-20cdddf44047] All chunks processed and queued successfully.
2025-08-01 15:41:12,344 - INFO - MainProcess - [Task-388815b1-19ef-465f-b721-20cdddf44047] Processor thread finished and cleaned up.
2025-08-01 15:41:12,572 - INFO - MainProcess - >>>>>> Event: A formal task is starting. Initiating crossfade. <<<<<<
2025-08-01 15:41:12,572 - INFO - MainProcess - Clearing media buffer queue (size: 5)...
2025-08-01 15:41:12,572 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 15:41:12,608 - INFO - MainProcess - >>>>>> Event: All formal tasks finished and queue drained. Switching back to IDLE. <<<<<<
2025-08-01 15:41:16,921 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-08-01 15:41:17,024 - INFO - MainProcess - [Task-ba536582-1c67-428e-a3b0-8e13d84c6497] Started processing. Expecting 4 chunks.
2025-08-01 15:41:17,024 - INFO - MainProcess - Task ba536582-1c67-428e-a3b0-8e13d84c6497 has been started in the background.
2025-08-01 15:41:17,025 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 15:41:17] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 15:41:21,297 - INFO - MainProcess - [Task-ba536582-1c67-428e-a3b0-8e13d84c6497] Chunk 0 sent to stream queue.
2025-08-01 15:41:21,651 - INFO - MainProcess - [Task-ba536582-1c67-428e-a3b0-8e13d84c6497] Chunk 1 sent to stream queue.
2025-08-01 15:41:21,891 - INFO - MainProcess - >>>>>> Event: A formal task is starting. Initiating crossfade. <<<<<<
2025-08-01 15:41:21,892 - INFO - MainProcess - Clearing media buffer queue (size: 5)...
2025-08-01 15:41:21,892 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 15:41:22,050 - INFO - MainProcess - [Task-ba536582-1c67-428e-a3b0-8e13d84c6497] Chunk 2 sent to stream queue.
2025-08-01 15:41:23,428 - INFO - MainProcess - [Task-ba536582-1c67-428e-a3b0-8e13d84c6497] Chunk 3 sent to stream queue.
2025-08-01 15:41:23,429 - INFO - MainProcess - [Task-ba536582-1c67-428e-a3b0-8e13d84c6497] All chunks processed and queued successfully.
2025-08-01 15:41:23,429 - INFO - MainProcess - [Task-ba536582-1c67-428e-a3b0-8e13d84c6497] Processor thread finished and cleaned up.
2025-08-01 15:41:23,438 - INFO - MainProcess - >>>>>> Event: All formal tasks finished and queue drained. Switching back to IDLE. <<<<<<
2025-08-01 15:50:10,614 - ERROR - MainProcess - Video pipe write error: [Errno 32] Broken pipe
2025-08-01 15:50:10,615 - ERROR - MainProcess - Audio pipe write error: [Errno 32] Broken pipe
2025-08-01 15:50:10,615 - INFO - MainProcess - Video writer thread finished.
2025-08-01 15:50:10,616 - INFO - MainProcess - Audio writer thread finished.
2025-08-01 15:50:17,178 - INFO - MainProcess - Starting Flask service...
2025-08-01 15:50:17,178 - INFO - MainProcess - Loading models and creating worker pool...
2025-08-01 15:50:17,179 - INFO - MainProcess - Loading configuration file...
2025-08-01 15:50:17,191 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-08-01 15:50:17,191 - INFO - MainProcess - Loading model components...
2025-08-01 15:50:30,097 - INFO - MainProcess - All components loaded successfully.
2025-08-01 15:50:30,098 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-08-01 15:50:30,187 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-08-01 15:50:30,187 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-08-01 15:50:52,958 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-08-01 15:50:52,959 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-08-01 15:50:52,972 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-08-01 15:50:53,016 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-08-01 15:50:53,016 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-08-01 15:50:53,016 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-08-01 15:50:55,794 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-08-01 15:50:56,664 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-08-01 15:50:56,665 - INFO - MainProcess - Starting the Streaming Controller...
2025-08-01 15:50:56,667 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-08-01 15:50:56,667 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-08-01 15:50:56,669 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-08-01 15:50:56,679 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-08-01 15:50:56,686 - INFO - MainProcess - Media dispatcher thread started.
2025-08-01 15:50:56,694 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-08-01 15:50:56,694 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-08-01 15:50:56,714 - INFO - MainProcess - Video pipe opened for writing.
2025-08-01 15:50:56,719 - INFO - MainProcess - Audio pipe opened for writing.
2025-08-01 15:52:50,926 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_00.wav. Preparing tasks...
2025-08-01 15:52:51,163 - INFO - MainProcess - [Task-675598ed-392b-4d32-926f-315d96c9d1c1] Started processing. Expecting 7 chunks.
2025-08-01 15:52:51,163 - INFO - MainProcess - Task 675598ed-392b-4d32-926f-315d96c9d1c1 has been started in the background.
2025-08-01 15:52:51,164 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 15:52:51] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 15:52:57,817 - INFO - MainProcess - [Task-675598ed-392b-4d32-926f-315d96c9d1c1] Chunk 0 sent to stream queue.
2025-08-01 15:52:57,883 - INFO - MainProcess - >>>>>> Event: A formal task is starting. Initiating crossfade. <<<<<<
2025-08-01 15:52:57,884 - INFO - MainProcess - Clearing media buffer queue (size: 5)...
2025-08-01 15:52:57,884 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 15:52:58,801 - INFO - MainProcess - [Task-675598ed-392b-4d32-926f-315d96c9d1c1] Chunk 1 sent to stream queue.
2025-08-01 15:52:58,801 - INFO - MainProcess - [Task-675598ed-392b-4d32-926f-315d96c9d1c1] Chunk 2 sent to stream queue.
2025-08-01 15:52:59,228 - INFO - MainProcess - [Task-675598ed-392b-4d32-926f-315d96c9d1c1] Chunk 3 sent to stream queue.
2025-08-01 15:52:59,228 - INFO - MainProcess - [Task-675598ed-392b-4d32-926f-315d96c9d1c1] Chunk 4 sent to stream queue.
2025-08-01 15:52:59,450 - INFO - MainProcess - [Task-675598ed-392b-4d32-926f-315d96c9d1c1] Chunk 5 sent to stream queue.
2025-08-01 15:53:00,160 - INFO - MainProcess - [Task-675598ed-392b-4d32-926f-315d96c9d1c1] Chunk 6 sent to stream queue.
2025-08-01 15:53:00,161 - INFO - MainProcess - [Task-675598ed-392b-4d32-926f-315d96c9d1c1] All chunks processed and queued successfully.
2025-08-01 15:53:00,161 - INFO - MainProcess - [Task-675598ed-392b-4d32-926f-315d96c9d1c1] Processor thread finished and cleaned up.
2025-08-01 15:53:00,882 - INFO - MainProcess - >>>>>> Event: All formal tasks finished and queue drained. Switching back to IDLE. <<<<<<
2025-08-01 15:53:05,908 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-08-01 15:53:06,023 - INFO - MainProcess - [Task-8b9b673a-4de3-455a-ab95-04e45639d254] Started processing. Expecting 4 chunks.
2025-08-01 15:53:06,023 - INFO - MainProcess - Task 8b9b673a-4de3-455a-ab95-04e45639d254 has been started in the background.
2025-08-01 15:53:06,024 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 15:53:06] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 15:53:12,894 - INFO - MainProcess - [Task-8b9b673a-4de3-455a-ab95-04e45639d254] Chunk 0 sent to stream queue.
2025-08-01 15:53:12,894 - INFO - MainProcess - [Task-8b9b673a-4de3-455a-ab95-04e45639d254] Chunk 1 sent to stream queue.
2025-08-01 15:53:12,894 - INFO - MainProcess - [Task-8b9b673a-4de3-455a-ab95-04e45639d254] Chunk 2 sent to stream queue.
2025-08-01 15:53:12,894 - INFO - MainProcess - [Task-8b9b673a-4de3-455a-ab95-04e45639d254] Chunk 3 sent to stream queue.
2025-08-01 15:53:12,895 - INFO - MainProcess - [Task-8b9b673a-4de3-455a-ab95-04e45639d254] All chunks processed and queued successfully.
2025-08-01 15:53:12,895 - INFO - MainProcess - [Task-8b9b673a-4de3-455a-ab95-04e45639d254] Processor thread finished and cleaned up.
2025-08-01 15:53:13,496 - INFO - MainProcess - >>>>>> Event: A formal task is starting. Initiating crossfade. <<<<<<
2025-08-01 15:53:13,497 - INFO - MainProcess - Clearing media buffer queue (size: 5)...
2025-08-01 15:53:13,497 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 15:53:13,541 - INFO - MainProcess - >>>>>> Event: All formal tasks finished and queue drained. Switching back to IDLE. <<<<<<
2025-08-01 15:53:17,256 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_00.wav. Preparing tasks...
2025-08-01 15:53:17,367 - INFO - MainProcess - [Task-fad863a3-120c-4ba0-adc0-1d5284482136] Started processing. Expecting 7 chunks.
2025-08-01 15:53:17,367 - INFO - MainProcess - Task fad863a3-120c-4ba0-adc0-1d5284482136 has been started in the background.
2025-08-01 15:53:17,368 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 15:53:17] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 15:53:21,673 - INFO - MainProcess - [Task-fad863a3-120c-4ba0-adc0-1d5284482136] Chunk 0 sent to stream queue.
2025-08-01 15:53:22,097 - INFO - MainProcess - >>>>>> Event: A formal task is starting. Initiating crossfade. <<<<<<
2025-08-01 15:53:22,097 - INFO - MainProcess - Clearing media buffer queue (size: 5)...
2025-08-01 15:53:22,097 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 15:53:22,513 - INFO - MainProcess - [Task-fad863a3-120c-4ba0-adc0-1d5284482136] Chunk 1 sent to stream queue.
2025-08-01 15:53:22,513 - INFO - MainProcess - [Task-fad863a3-120c-4ba0-adc0-1d5284482136] Chunk 2 sent to stream queue.
2025-08-01 15:53:22,726 - INFO - MainProcess - [Task-fad863a3-120c-4ba0-adc0-1d5284482136] Chunk 3 sent to stream queue.
2025-08-01 15:53:22,940 - INFO - MainProcess - [Task-fad863a3-120c-4ba0-adc0-1d5284482136] Chunk 4 sent to stream queue.
2025-08-01 15:53:23,227 - INFO - MainProcess - [Task-fad863a3-120c-4ba0-adc0-1d5284482136] Chunk 5 sent to stream queue.
2025-08-01 15:53:23,230 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-08-01 15:53:23,456 - INFO - MainProcess - [Task-cd60ea7e-8a68-480a-9811-3ea42bbe1cd9] Started processing. Expecting 4 chunks.
2025-08-01 15:53:23,457 - INFO - MainProcess - Task cd60ea7e-8a68-480a-9811-3ea42bbe1cd9 has been started in the background.
2025-08-01 15:53:23,710 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 15:53:23] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 15:53:23,785 - INFO - MainProcess - [Task-fad863a3-120c-4ba0-adc0-1d5284482136] Chunk 6 sent to stream queue.
2025-08-01 15:53:23,785 - INFO - MainProcess - [Task-fad863a3-120c-4ba0-adc0-1d5284482136] All chunks processed and queued successfully.
2025-08-01 15:53:23,785 - INFO - MainProcess - [Task-fad863a3-120c-4ba0-adc0-1d5284482136] Processor thread finished and cleaned up.
2025-08-01 15:53:27,937 - INFO - MainProcess - [Task-cd60ea7e-8a68-480a-9811-3ea42bbe1cd9] Chunk 0 sent to stream queue.
2025-08-01 15:53:28,448 - INFO - MainProcess - [Task-cd60ea7e-8a68-480a-9811-3ea42bbe1cd9] Chunk 1 sent to stream queue.
2025-08-01 15:53:28,725 - INFO - MainProcess - [Task-cd60ea7e-8a68-480a-9811-3ea42bbe1cd9] Chunk 2 sent to stream queue.
2025-08-01 15:53:29,260 - INFO - MainProcess - [Task-cd60ea7e-8a68-480a-9811-3ea42bbe1cd9] Chunk 3 sent to stream queue.
2025-08-01 15:53:29,261 - INFO - MainProcess - [Task-cd60ea7e-8a68-480a-9811-3ea42bbe1cd9] All chunks processed and queued successfully.
2025-08-01 15:53:29,261 - INFO - MainProcess - [Task-cd60ea7e-8a68-480a-9811-3ea42bbe1cd9] Processor thread finished and cleaned up.
2025-08-01 15:53:29,264 - INFO - MainProcess - >>>>>> Event: All formal tasks finished and queue drained. Switching back to IDLE. <<<<<<
2025-08-01 15:53:29,899 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_00.wav. Preparing tasks...
2025-08-01 15:53:30,007 - INFO - MainProcess - [Task-0e09ab27-5e9f-46af-8b2b-4a7516007bbd] Started processing. Expecting 7 chunks.
2025-08-01 15:53:30,008 - INFO - MainProcess - Task 0e09ab27-5e9f-46af-8b2b-4a7516007bbd has been started in the background.
2025-08-01 15:53:30,009 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 15:53:30] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 15:53:34,610 - INFO - MainProcess - [Task-0e09ab27-5e9f-46af-8b2b-4a7516007bbd] Chunk 0 sent to stream queue.
2025-08-01 15:53:34,694 - INFO - MainProcess - >>>>>> Event: A formal task is starting. Initiating crossfade. <<<<<<
2025-08-01 15:53:34,695 - INFO - MainProcess - Clearing media buffer queue (size: 5)...
2025-08-01 15:53:34,695 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 15:53:34,943 - INFO - MainProcess - [Task-0e09ab27-5e9f-46af-8b2b-4a7516007bbd] Chunk 1 sent to stream queue.
2025-08-01 15:53:35,159 - INFO - MainProcess - [Task-0e09ab27-5e9f-46af-8b2b-4a7516007bbd] Chunk 2 sent to stream queue.
2025-08-01 15:53:35,388 - INFO - MainProcess - [Task-0e09ab27-5e9f-46af-8b2b-4a7516007bbd] Chunk 3 sent to stream queue.
2025-08-01 15:53:35,631 - INFO - MainProcess - [Task-0e09ab27-5e9f-46af-8b2b-4a7516007bbd] Chunk 4 sent to stream queue.
2025-08-01 15:53:35,864 - INFO - MainProcess - [Task-0e09ab27-5e9f-46af-8b2b-4a7516007bbd] Chunk 5 sent to stream queue.
2025-08-01 15:53:36,047 - INFO - MainProcess - [Task-0e09ab27-5e9f-46af-8b2b-4a7516007bbd] Chunk 6 sent to stream queue.
2025-08-01 15:53:36,048 - INFO - MainProcess - [Task-0e09ab27-5e9f-46af-8b2b-4a7516007bbd] All chunks processed and queued successfully.
2025-08-01 15:53:36,048 - INFO - MainProcess - [Task-0e09ab27-5e9f-46af-8b2b-4a7516007bbd] Processor thread finished and cleaned up.
2025-08-01 15:53:37,696 - INFO - MainProcess - >>>>>> Event: All formal tasks finished and queue drained. Switching back to IDLE. <<<<<<
2025-08-01 15:53:40,917 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-08-01 15:53:41,021 - INFO - MainProcess - [Task-d0510753-9938-44e2-80a1-b35c35e5d601] Started processing. Expecting 4 chunks.
2025-08-01 15:53:41,021 - INFO - MainProcess - Task d0510753-9938-44e2-80a1-b35c35e5d601 has been started in the background.
2025-08-01 15:53:41,233 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 15:53:41] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 15:53:46,123 - INFO - MainProcess - [Task-d0510753-9938-44e2-80a1-b35c35e5d601] Chunk 0 sent to stream queue.
2025-08-01 15:53:46,124 - INFO - MainProcess - [Task-d0510753-9938-44e2-80a1-b35c35e5d601] Chunk 1 sent to stream queue.
2025-08-01 15:53:46,295 - INFO - MainProcess - >>>>>> Event: A formal task is starting. Initiating crossfade. <<<<<<
2025-08-01 15:53:46,297 - INFO - MainProcess - Clearing media buffer queue (size: 5)...
2025-08-01 15:53:46,297 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 15:53:46,397 - INFO - MainProcess - [Task-d0510753-9938-44e2-80a1-b35c35e5d601] Chunk 2 sent to stream queue.
2025-08-01 15:53:46,668 - INFO - MainProcess - [Task-d0510753-9938-44e2-80a1-b35c35e5d601] Chunk 3 sent to stream queue.
2025-08-01 15:53:46,668 - INFO - MainProcess - [Task-d0510753-9938-44e2-80a1-b35c35e5d601] All chunks processed and queued successfully.
2025-08-01 15:53:46,668 - INFO - MainProcess - [Task-d0510753-9938-44e2-80a1-b35c35e5d601] Processor thread finished and cleaned up.
2025-08-01 15:53:46,678 - INFO - MainProcess - >>>>>> Event: All formal tasks finished and queue drained. Switching back to IDLE. <<<<<<
2025-08-01 15:53:46,980 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_00.wav. Preparing tasks...
2025-08-01 15:53:47,095 - INFO - MainProcess - [Task-31c7c180-c84d-47d9-b346-4915525fee8a] Started processing. Expecting 7 chunks.
2025-08-01 15:53:47,096 - INFO - MainProcess - Task 31c7c180-c84d-47d9-b346-4915525fee8a has been started in the background.
2025-08-01 15:53:47,096 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 15:53:47] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 15:53:51,754 - INFO - MainProcess - [Task-31c7c180-c84d-47d9-b346-4915525fee8a] Chunk 0 sent to stream queue.
2025-08-01 15:53:52,182 - INFO - MainProcess - [Task-31c7c180-c84d-47d9-b346-4915525fee8a] Chunk 1 sent to stream queue.
2025-08-01 15:53:52,182 - INFO - MainProcess - [Task-31c7c180-c84d-47d9-b346-4915525fee8a] Chunk 2 sent to stream queue.
2025-08-01 15:53:52,279 - INFO - MainProcess - >>>>>> Event: A formal task is starting. Initiating crossfade. <<<<<<
2025-08-01 15:53:52,280 - INFO - MainProcess - Clearing media buffer queue (size: 5)...
2025-08-01 15:53:52,280 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 15:53:52,422 - INFO - MainProcess - [Task-31c7c180-c84d-47d9-b346-4915525fee8a] Chunk 3 sent to stream queue.
2025-08-01 15:53:52,701 - INFO - MainProcess - [Task-31c7c180-c84d-47d9-b346-4915525fee8a] Chunk 4 sent to stream queue.
2025-08-01 15:53:53,059 - INFO - MainProcess - [Task-31c7c180-c84d-47d9-b346-4915525fee8a] Chunk 5 sent to stream queue.
2025-08-01 15:53:53,350 - INFO - MainProcess - [Task-31c7c180-c84d-47d9-b346-4915525fee8a] Chunk 6 sent to stream queue.
2025-08-01 15:53:53,351 - INFO - MainProcess - [Task-31c7c180-c84d-47d9-b346-4915525fee8a] All chunks processed and queued successfully.
2025-08-01 15:53:53,351 - INFO - MainProcess - [Task-31c7c180-c84d-47d9-b346-4915525fee8a] Processor thread finished and cleaned up.
2025-08-01 15:53:54,900 - INFO - MainProcess - >>>>>> Event: All formal tasks finished and queue drained. Switching back to IDLE. <<<<<<
2025-08-01 15:53:57,240 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_01.wav. Preparing tasks...
2025-08-01 15:53:57,360 - INFO - MainProcess - [Task-8fad6f0f-1be3-45fb-a608-a0006a580b8a] Started processing. Expecting 7 chunks.
2025-08-01 15:53:57,360 - INFO - MainProcess - Task 8fad6f0f-1be3-45fb-a608-a0006a580b8a has been started in the background.
2025-08-01 15:53:57,573 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 15:53:57] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 15:54:01,785 - INFO - MainProcess - [Task-8fad6f0f-1be3-45fb-a608-a0006a580b8a] Chunk 0 sent to stream queue.
2025-08-01 15:54:02,235 - INFO - MainProcess - [Task-8fad6f0f-1be3-45fb-a608-a0006a580b8a] Chunk 1 sent to stream queue.
2025-08-01 15:54:02,474 - INFO - MainProcess - [Task-8fad6f0f-1be3-45fb-a608-a0006a580b8a] Chunk 2 sent to stream queue.
2025-08-01 15:54:02,493 - INFO - MainProcess - >>>>>> Event: A formal task is starting. Initiating crossfade. <<<<<<
2025-08-01 15:54:02,493 - INFO - MainProcess - Clearing media buffer queue (size: 5)...
2025-08-01 15:54:02,494 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 15:54:02,744 - INFO - MainProcess - [Task-8fad6f0f-1be3-45fb-a608-a0006a580b8a] Chunk 3 sent to stream queue.
2025-08-01 15:54:02,982 - INFO - MainProcess - [Task-8fad6f0f-1be3-45fb-a608-a0006a580b8a] Chunk 4 sent to stream queue.
2025-08-01 15:54:03,338 - INFO - MainProcess - [Task-8fad6f0f-1be3-45fb-a608-a0006a580b8a] Chunk 5 sent to stream queue.
2025-08-01 15:54:03,587 - INFO - MainProcess - [Task-8fad6f0f-1be3-45fb-a608-a0006a580b8a] Chunk 6 sent to stream queue.
2025-08-01 15:54:03,587 - INFO - MainProcess - [Task-8fad6f0f-1be3-45fb-a608-a0006a580b8a] All chunks processed and queued successfully.
2025-08-01 15:54:03,587 - INFO - MainProcess - [Task-8fad6f0f-1be3-45fb-a608-a0006a580b8a] Processor thread finished and cleaned up.
2025-08-01 15:54:03,745 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_00.wav. Preparing tasks...
2025-08-01 15:54:03,854 - INFO - MainProcess - [Task-bcc958ed-bd64-4704-9f98-585d5e0b315d] Started processing. Expecting 7 chunks.
2025-08-01 15:54:03,854 - INFO - MainProcess - Task bcc958ed-bd64-4704-9f98-585d5e0b315d has been started in the background.
2025-08-01 15:54:03,855 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 15:54:03] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 15:54:08,268 - INFO - MainProcess - [Task-bcc958ed-bd64-4704-9f98-585d5e0b315d] Chunk 0 sent to stream queue.
2025-08-01 15:54:08,602 - INFO - MainProcess - [Task-bcc958ed-bd64-4704-9f98-585d5e0b315d] Chunk 1 sent to stream queue.
2025-08-01 15:54:09,141 - INFO - MainProcess - [Task-bcc958ed-bd64-4704-9f98-585d5e0b315d] Chunk 2 sent to stream queue.
2025-08-01 15:54:09,141 - INFO - MainProcess - [Task-bcc958ed-bd64-4704-9f98-585d5e0b315d] Chunk 3 sent to stream queue.
2025-08-01 15:54:09,521 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_01.wav. Preparing tasks...
2025-08-01 15:54:09,748 - INFO - MainProcess - [Task-3f520aa6-109a-4cf5-8209-c5d4f809d2be] Started processing. Expecting 7 chunks.
2025-08-01 15:54:09,750 - INFO - MainProcess - Task 3f520aa6-109a-4cf5-8209-c5d4f809d2be has been started in the background.
2025-08-01 15:54:09,962 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 15:54:09] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 15:54:10,047 - INFO - MainProcess - [Task-bcc958ed-bd64-4704-9f98-585d5e0b315d] Chunk 4 sent to stream queue.
2025-08-01 15:54:10,048 - INFO - MainProcess - [Task-bcc958ed-bd64-4704-9f98-585d5e0b315d] Chunk 5 sent to stream queue.
2025-08-01 15:54:10,695 - INFO - MainProcess - [Task-bcc958ed-bd64-4704-9f98-585d5e0b315d] Chunk 6 sent to stream queue.
2025-08-01 15:54:10,695 - INFO - MainProcess - [Task-bcc958ed-bd64-4704-9f98-585d5e0b315d] All chunks processed and queued successfully.
2025-08-01 15:54:10,695 - INFO - MainProcess - [Task-bcc958ed-bd64-4704-9f98-585d5e0b315d] Processor thread finished and cleaned up.
2025-08-01 15:54:14,287 - INFO - MainProcess - [Task-3f520aa6-109a-4cf5-8209-c5d4f809d2be] Chunk 0 sent to stream queue.
2025-08-01 15:54:14,580 - INFO - MainProcess - [Task-3f520aa6-109a-4cf5-8209-c5d4f809d2be] Chunk 1 sent to stream queue.
2025-08-01 15:54:14,921 - INFO - MainProcess - [Task-3f520aa6-109a-4cf5-8209-c5d4f809d2be] Chunk 2 sent to stream queue.
2025-08-01 15:54:15,152 - INFO - MainProcess - [Task-3f520aa6-109a-4cf5-8209-c5d4f809d2be] Chunk 3 sent to stream queue.
2025-08-01 15:54:15,473 - INFO - MainProcess - [Task-3f520aa6-109a-4cf5-8209-c5d4f809d2be] Chunk 4 sent to stream queue.
2025-08-01 15:54:15,705 - INFO - MainProcess - [Task-3f520aa6-109a-4cf5-8209-c5d4f809d2be] Chunk 5 sent to stream queue.
2025-08-01 15:54:16,259 - INFO - MainProcess - [Task-3f520aa6-109a-4cf5-8209-c5d4f809d2be] Chunk 6 sent to stream queue.
2025-08-01 15:54:16,259 - INFO - MainProcess - [Task-3f520aa6-109a-4cf5-8209-c5d4f809d2be] All chunks processed and queued successfully.
2025-08-01 15:54:16,260 - INFO - MainProcess - [Task-3f520aa6-109a-4cf5-8209-c5d4f809d2be] Processor thread finished and cleaned up.
2025-08-01 15:54:19,096 - INFO - MainProcess - >>>>>> Event: All formal tasks finished and queue drained. Switching back to IDLE. <<<<<<
2025-08-01 16:02:17,675 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_00.wav. Preparing tasks...
2025-08-01 16:02:17,784 - INFO - MainProcess - [Task-18395845-e4ae-424c-9f8a-cc4d4b32d3a2] Started processing. Expecting 7 chunks.
2025-08-01 16:02:17,785 - INFO - MainProcess - Task 18395845-e4ae-424c-9f8a-cc4d4b32d3a2 has been started in the background.
2025-08-01 16:02:17,786 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 16:02:17] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 16:02:21,991 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_01.wav. Preparing tasks...
2025-08-01 16:02:22,239 - INFO - MainProcess - [Task-18395845-e4ae-424c-9f8a-cc4d4b32d3a2] Chunk 0 sent to stream queue.
2025-08-01 16:02:22,248 - INFO - MainProcess - [Task-1c581efd-bdb8-4b16-8c4f-cc59e3fc4b01] Started processing. Expecting 7 chunks.
2025-08-01 16:02:22,249 - INFO - MainProcess - Task 1c581efd-bdb8-4b16-8c4f-cc59e3fc4b01 has been started in the background.
2025-08-01 16:02:22,391 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 16:02:22] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 16:02:22,857 - INFO - MainProcess - [Task-18395845-e4ae-424c-9f8a-cc4d4b32d3a2] Chunk 1 sent to stream queue.
2025-08-01 16:02:23,100 - INFO - MainProcess - >>>>>> Event: A formal task is starting. Initiating crossfade. <<<<<<
2025-08-01 16:02:23,101 - INFO - MainProcess - Clearing media buffer queue (size: 5)...
2025-08-01 16:02:23,102 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 16:02:23,464 - INFO - MainProcess - [Task-18395845-e4ae-424c-9f8a-cc4d4b32d3a2] Chunk 2 sent to stream queue.
2025-08-01 16:02:23,951 - INFO - MainProcess - [Task-18395845-e4ae-424c-9f8a-cc4d4b32d3a2] Chunk 3 sent to stream queue.
2025-08-01 16:02:24,318 - INFO - MainProcess - [Task-18395845-e4ae-424c-9f8a-cc4d4b32d3a2] Chunk 4 sent to stream queue.
2025-08-01 16:02:24,761 - INFO - MainProcess - [Task-18395845-e4ae-424c-9f8a-cc4d4b32d3a2] Chunk 5 sent to stream queue.
2025-08-01 16:02:24,951 - INFO - MainProcess - [Task-18395845-e4ae-424c-9f8a-cc4d4b32d3a2] Chunk 6 sent to stream queue.
2025-08-01 16:02:24,951 - INFO - MainProcess - [Task-18395845-e4ae-424c-9f8a-cc4d4b32d3a2] All chunks processed and queued successfully.
2025-08-01 16:02:24,951 - INFO - MainProcess - [Task-18395845-e4ae-424c-9f8a-cc4d4b32d3a2] Processor thread finished and cleaned up.
2025-08-01 16:02:26,792 - INFO - MainProcess - [Task-1c581efd-bdb8-4b16-8c4f-cc59e3fc4b01] Chunk 0 sent to stream queue.
2025-08-01 16:02:27,094 - INFO - MainProcess - [Task-1c581efd-bdb8-4b16-8c4f-cc59e3fc4b01] Chunk 1 sent to stream queue.
2025-08-01 16:02:27,298 - INFO - MainProcess - [Task-1c581efd-bdb8-4b16-8c4f-cc59e3fc4b01] Chunk 2 sent to stream queue.
2025-08-01 16:02:27,835 - INFO - MainProcess - [Task-1c581efd-bdb8-4b16-8c4f-cc59e3fc4b01] Chunk 3 sent to stream queue.
2025-08-01 16:02:28,279 - INFO - MainProcess - [Task-1c581efd-bdb8-4b16-8c4f-cc59e3fc4b01] Chunk 4 sent to stream queue.
2025-08-01 16:02:28,515 - INFO - MainProcess - [Task-1c581efd-bdb8-4b16-8c4f-cc59e3fc4b01] Chunk 5 sent to stream queue.
2025-08-01 16:02:28,911 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_00.wav. Preparing tasks...
2025-08-01 16:02:29,103 - INFO - MainProcess - [Task-1c581efd-bdb8-4b16-8c4f-cc59e3fc4b01] Chunk 6 sent to stream queue.
2025-08-01 16:02:29,104 - INFO - MainProcess - [Task-1c581efd-bdb8-4b16-8c4f-cc59e3fc4b01] All chunks processed and queued successfully.
2025-08-01 16:02:29,104 - INFO - MainProcess - [Task-1c581efd-bdb8-4b16-8c4f-cc59e3fc4b01] Processor thread finished and cleaned up.
2025-08-01 16:02:29,115 - INFO - MainProcess - [Task-85285c1b-6886-4a02-8a24-9b8f051a7d28] Started processing. Expecting 7 chunks.
2025-08-01 16:02:29,115 - INFO - MainProcess - Task 85285c1b-6886-4a02-8a24-9b8f051a7d28 has been started in the background.
2025-08-01 16:02:29,336 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 16:02:29] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 16:02:33,741 - INFO - MainProcess - [Task-85285c1b-6886-4a02-8a24-9b8f051a7d28] Chunk 0 sent to stream queue.
2025-08-01 16:02:34,140 - INFO - MainProcess - [Task-85285c1b-6886-4a02-8a24-9b8f051a7d28] Chunk 1 sent to stream queue.
2025-08-01 16:02:34,401 - INFO - MainProcess - [Task-85285c1b-6886-4a02-8a24-9b8f051a7d28] Chunk 2 sent to stream queue.
2025-08-01 16:02:34,643 - INFO - MainProcess - [Task-85285c1b-6886-4a02-8a24-9b8f051a7d28] Chunk 3 sent to stream queue.
2025-08-01 16:02:34,901 - INFO - MainProcess - [Task-85285c1b-6886-4a02-8a24-9b8f051a7d28] Chunk 4 sent to stream queue.
2025-08-01 16:02:35,114 - INFO - MainProcess - [Task-85285c1b-6886-4a02-8a24-9b8f051a7d28] Chunk 5 sent to stream queue.
2025-08-01 16:02:35,314 - INFO - MainProcess - [Task-85285c1b-6886-4a02-8a24-9b8f051a7d28] Chunk 6 sent to stream queue.
2025-08-01 16:02:35,315 - INFO - MainProcess - [Task-85285c1b-6886-4a02-8a24-9b8f051a7d28] All chunks processed and queued successfully.
2025-08-01 16:02:35,315 - INFO - MainProcess - [Task-85285c1b-6886-4a02-8a24-9b8f051a7d28] Processor thread finished and cleaned up.
2025-08-01 16:02:38,395 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_01.wav. Preparing tasks...
2025-08-01 16:02:38,511 - INFO - MainProcess - [Task-09723a7c-07c7-4255-bec3-f52851cfd059] Started processing. Expecting 7 chunks.
2025-08-01 16:02:38,511 - INFO - MainProcess - Task 09723a7c-07c7-4255-bec3-f52851cfd059 has been started in the background.
2025-08-01 16:02:38,672 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 16:02:38] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 16:02:43,107 - INFO - MainProcess - [Task-09723a7c-07c7-4255-bec3-f52851cfd059] Chunk 0 sent to stream queue.
2025-08-01 16:02:43,705 - INFO - MainProcess - [Task-09723a7c-07c7-4255-bec3-f52851cfd059] Chunk 1 sent to stream queue.
2025-08-01 16:02:43,997 - INFO - MainProcess - [Task-09723a7c-07c7-4255-bec3-f52851cfd059] Chunk 2 sent to stream queue.
2025-08-01 16:02:44,261 - INFO - MainProcess - [Task-09723a7c-07c7-4255-bec3-f52851cfd059] Chunk 3 sent to stream queue.
2025-08-01 16:02:44,523 - INFO - MainProcess - [Task-09723a7c-07c7-4255-bec3-f52851cfd059] Chunk 4 sent to stream queue.
2025-08-01 16:02:44,819 - INFO - MainProcess - [Task-09723a7c-07c7-4255-bec3-f52851cfd059] Chunk 5 sent to stream queue.
2025-08-01 16:02:45,079 - INFO - MainProcess - [Task-09723a7c-07c7-4255-bec3-f52851cfd059] Chunk 6 sent to stream queue.
2025-08-01 16:02:45,079 - INFO - MainProcess - [Task-09723a7c-07c7-4255-bec3-f52851cfd059] All chunks processed and queued successfully.
2025-08-01 16:02:45,080 - INFO - MainProcess - [Task-09723a7c-07c7-4255-bec3-f52851cfd059] Processor thread finished and cleaned up.
2025-08-01 16:02:46,694 - INFO - MainProcess - >>>>>> Event: All formal tasks finished and queue drained. Switching back to IDLE. <<<<<<
2025-08-01 16:02:52,667 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-08-01 16:02:52,788 - INFO - MainProcess - [Task-735f51b0-2797-48a8-9b14-0745d78568fb] Started processing. Expecting 4 chunks.
2025-08-01 16:02:52,789 - INFO - MainProcess - Task 735f51b0-2797-48a8-9b14-0745d78568fb has been started in the background.
2025-08-01 16:02:52,790 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 16:02:52] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 16:02:57,369 - INFO - MainProcess - [Task-735f51b0-2797-48a8-9b14-0745d78568fb] Chunk 0 sent to stream queue.
2025-08-01 16:02:57,695 - INFO - MainProcess - >>>>>> Event: A formal task is starting. Initiating crossfade. <<<<<<
2025-08-01 16:02:57,695 - INFO - MainProcess - Clearing media buffer queue (size: 5)...
2025-08-01 16:02:57,696 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 16:02:57,953 - INFO - MainProcess - [Task-735f51b0-2797-48a8-9b14-0745d78568fb] Chunk 1 sent to stream queue.
2025-08-01 16:02:58,446 - INFO - MainProcess - [Task-735f51b0-2797-48a8-9b14-0745d78568fb] Chunk 2 sent to stream queue.
2025-08-01 16:02:58,447 - INFO - MainProcess - [Task-735f51b0-2797-48a8-9b14-0745d78568fb] Chunk 3 sent to stream queue.
2025-08-01 16:02:58,447 - INFO - MainProcess - [Task-735f51b0-2797-48a8-9b14-0745d78568fb] All chunks processed and queued successfully.
2025-08-01 16:02:58,447 - INFO - MainProcess - [Task-735f51b0-2797-48a8-9b14-0745d78568fb] Processor thread finished and cleaned up.
2025-08-01 16:02:58,447 - INFO - MainProcess - >>>>>> Event: All formal tasks finished and queue drained. Switching back to IDLE. <<<<<<
2025-08-01 16:03:04,721 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-08-01 16:03:04,821 - INFO - MainProcess - [Task-c0e57b1a-0932-4aa5-a85f-34d2476b4995] Started processing. Expecting 4 chunks.
2025-08-01 16:03:04,822 - INFO - MainProcess - Task c0e57b1a-0932-4aa5-a85f-34d2476b4995 has been started in the background.
2025-08-01 16:03:04,823 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 16:03:04] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 16:03:09,966 - INFO - MainProcess - [Task-c0e57b1a-0932-4aa5-a85f-34d2476b4995] Chunk 0 sent to stream queue.
2025-08-01 16:03:10,302 - INFO - MainProcess - >>>>>> Event: A formal task is starting. Initiating crossfade. <<<<<<
2025-08-01 16:03:10,303 - INFO - MainProcess - Clearing media buffer queue (size: 5)...
2025-08-01 16:03:10,304 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 16:03:10,489 - INFO - MainProcess - [Task-c0e57b1a-0932-4aa5-a85f-34d2476b4995] Chunk 1 sent to stream queue.
2025-08-01 16:03:10,489 - INFO - MainProcess - [Task-c0e57b1a-0932-4aa5-a85f-34d2476b4995] Chunk 2 sent to stream queue.
2025-08-01 16:03:10,761 - INFO - MainProcess - [Task-c0e57b1a-0932-4aa5-a85f-34d2476b4995] Chunk 3 sent to stream queue.
2025-08-01 16:03:10,762 - INFO - MainProcess - [Task-c0e57b1a-0932-4aa5-a85f-34d2476b4995] All chunks processed and queued successfully.
2025-08-01 16:03:10,762 - INFO - MainProcess - [Task-c0e57b1a-0932-4aa5-a85f-34d2476b4995] Processor thread finished and cleaned up.
2025-08-01 16:03:10,764 - INFO - MainProcess - >>>>>> Event: All formal tasks finished and queue drained. Switching back to IDLE. <<<<<<
2025-08-01 16:03:13,898 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_01.wav. Preparing tasks...
2025-08-01 16:03:14,018 - INFO - MainProcess - [Task-4ecb5ac7-b649-442b-9a37-128b77030150] Started processing. Expecting 7 chunks.
2025-08-01 16:03:14,018 - INFO - MainProcess - Task 4ecb5ac7-b649-442b-9a37-128b77030150 has been started in the background.
2025-08-01 16:03:14,020 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 16:03:14] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 16:03:18,541 - INFO - MainProcess - [Task-4ecb5ac7-b649-442b-9a37-128b77030150] Chunk 0 sent to stream queue.
2025-08-01 16:03:18,887 - INFO - MainProcess - >>>>>> Event: A formal task is starting. Initiating crossfade. <<<<<<
2025-08-01 16:03:18,888 - INFO - MainProcess - Clearing media buffer queue (size: 5)...
2025-08-01 16:03:18,889 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 16:03:18,963 - INFO - MainProcess - [Task-4ecb5ac7-b649-442b-9a37-128b77030150] Chunk 1 sent to stream queue.
2025-08-01 16:03:19,183 - INFO - MainProcess - [Task-4ecb5ac7-b649-442b-9a37-128b77030150] Chunk 2 sent to stream queue.
2025-08-01 16:03:19,764 - INFO - MainProcess - [Task-4ecb5ac7-b649-442b-9a37-128b77030150] Chunk 3 sent to stream queue.
2025-08-01 16:03:19,765 - INFO - MainProcess - [Task-4ecb5ac7-b649-442b-9a37-128b77030150] Chunk 4 sent to stream queue.
2025-08-01 16:03:20,006 - INFO - MainProcess - [Task-4ecb5ac7-b649-442b-9a37-128b77030150] Chunk 5 sent to stream queue.
2025-08-01 16:03:20,233 - INFO - MainProcess - [Task-4ecb5ac7-b649-442b-9a37-128b77030150] Chunk 6 sent to stream queue.
2025-08-01 16:03:20,233 - INFO - MainProcess - [Task-4ecb5ac7-b649-442b-9a37-128b77030150] All chunks processed and queued successfully.
2025-08-01 16:03:20,233 - INFO - MainProcess - [Task-4ecb5ac7-b649-442b-9a37-128b77030150] Processor thread finished and cleaned up.
2025-08-01 16:03:20,968 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-08-01 16:03:21,065 - INFO - MainProcess - [Task-2ef261cf-c0b2-487e-bed3-8874728838f3] Started processing. Expecting 4 chunks.
2025-08-01 16:03:21,065 - INFO - MainProcess - Task 2ef261cf-c0b2-487e-bed3-8874728838f3 has been started in the background.
2025-08-01 16:03:21,066 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 16:03:21] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 16:03:25,578 - INFO - MainProcess - [Task-2ef261cf-c0b2-487e-bed3-8874728838f3] Chunk 0 sent to stream queue.
2025-08-01 16:03:25,895 - INFO - MainProcess - [Task-2ef261cf-c0b2-487e-bed3-8874728838f3] Chunk 1 sent to stream queue.
2025-08-01 16:03:26,205 - INFO - MainProcess - [Task-2ef261cf-c0b2-487e-bed3-8874728838f3] Chunk 2 sent to stream queue.
2025-08-01 16:03:26,450 - INFO - MainProcess - [Task-2ef261cf-c0b2-487e-bed3-8874728838f3] Chunk 3 sent to stream queue.
2025-08-01 16:03:26,451 - INFO - MainProcess - [Task-2ef261cf-c0b2-487e-bed3-8874728838f3] All chunks processed and queued successfully.
2025-08-01 16:03:26,451 - INFO - MainProcess - [Task-2ef261cf-c0b2-487e-bed3-8874728838f3] Processor thread finished and cleaned up.
2025-08-01 16:03:26,455 - INFO - MainProcess - >>>>>> Event: All formal tasks finished and queue drained. Switching back to IDLE. <<<<<<
2025-08-01 16:03:28,353 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_01.wav. Preparing tasks...
2025-08-01 16:03:28,472 - INFO - MainProcess - [Task-7230f523-3819-45e2-a2cb-bb49e3f14201] Started processing. Expecting 7 chunks.
2025-08-01 16:03:28,472 - INFO - MainProcess - Task 7230f523-3819-45e2-a2cb-bb49e3f14201 has been started in the background.
2025-08-01 16:03:28,473 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 16:03:28] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 16:03:32,771 - INFO - MainProcess - [Task-7230f523-3819-45e2-a2cb-bb49e3f14201] Chunk 0 sent to stream queue.
2025-08-01 16:03:33,495 - INFO - MainProcess - >>>>>> Event: A formal task is starting. Initiating crossfade. <<<<<<
2025-08-01 16:03:33,496 - INFO - MainProcess - Clearing media buffer queue (size: 5)...
2025-08-01 16:03:33,497 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 16:03:33,637 - INFO - MainProcess - [Task-7230f523-3819-45e2-a2cb-bb49e3f14201] Chunk 1 sent to stream queue.
2025-08-01 16:03:33,638 - INFO - MainProcess - [Task-7230f523-3819-45e2-a2cb-bb49e3f14201] Chunk 2 sent to stream queue.
2025-08-01 16:03:33,876 - INFO - MainProcess - [Task-7230f523-3819-45e2-a2cb-bb49e3f14201] Chunk 3 sent to stream queue.
2025-08-01 16:03:34,203 - INFO - MainProcess - [Task-7230f523-3819-45e2-a2cb-bb49e3f14201] Chunk 4 sent to stream queue.
2025-08-01 16:03:34,425 - INFO - MainProcess - [Task-7230f523-3819-45e2-a2cb-bb49e3f14201] Chunk 5 sent to stream queue.
2025-08-01 16:03:34,704 - INFO - MainProcess - [Task-7230f523-3819-45e2-a2cb-bb49e3f14201] Chunk 6 sent to stream queue.
2025-08-01 16:03:34,704 - INFO - MainProcess - [Task-7230f523-3819-45e2-a2cb-bb49e3f14201] All chunks processed and queued successfully.
2025-08-01 16:03:34,704 - INFO - MainProcess - [Task-7230f523-3819-45e2-a2cb-bb49e3f14201] Processor thread finished and cleaned up.
2025-08-01 16:03:36,493 - INFO - MainProcess - >>>>>> Event: All formal tasks finished and queue drained. Switching back to IDLE. <<<<<<
2025-08-01 16:05:59,247 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-08-01 16:05:59,352 - INFO - MainProcess - [Task-44b724a8-9ef3-460f-847a-ff3b44ea725e] Started processing. Expecting 4 chunks.
2025-08-01 16:05:59,352 - INFO - MainProcess - Task 44b724a8-9ef3-460f-847a-ff3b44ea725e has been started in the background.
2025-08-01 16:05:59,353 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 16:05:59] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 16:06:04,128 - INFO - MainProcess - [Task-44b724a8-9ef3-460f-847a-ff3b44ea725e] Chunk 0 sent to stream queue.
2025-08-01 16:06:04,144 - INFO - MainProcess - [Task-44b724a8-9ef3-460f-847a-ff3b44ea725e] Chunk 1 sent to stream queue.
2025-08-01 16:06:04,144 - INFO - MainProcess - >>>>>> Event: A formal task is starting. Initiating crossfade. <<<<<<
2025-08-01 16:06:04,145 - INFO - MainProcess - Clearing media buffer queue (size: 5)...
2025-08-01 16:06:04,145 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 16:06:04,386 - INFO - MainProcess - [Task-44b724a8-9ef3-460f-847a-ff3b44ea725e] Chunk 2 sent to stream queue.
2025-08-01 16:06:04,752 - INFO - MainProcess - [Task-44b724a8-9ef3-460f-847a-ff3b44ea725e] Chunk 3 sent to stream queue.
2025-08-01 16:06:04,752 - INFO - MainProcess - [Task-44b724a8-9ef3-460f-847a-ff3b44ea725e] All chunks processed and queued successfully.
2025-08-01 16:06:04,752 - INFO - MainProcess - [Task-44b724a8-9ef3-460f-847a-ff3b44ea725e] Processor thread finished and cleaned up.
2025-08-01 16:06:04,757 - INFO - MainProcess - >>>>>> Event: All formal tasks finished and queue drained. Switching back to IDLE. <<<<<<
2025-08-01 16:06:05,778 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_01.wav. Preparing tasks...
2025-08-01 16:06:05,897 - INFO - MainProcess - [Task-ecdefda3-7b16-437f-9b1d-a0b08075239e] Started processing. Expecting 7 chunks.
2025-08-01 16:06:05,897 - INFO - MainProcess - Task ecdefda3-7b16-437f-9b1d-a0b08075239e has been started in the background.
2025-08-01 16:06:06,100 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 16:06:06] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 16:06:10,411 - INFO - MainProcess - [Task-ecdefda3-7b16-437f-9b1d-a0b08075239e] Chunk 0 sent to stream queue.
2025-08-01 16:06:10,648 - INFO - MainProcess - [Task-ecdefda3-7b16-437f-9b1d-a0b08075239e] Chunk 1 sent to stream queue.
2025-08-01 16:06:10,680 - INFO - MainProcess - >>>>>> Event: A formal task is starting. Initiating crossfade. <<<<<<
2025-08-01 16:06:10,681 - INFO - MainProcess - Clearing media buffer queue (size: 5)...
2025-08-01 16:06:10,681 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 16:06:10,839 - INFO - MainProcess - [Task-ecdefda3-7b16-437f-9b1d-a0b08075239e] Chunk 2 sent to stream queue.
2025-08-01 16:06:11,411 - INFO - MainProcess - [Task-ecdefda3-7b16-437f-9b1d-a0b08075239e] Chunk 3 sent to stream queue.
2025-08-01 16:06:11,650 - INFO - MainProcess - [Task-ecdefda3-7b16-437f-9b1d-a0b08075239e] Chunk 4 sent to stream queue.
2025-08-01 16:06:11,919 - INFO - MainProcess - [Task-ecdefda3-7b16-437f-9b1d-a0b08075239e] Chunk 5 sent to stream queue.
2025-08-01 16:06:12,161 - INFO - MainProcess - [Task-ecdefda3-7b16-437f-9b1d-a0b08075239e] Chunk 6 sent to stream queue.
2025-08-01 16:06:12,161 - INFO - MainProcess - [Task-ecdefda3-7b16-437f-9b1d-a0b08075239e] All chunks processed and queued successfully.
2025-08-01 16:06:12,161 - INFO - MainProcess - [Task-ecdefda3-7b16-437f-9b1d-a0b08075239e] Processor thread finished and cleaned up.
2025-08-01 16:06:13,015 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_00.wav. Preparing tasks...
2025-08-01 16:06:13,127 - INFO - MainProcess - [Task-731854a1-756c-45cd-83a3-a6f98fc5afb0] Started processing. Expecting 7 chunks.
2025-08-01 16:06:13,127 - INFO - MainProcess - Task 731854a1-756c-45cd-83a3-a6f98fc5afb0 has been started in the background.
2025-08-01 16:06:13,364 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 16:06:13] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 16:06:17,610 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-08-01 16:06:17,717 - INFO - MainProcess - [Task-731854a1-756c-45cd-83a3-a6f98fc5afb0] Chunk 0 sent to stream queue.
2025-08-01 16:06:17,856 - INFO - MainProcess - [Task-22db4dc1-e030-4944-bcf3-a77f0172b7c7] Started processing. Expecting 4 chunks.
2025-08-01 16:06:17,857 - INFO - MainProcess - Task 22db4dc1-e030-4944-bcf3-a77f0172b7c7 has been started in the background.
2025-08-01 16:06:18,073 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 16:06:18] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 16:06:18,236 - INFO - MainProcess - [Task-731854a1-756c-45cd-83a3-a6f98fc5afb0] Chunk 1 sent to stream queue.
2025-08-01 16:06:18,880 - INFO - MainProcess - [Task-731854a1-756c-45cd-83a3-a6f98fc5afb0] Chunk 2 sent to stream queue.
2025-08-01 16:06:19,237 - INFO - MainProcess - [Task-731854a1-756c-45cd-83a3-a6f98fc5afb0] Chunk 3 sent to stream queue.
2025-08-01 16:06:19,476 - INFO - MainProcess - [Task-731854a1-756c-45cd-83a3-a6f98fc5afb0] Chunk 4 sent to stream queue.
2025-08-01 16:06:19,677 - INFO - MainProcess - [Task-731854a1-756c-45cd-83a3-a6f98fc5afb0] Chunk 5 sent to stream queue.
2025-08-01 16:06:19,865 - INFO - MainProcess - [Task-731854a1-756c-45cd-83a3-a6f98fc5afb0] Chunk 6 sent to stream queue.
2025-08-01 16:06:19,865 - INFO - MainProcess - [Task-731854a1-756c-45cd-83a3-a6f98fc5afb0] All chunks processed and queued successfully.
2025-08-01 16:06:19,865 - INFO - MainProcess - [Task-731854a1-756c-45cd-83a3-a6f98fc5afb0] Processor thread finished and cleaned up.
2025-08-01 16:06:22,224 - INFO - MainProcess - [Task-22db4dc1-e030-4944-bcf3-a77f0172b7c7] Chunk 0 sent to stream queue.
2025-08-01 16:06:22,789 - INFO - MainProcess - [Task-22db4dc1-e030-4944-bcf3-a77f0172b7c7] Chunk 1 sent to stream queue.
2025-08-01 16:06:23,047 - INFO - MainProcess - [Task-22db4dc1-e030-4944-bcf3-a77f0172b7c7] Chunk 2 sent to stream queue.
2025-08-01 16:06:23,307 - INFO - MainProcess - [Task-22db4dc1-e030-4944-bcf3-a77f0172b7c7] Chunk 3 sent to stream queue.
2025-08-01 16:06:23,308 - INFO - MainProcess - [Task-22db4dc1-e030-4944-bcf3-a77f0172b7c7] All chunks processed and queued successfully.
2025-08-01 16:06:23,308 - INFO - MainProcess - [Task-22db4dc1-e030-4944-bcf3-a77f0172b7c7] Processor thread finished and cleaned up.
2025-08-01 16:06:24,297 - INFO - MainProcess - >>>>>> Event: All formal tasks finished and queue drained. Switching back to IDLE. <<<<<<
2025-08-01 16:06:24,784 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_00.wav. Preparing tasks...
2025-08-01 16:06:24,893 - INFO - MainProcess - [Task-6da6c97c-7296-4ad6-985e-b46c0a980acb] Started processing. Expecting 7 chunks.
2025-08-01 16:06:24,893 - INFO - MainProcess - Task 6da6c97c-7296-4ad6-985e-b46c0a980acb has been started in the background.
2025-08-01 16:06:25,098 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 16:06:25] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 16:06:29,384 - INFO - MainProcess - [Task-6da6c97c-7296-4ad6-985e-b46c0a980acb] Chunk 0 sent to stream queue.
2025-08-01 16:06:30,086 - INFO - MainProcess - [Task-6da6c97c-7296-4ad6-985e-b46c0a980acb] Chunk 1 sent to stream queue.
2025-08-01 16:06:30,087 - INFO - MainProcess - [Task-6da6c97c-7296-4ad6-985e-b46c0a980acb] Chunk 2 sent to stream queue.
2025-08-01 16:06:30,301 - INFO - MainProcess - >>>>>> Event: A formal task is starting. Initiating crossfade. <<<<<<
2025-08-01 16:06:30,306 - INFO - MainProcess - Clearing media buffer queue (size: 5)...
2025-08-01 16:06:30,307 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 16:06:30,433 - INFO - MainProcess - [Task-6da6c97c-7296-4ad6-985e-b46c0a980acb] Chunk 3 sent to stream queue.
2025-08-01 16:06:30,668 - INFO - MainProcess - [Task-6da6c97c-7296-4ad6-985e-b46c0a980acb] Chunk 4 sent to stream queue.
2025-08-01 16:06:31,134 - INFO - MainProcess - [Task-6da6c97c-7296-4ad6-985e-b46c0a980acb] Chunk 5 sent to stream queue.
2025-08-01 16:06:31,135 - INFO - MainProcess - [Task-6da6c97c-7296-4ad6-985e-b46c0a980acb] Chunk 6 sent to stream queue.
2025-08-01 16:06:31,135 - INFO - MainProcess - [Task-6da6c97c-7296-4ad6-985e-b46c0a980acb] All chunks processed and queued successfully.
2025-08-01 16:06:31,135 - INFO - MainProcess - [Task-6da6c97c-7296-4ad6-985e-b46c0a980acb] Processor thread finished and cleaned up.
2025-08-01 16:06:32,250 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_01.wav. Preparing tasks...
2025-08-01 16:06:32,372 - INFO - MainProcess - [Task-31022269-0834-4191-86dd-0f9b4887898c] Started processing. Expecting 7 chunks.
2025-08-01 16:06:32,372 - INFO - MainProcess - Task 31022269-0834-4191-86dd-0f9b4887898c has been started in the background.
2025-08-01 16:06:32,522 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 16:06:32] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 16:06:36,633 - INFO - MainProcess - [Task-31022269-0834-4191-86dd-0f9b4887898c] Chunk 0 sent to stream queue.
2025-08-01 16:06:37,190 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-08-01 16:06:37,265 - INFO - MainProcess - [Task-31022269-0834-4191-86dd-0f9b4887898c] Chunk 1 sent to stream queue.
2025-08-01 16:06:37,370 - INFO - MainProcess - [Task-2f0765b5-8982-4380-bee6-fce47e8666d6] Started processing. Expecting 4 chunks.
2025-08-01 16:06:37,508 - INFO - MainProcess - Task 2f0765b5-8982-4380-bee6-fce47e8666d6 has been started in the background.
2025-08-01 16:06:37,567 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 16:06:37] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 16:06:37,897 - INFO - MainProcess - [Task-31022269-0834-4191-86dd-0f9b4887898c] Chunk 2 sent to stream queue.
2025-08-01 16:06:38,462 - INFO - MainProcess - [Task-31022269-0834-4191-86dd-0f9b4887898c] Chunk 3 sent to stream queue.
2025-08-01 16:06:38,681 - INFO - MainProcess - [Task-31022269-0834-4191-86dd-0f9b4887898c] Chunk 4 sent to stream queue.
2025-08-01 16:06:38,864 - INFO - MainProcess - [Task-31022269-0834-4191-86dd-0f9b4887898c] Chunk 5 sent to stream queue.
2025-08-01 16:06:39,128 - INFO - MainProcess - [Task-31022269-0834-4191-86dd-0f9b4887898c] Chunk 6 sent to stream queue.
2025-08-01 16:06:39,128 - INFO - MainProcess - [Task-31022269-0834-4191-86dd-0f9b4887898c] All chunks processed and queued successfully.
2025-08-01 16:06:39,128 - INFO - MainProcess - [Task-31022269-0834-4191-86dd-0f9b4887898c] Processor thread finished and cleaned up.
2025-08-01 16:06:41,872 - INFO - MainProcess - [Task-2f0765b5-8982-4380-bee6-fce47e8666d6] Chunk 0 sent to stream queue.
2025-08-01 16:06:42,255 - INFO - MainProcess - [Task-2f0765b5-8982-4380-bee6-fce47e8666d6] Chunk 1 sent to stream queue.
2025-08-01 16:06:42,481 - INFO - MainProcess - [Task-2f0765b5-8982-4380-bee6-fce47e8666d6] Chunk 2 sent to stream queue.
2025-08-01 16:06:42,726 - INFO - MainProcess - [Task-2f0765b5-8982-4380-bee6-fce47e8666d6] Chunk 3 sent to stream queue.
2025-08-01 16:06:42,726 - INFO - MainProcess - [Task-2f0765b5-8982-4380-bee6-fce47e8666d6] All chunks processed and queued successfully.
2025-08-01 16:06:42,726 - INFO - MainProcess - [Task-2f0765b5-8982-4380-bee6-fce47e8666d6] Processor thread finished and cleaned up.
2025-08-01 16:06:43,897 - INFO - MainProcess - >>>>>> Event: All formal tasks finished and queue drained. Switching back to IDLE. <<<<<<
2025-08-01 16:06:44,127 - INFO - MainProcess - Received new request for audio: 7s_shan_0801_00.wav. Preparing tasks...
2025-08-01 16:06:44,232 - INFO - MainProcess - [Task-64739bde-ea7f-4553-a9c0-4a9047c13c51] Started processing. Expecting 7 chunks.
2025-08-01 16:06:44,232 - INFO - MainProcess - Task 64739bde-ea7f-4553-a9c0-4a9047c13c51 has been started in the background.
2025-08-01 16:06:44,434 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 16:06:44] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 16:06:48,643 - INFO - MainProcess - [Task-64739bde-ea7f-4553-a9c0-4a9047c13c51] Chunk 0 sent to stream queue.
2025-08-01 16:06:48,891 - INFO - MainProcess - [Task-64739bde-ea7f-4553-a9c0-4a9047c13c51] Chunk 1 sent to stream queue.
2025-08-01 16:06:48,915 - INFO - MainProcess - >>>>>> Event: A formal task is starting. Initiating crossfade. <<<<<<
2025-08-01 16:06:48,915 - INFO - MainProcess - Clearing media buffer queue (size: 5)...
2025-08-01 16:06:48,915 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 16:06:49,226 - INFO - MainProcess - [Task-64739bde-ea7f-4553-a9c0-4a9047c13c51] Chunk 2 sent to stream queue.
2025-08-01 16:06:49,505 - INFO - MainProcess - [Task-64739bde-ea7f-4553-a9c0-4a9047c13c51] Chunk 3 sent to stream queue.
2025-08-01 16:06:49,914 - INFO - MainProcess - [Task-64739bde-ea7f-4553-a9c0-4a9047c13c51] Chunk 4 sent to stream queue.
2025-08-01 16:06:50,287 - INFO - MainProcess - [Task-64739bde-ea7f-4553-a9c0-4a9047c13c51] Chunk 5 sent to stream queue.
2025-08-01 16:06:50,519 - INFO - MainProcess - [Task-64739bde-ea7f-4553-a9c0-4a9047c13c51] Chunk 6 sent to stream queue.
2025-08-01 16:06:50,519 - INFO - MainProcess - [Task-64739bde-ea7f-4553-a9c0-4a9047c13c51] All chunks processed and queued successfully.
2025-08-01 16:06:50,519 - INFO - MainProcess - [Task-64739bde-ea7f-4553-a9c0-4a9047c13c51] Processor thread finished and cleaned up.
2025-08-01 16:06:51,902 - INFO - MainProcess - >>>>>> Event: All formal tasks finished and queue drained. Switching back to IDLE. <<<<<<
2025-08-01 16:06:55,599 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-08-01 16:06:55,698 - INFO - MainProcess - [Task-1ddc6f9b-65f0-433e-82b6-236a05ccadae] Started processing. Expecting 4 chunks.
2025-08-01 16:06:55,698 - INFO - MainProcess - Task 1ddc6f9b-65f0-433e-82b6-236a05ccadae has been started in the background.
2025-08-01 16:06:55,913 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 16:06:55] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 16:07:00,126 - INFO - MainProcess - [Task-1ddc6f9b-65f0-433e-82b6-236a05ccadae] Chunk 0 sent to stream queue.
2025-08-01 16:07:00,491 - INFO - MainProcess - [Task-1ddc6f9b-65f0-433e-82b6-236a05ccadae] Chunk 1 sent to stream queue.
2025-08-01 16:07:00,513 - INFO - MainProcess - >>>>>> Event: A formal task is starting. Initiating crossfade. <<<<<<
2025-08-01 16:07:00,514 - INFO - MainProcess - Clearing media buffer queue (size: 5)...
2025-08-01 16:07:00,515 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 16:07:00,770 - INFO - MainProcess - [Task-1ddc6f9b-65f0-433e-82b6-236a05ccadae] Chunk 2 sent to stream queue.
2025-08-01 16:07:01,014 - INFO - MainProcess - [Task-1ddc6f9b-65f0-433e-82b6-236a05ccadae] Chunk 3 sent to stream queue.
2025-08-01 16:07:01,015 - INFO - MainProcess - [Task-1ddc6f9b-65f0-433e-82b6-236a05ccadae] All chunks processed and queued successfully.
2025-08-01 16:07:01,015 - INFO - MainProcess - [Task-1ddc6f9b-65f0-433e-82b6-236a05ccadae] Processor thread finished and cleaned up.
2025-08-01 16:07:01,018 - INFO - MainProcess - >>>>>> Event: All formal tasks finished and queue drained. Switching back to IDLE. <<<<<<
2025-08-01 16:07:02,115 - INFO - MainProcess - Received new request for audio: 4s_Wavfile_1719704064_11.wav. Preparing tasks...
2025-08-01 16:07:02,204 - INFO - MainProcess - [Task-730ba350-5f48-46e7-9f0b-b711b23c54c3] Started processing. Expecting 4 chunks.
2025-08-01 16:07:02,204 - INFO - MainProcess - Task 730ba350-5f48-46e7-9f0b-b711b23c54c3 has been started in the background.
2025-08-01 16:07:02,205 - INFO - MainProcess - 127.0.0.1 - - [01/Aug/2025 16:07:02] "POST /generate_video HTTP/1.1" 200 -
2025-08-01 16:07:06,598 - INFO - MainProcess - [Task-730ba350-5f48-46e7-9f0b-b711b23c54c3] Chunk 0 sent to stream queue.
2025-08-01 16:07:07,112 - INFO - MainProcess - [Task-730ba350-5f48-46e7-9f0b-b711b23c54c3] Chunk 1 sent to stream queue.
2025-08-01 16:07:07,112 - INFO - MainProcess - >>>>>> Event: A formal task is starting. Initiating crossfade. <<<<<<
2025-08-01 16:07:07,114 - INFO - MainProcess - Clearing media buffer queue (size: 5)...
2025-08-01 16:07:07,115 - INFO - MainProcess - Media buffer queue cleared.
2025-08-01 16:07:07,364 - INFO - MainProcess - [Task-730ba350-5f48-46e7-9f0b-b711b23c54c3] Chunk 2 sent to stream queue.
2025-08-01 16:07:07,598 - INFO - MainProcess - [Task-730ba350-5f48-46e7-9f0b-b711b23c54c3] Chunk 3 sent to stream queue.
2025-08-01 16:07:07,598 - INFO - MainProcess - [Task-730ba350-5f48-46e7-9f0b-b711b23c54c3] All chunks processed and queued successfully.
2025-08-01 16:07:07,598 - INFO - MainProcess - [Task-730ba350-5f48-46e7-9f0b-b711b23c54c3] Processor thread finished and cleaned up.
2025-08-01 16:07:07,600 - INFO - MainProcess - >>>>>> Event: All formal tasks finished and queue drained. Switching back to IDLE. <<<<<<
2025-08-01 18:00:38,655 - ERROR - MainProcess - Video pipe write error: [Errno 32] Broken pipe
2025-08-01 18:00:38,655 - ERROR - MainProcess - Audio pipe write error: [Errno 32] Broken pipe
2025-08-01 18:00:38,656 - INFO - MainProcess - Video writer thread finished.
2025-08-01 18:00:38,656 - INFO - MainProcess - Audio writer thread finished.
2025-08-01 18:00:45,732 - INFO - MainProcess - Starting Flask service...
2025-08-01 18:00:45,732 - INFO - MainProcess - Loading models and creating worker pool...
2025-08-01 18:00:45,732 - INFO - MainProcess - Loading configuration file...
2025-08-01 18:00:45,745 - INFO - MainProcess - Configuration loaded from: configs/unet/second_stage.yaml
2025-08-01 18:00:45,745 - INFO - MainProcess - Loading model components...
2025-08-01 18:00:56,968 - INFO - MainProcess - All components loaded successfully.
2025-08-01 18:00:56,968 - INFO - MainProcess - Creating and initializing the main pipeline...
2025-08-01 18:00:57,059 - INFO - MainProcess - Pipeline initialized on cuda:0.
2025-08-01 18:00:57,059 - INFO - MainProcess - Preprocessing video file: assets/video/10s_girl_0729_00_formal.mp4...
2025-08-01 18:01:19,845 - INFO - MainProcess - Video preprocessed successfully. Found 252 frames/faces.
2025-08-01 18:01:19,847 - INFO - MainProcess - Creating and initializing a persistent pool of 8 GPU workers...
2025-08-01 18:01:19,875 - INFO - MainProcess - GPU worker pool has been successfully initialized and models are loaded.
2025-08-01 18:01:19,996 - INFO - MainProcess - Models and worker pool loaded successfully.
2025-08-01 18:01:19,998 - INFO - MainProcess - Detected target stream resolution from source video: 832x1248
2025-08-01 18:01:19,998 - INFO - MainProcess - Loading and preprocessing idle video from: assets/video/18s_GirlMuseum_0730.mp4
2025-08-01 18:01:23,202 - INFO - MainProcess - Processing 450 idle frames to match target resolution 832x1248
2025-08-01 18:01:24,280 - INFO - MainProcess - Idle stream queue populated with 18 chunks.
2025-08-01 18:01:24,281 - INFO - MainProcess - Starting the Streaming Controller...
2025-08-01 18:01:24,282 - INFO - MainProcess - Setting up named pipes (FIFOs)...
2025-08-01 18:01:24,282 - INFO - MainProcess - Streaming Controller started, pushing idle stream.
2025-08-01 18:01:24,289 - INFO - MainProcess - Flask service started. Listening on http://0.0.0.0:11001
2025-08-01 18:01:24,290 - INFO - MainProcess - Starting FFmpeg to read from named pipes...
2025-08-01 18:01:24,293 - INFO - MainProcess - Media dispatcher thread started.
2025-08-01 18:01:24,296 - INFO - MainProcess - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:11001
 * Running on http://172.17.3.51:11001
2025-08-01 18:01:24,296 - INFO - MainProcess - [33mPress CTRL+C to quit[0m
2025-08-01 18:01:24,319 - INFO - MainProcess - Video pipe opened for writing.
2025-08-01 18:01:24,325 - INFO - MainProcess - Audio pipe opened for writing.
